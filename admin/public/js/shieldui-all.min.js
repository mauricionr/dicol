/* Shield UI 1.6.4 Trial Version | Copyright 2013-2014 Shield UI Ltd. | www.shieldui.com/eula */
function a(b){this.ok=!1,"#"==b.charAt(0)&&(b=b.substr(1,6)),b=b.replace(/ /g,""),b=b.toLowerCase();var e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var f in e)b==f&&(b=e[f]);for(var c=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],d=0;d<c.length;d++){var h=c[d].re,i=c[d].process,g=h.exec(b);g&&(channels=i(g),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),b=this.g.toString(16),c=this.b.toString(16);return 1==a.length&&(a="0"+a),1==b.length&&(b="0"+b),1==c.length&&(c="0"+c),"#"+a+b+c},this.getHelpXML=function(){for(var b=new Array,d=0;d<c.length;d++)for(var k=c[d].example,g=0;g<k.length;g++)b[b.length]=k[g];for(var l in e)b[b.length]=l;var h=document.createElement("ul");h.setAttribute("id","rgbcolor-examples");for(var d=0;d<b.length;d++)try{var j=document.createElement("li"),f=new a(b[d]),i=document.createElement("div");i.style.cssText="margin: 3px; border: 1px solid black; background:"+f.toHex()+"; color:"+f.toHex(),i.appendChild(document.createTextNode("test"));var m=document.createTextNode(" "+b[d]+" -> "+f.toRGB()+" -> "+f.toHex());j.appendChild(i),j.appendChild(m),h.appendChild(j)}catch(n){}return h}}!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){function e(h){var i,d=h||window.event,l=[].slice.call(arguments,1),e=0,f=0,g=0,j=0,k=0;return h=a.event.fix(d),h.type="mousewheel",d.wheelDelta&&(e=d.wheelDelta),d.detail&&(e=-1*d.detail),d.deltaY&&(g=-1*d.deltaY,e=g),d.deltaX&&(f=d.deltaX,e=-1*f),void 0!==d.wheelDeltaY&&(g=d.wheelDeltaY),void 0!==d.wheelDeltaX&&(f=-1*d.wheelDeltaX),j=Math.abs(e),(!c||c>j)&&(c=j),k=Math.max(Math.abs(g),Math.abs(f)),(!b||b>k)&&(b=k),i=e>0?"floor":"ceil",e=Math[i](e/c),f=Math[i](f/b),g=Math[i](g/b),l.unshift(h,e,f,g),(a.event.dispatch||a.event.handle).apply(this,l)}var c,b,f=["wheel","mousewheel","DOMMouseScroll"],d="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];if(a.event.fixHooks)for(var g=f.length;g;)a.event.fixHooks[f[--g]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=d.length;a;)this.addEventListener(d[--a],e,!1);else this.onmousewheel=e},teardown:function(){if(this.removeEventListener)for(var a=d.length;a;)this.removeEventListener(d[--a],e,!1);else this.onmousewheel=null}},a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}),function(){function b(){var b={};return b.FRAMERATE=30,b.MAX_VIRTUAL_PIXELS=3e4,b.init=function(a){b.Definitions={},b.Styles={},b.Animations=[],b.Images=[],b.ctx=a,b.ViewPort=new function(){this.viewPorts=[],this.Clear=function(){this.viewPorts=[]},this.SetCurrent=function(a,b){this.viewPorts.push({width:a,height:b})},this.RemoveCurrent=function(){this.viewPorts.pop()},this.Current=function(){return this.viewPorts[this.viewPorts.length-1]},this.width=function(){return this.Current().width},this.height=function(){return this.Current().height},this.ComputeSize=function(a){return null!=a&&"number"==typeof a?a:"x"==a?this.width():"y"==a?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}},b.init(),b.ImagesLoaded=function(){for(var a=0;a<b.Images.length;a++)if(!b.Images[a].loaded)return!1;return!0},b.trim=function(a){return a.replace(/^\s+|\s+$/g,"")},b.compressSpaces=function(a){return a.replace(/[\s\r\t\n]+/gm," ")},b.ajax=function(b){var a;return a=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),a?(a.open("GET",b,!1),a.send(null),a.responseText):null},b.parseXml=function(a){if(window.DOMParser){var c=new DOMParser;return c.parseFromString(a,"text/xml")}a=a.replace(/<!DOCTYPE svg[^>]*>/,"");var b=new ActiveXObject("Microsoft.XMLDOM");return b.async="false",b.loadXML(a),b},b.Property=function(a,b){this.name=a,this.value=b},b.Property.prototype.getValue=function(){return this.value},b.Property.prototype.hasValue=function(){return null!=this.value&&""!==this.value},b.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var a=parseFloat(this.value);return(this.value+"").match(/%$/)&&(a/=100),a},b.Property.prototype.valueOrDefault=function(a){return this.hasValue()?this.value:a},b.Property.prototype.numValueOrDefault=function(a){return this.hasValue()?this.numValue():a},b.Property.prototype.addOpacity=function(d){var e=this.value;if(null!=d&&""!=d&&"string"==typeof this.value){var c=new a(this.value);c.ok&&(e="rgba("+c.r+", "+c.g+", "+c.b+", "+d+")")}return new b.Property(this.name,e)},b.Property.prototype.getDefinition=function(){var a=this.value.match(/#([^\)']+)/);return a&&(a=a[1]),a||(a=this.value),b.Definitions[a]},b.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")},b.Property.prototype.getFillStyleDefinition=function(c,d){var a=this.getDefinition();return null!=a&&a.createGradient?a.createGradient(b.ctx,c,d):null!=a&&a.createPattern?a.createPattern(b.ctx,c):null},b.Property.prototype.getDPI=function(){return 96},b.Property.prototype.getEM=function(d){var a=12,c=new b.Property("fontSize",b.Font.Parse(b.ctx.font).fontSize);return c.hasValue()&&(a=c.toPixels(d)),a},b.Property.prototype.getUnits=function(){var a=this.value+"";return a.replace(/[0-9\.\-]/g,"")},b.Property.prototype.toPixels=function(c,e){if(!this.hasValue())return 0;var a=this.value+"";if(a.match(/em$/))return this.numValue()*this.getEM(c);if(a.match(/ex$/))return this.numValue()*this.getEM(c)/2;if(a.match(/px$/))return this.numValue();if(a.match(/pt$/))return this.numValue()*this.getDPI(c)*(1/72);if(a.match(/pc$/))return 15*this.numValue();if(a.match(/cm$/))return this.numValue()*this.getDPI(c)/2.54;if(a.match(/mm$/))return this.numValue()*this.getDPI(c)/25.4;if(a.match(/in$/))return this.numValue()*this.getDPI(c);if(a.match(/%$/))return this.numValue()*b.ViewPort.ComputeSize(c);var d=this.numValue();return e&&1>d?d*b.ViewPort.ComputeSize(c):d},b.Property.prototype.toMilliseconds=function(){if(!this.hasValue())return 0;var a=this.value+"";return a.match(/s$/)?1e3*this.numValue():a.match(/ms$/)?this.numValue():this.numValue()},b.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var a=this.value+"";return a.match(/deg$/)?this.numValue()*(Math.PI/180):a.match(/grad$/)?this.numValue()*(Math.PI/200):a.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)},b.Font=new function(){this.Styles="normal|italic|oblique|inherit",this.Variants="normal|small-caps|inherit",this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit",this.CreateFont=function(d,e,f,g,h,c){var a=null!=c?this.Parse(c):this.CreateFont("","","","","",b.ctx.font);return{fontFamily:h||a.fontFamily,fontSize:g||a.fontSize,fontStyle:d||a.fontStyle,fontWeight:f||a.fontWeight,fontVariant:e||a.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var a=this;this.Parse=function(h){for(var f={},d=b.trim(b.compressSpaces(h||"")).split(" "),e={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1},g="",c=0;c<d.length;c++)e.fontStyle||-1==a.Styles.indexOf(d[c])?e.fontVariant||-1==a.Variants.indexOf(d[c])?e.fontWeight||-1==a.Weights.indexOf(d[c])?e.fontSize?"inherit"!=d[c]&&(g+=d[c]):("inherit"!=d[c]&&(f.fontSize=d[c].split("/")[0]),e.fontStyle=e.fontVariant=e.fontWeight=e.fontSize=!0):("inherit"!=d[c]&&(f.fontWeight=d[c]),e.fontStyle=e.fontVariant=e.fontWeight=!0):("inherit"!=d[c]&&(f.fontVariant=d[c]),e.fontStyle=e.fontVariant=!0):("inherit"!=d[c]&&(f.fontStyle=d[c]),e.fontStyle=!0);return""!=g&&(f.fontFamily=g),f}},b.ToNumberArray=function(d){for(var a=b.trim(b.compressSpaces((d||"").replace(/,/g," "))).split(" "),c=0;c<a.length;c++)a[c]=parseFloat(a[c]);return a},b.Point=function(a,b){this.x=a,this.y=b},b.Point.prototype.angleTo=function(a){return Math.atan2(a.y-this.y,a.x-this.x)},b.Point.prototype.applyTransform=function(a){var b=this.x*a[0]+this.y*a[2]+a[4],c=this.x*a[1]+this.y*a[3]+a[5];this.x=b,this.y=c},b.CreatePoint=function(c){var a=b.ToNumberArray(c);return new b.Point(a[0],a[1])},b.CreatePath=function(e){for(var c=b.ToNumberArray(e),d=[],a=0;a<c.length;a+=2)d.push(new b.Point(c[a],c[a+1]));return d},b.BoundingBox=function(a,b,c,d){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(a,b){null!=a&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=a,this.x2=a),a<this.x1&&(this.x1=a),a>this.x2&&(this.x2=a)),null!=b&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=b,this.y2=b),b<this.y1&&(this.y1=b),b>this.y2&&(this.y2=b))},this.addX=function(a){this.addPoint(a,null)},this.addY=function(a){this.addPoint(null,a)},this.addBoundingBox=function(a){this.addPoint(a.x1,a.y1),this.addPoint(a.x2,a.y2)},this.addQuadraticCurve=function(a,b,g,h,c,d){var e=a+2/3*(g-a),f=b+2/3*(h-b),i=e+1/3*(c-a),j=f+1/3*(d-b);this.addBezierCurve(a,b,e,i,f,j,c,d)},this.addBezierCurve=function(u,n,t,s,r,q,p,o){var b=[u,n],h=[t,s],k=[r,q],j=[p,o];for(this.addPoint(b[0],b[1]),this.addPoint(j[0],j[1]),i=0;1>=i;i++){var a=function(a){return Math.pow(1-a,3)*b[i]+3*Math.pow(1-a,2)*a*h[i]+3*(1-a)*Math.pow(a,2)*k[i]+Math.pow(a,3)*j[i]},c=6*b[i]-12*h[i]+6*k[i],g=-3*b[i]+9*h[i]-9*k[i]+3*j[i],m=3*h[i]-3*b[i];if(0!=g){var l=Math.pow(c,2)-4*m*g;if(!(0>l)){var f=(-c+Math.sqrt(l))/(2*g);f>0&&1>f&&(0==i&&this.addX(a(f)),1==i&&this.addY(a(f)));var e=(-c-Math.sqrt(l))/(2*g);e>0&&1>e&&(0==i&&this.addX(a(e)),1==i&&this.addY(a(e)))}}else{if(0==c)continue;var d=-m/c;d>0&&1>d&&(0==i&&this.addX(a(d)),1==i&&this.addY(a(d)))}}},this.isPointInBox=function(a,b){return this.x1<=a&&a<=this.x2&&this.y1<=b&&b<=this.y2},this.addPoint(a,b),this.addPoint(c,d)},b.Transform=function(g){var c=this;this.Type={},this.Type.translate=function(a){this.p=b.CreatePoint(a),this.apply=function(a){a.translate(this.p.x||0,this.p.y||0)},this.applyToPoint=function(a){a.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(c){var a=b.ToNumberArray(c);this.angle=new b.Property("angle",a[0]),this.cx=a[1]||0,this.cy=a[2]||0,this.apply=function(a){a.translate(this.cx,this.cy),a.rotate(this.angle.toRadians()),a.translate(-this.cx,-this.cy)},this.applyToPoint=function(b){var a=this.angle.toRadians();b.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),b.applyTransform([Math.cos(a),Math.sin(a),-Math.sin(a),Math.cos(a),0,0]),b.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(a){this.p=b.CreatePoint(a),this.apply=function(a){a.scale(this.p.x||1,this.p.y||this.p.x||1)},this.applyToPoint=function(a){a.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(a){this.m=b.ToNumberArray(a),this.apply=function(a){a.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.applyToPoint=function(a){a.applyTransform(this.m)}},this.Type.SkewBase=function(a){this.base=c.Type.matrix,this.base(a),this.angle=new b.Property("angle",a)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(a){this.base=c.Type.SkewBase,this.base(a),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(a){this.base=c.Type.SkewBase,this.base(a),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(b){for(var a=0;a<this.transforms.length;a++)this.transforms[a].apply(b)},this.applyToPoint=function(b){for(var a=0;a<this.transforms.length;a++)this.transforms[a].applyToPoint(b)};for(var d=b.trim(b.compressSpaces(g)).replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),a=0;a<d.length;a++){var e=d[a].split("(")[0],h=d[a].split("(")[1].replace(")",""),f=new this.Type[e](h);f.type=e,this.transforms.push(f)}},b.AspectRatio=function(d,h,n,k,o,j,q,p,l,m){h=b.compressSpaces(h),h=h.replace(/^defer\s/,"");var i=h.split(" ")[0]||"xMidYMid",a=h.split(" ")[1]||"meet",g=n/k,f=o/j,c=Math.min(g,f),e=Math.max(g,f);"meet"==a&&(k*=c,j*=c),"slice"==a&&(k*=e,j*=e),l=new b.Property("refX",l),m=new b.Property("refY",m),l.hasValue()&&m.hasValue()?d.translate(-c*l.toPixels("x"),-c*m.toPixels("y")):(i.match(/^xMid/)&&("meet"==a&&c==f||"slice"==a&&e==f)&&d.translate(n/2-k/2,0),i.match(/YMid$/)&&("meet"==a&&c==g||"slice"==a&&e==g)&&d.translate(0,o/2-j/2),i.match(/^xMax/)&&("meet"==a&&c==f||"slice"==a&&e==f)&&d.translate(n-k,0),i.match(/YMax$/)&&("meet"==a&&c==g||"slice"==a&&e==g)&&d.translate(0,o-j)),"none"==i?d.scale(g,f):"meet"==a?d.scale(c,c):"slice"==a&&d.scale(e,e),d.translate(null==q?0:-q,null==p?0:-p)},b.Element={},b.EmptyProperty=new b.Property("EMPTY",""),b.Element.ElementBase=function(e){if(this.attributes={},this.styles={},this.children=[],this.attribute=function(c,d){var a=this.attributes[c];return null!=a?a:(1==d&&(a=new b.Property(c,""),this.attributes[c]=a),a||b.EmptyProperty)},this.style=function(a,g){var c=this.styles[a];if(null!=c)return c;var d=this.attribute(a);if(null!=d&&d.hasValue())return this.styles[a]=d,d;var f=this.parent;if(null!=f){var e=f.style(a);if(null!=e&&e.hasValue())return e}return 1==g&&(c=new b.Property(a,""),this.styles[a]=c),c||b.EmptyProperty},this.render=function(a){if("none"!=this.style("display").value&&"hidden"!=this.attribute("visibility").value){if(a.save(),this.attribute("mask").hasValue()){var b=this.attribute("mask").getDefinition();null!=b&&b.apply(a,this)}else if(this.style("filter").hasValue()){var c=this.style("filter").getDefinition();null!=c&&c.apply(a,this)}else this.setContext(a),this.renderChildren(a),this.clearContext(a);a.restore()}},this.setContext=function(){},this.clearContext=function(){},this.renderChildren=function(b){for(var a=0;a<this.children.length;a++)this.children[a].render(b)},this.addChild=function(c,d){var a=c;d&&(a=b.CreateElement(c)),a.parent=this,this.children.push(a)},null!=e&&1==e.nodeType){for(var c=0;c<e.childNodes.length;c++){var f=e.childNodes[c];1==f.nodeType&&this.addChild(f,!0),this.captureTextNodes&&3==f.nodeType&&this.addChild(new b.Element.tspan(f),!1)}for(var c=0;c<e.attributes.length;c++){var h=e.attributes[c];this.attributes[h.nodeName]=new b.Property(h.nodeName,h.nodeValue)}var a=b.Styles[e.nodeName];if(null!=a)for(var d in a)this.styles[d]=a[d];if(this.attribute("class").hasValue())for(var i=b.compressSpaces(this.attribute("class").value).split(" "),g=0;g<i.length;g++){if(a=b.Styles["."+i[g]],null!=a)for(var d in a)this.styles[d]=a[d];if(a=b.Styles[e.nodeName+"."+i[g]],null!=a)for(var d in a)this.styles[d]=a[d]}if(this.attribute("id").hasValue()){var a=b.Styles["#"+this.attribute("id").value];if(null!=a)for(var d in a)this.styles[d]=a[d]}if(this.attribute("style").hasValue())for(var a=this.attribute("style").value.split(";"),c=0;c<a.length;c++)if(""!=b.trim(a[c])){var j=a[c].split(":"),d=b.trim(j[0]),k=b.trim(j[1]);this.styles[d]=new b.Property(d,k)}this.attribute("id").hasValue()&&null==b.Definitions[this.attribute("id").value]&&(b.Definitions[this.attribute("id").value]=this)}},b.Element.RenderedElementBase=function(a){this.base=b.Element.ElementBase,this.base(a),this.setContext=function(a){if(this.style("fill").isUrlDefinition()){var e=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity"));null!=e&&(a.fillStyle=e)}else if(this.style("fill").hasValue()){var c=this.style("fill");"currentColor"==c.value&&(c.value=this.style("color").value),a.fillStyle="none"==c.value?"rgba(0,0,0,0)":c.value}if(this.style("fill-opacity").hasValue()){var c=new b.Property("fill",a.fillStyle);c=c.addOpacity(this.style("fill-opacity").value),a.fillStyle=c.value}if(this.style("stroke").isUrlDefinition()){var e=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity"));null!=e&&(a.strokeStyle=e)}else if(this.style("stroke").hasValue()){var d=this.style("stroke");"currentColor"==d.value&&(d.value=this.style("color").value),a.strokeStyle="none"==d.value?"rgba(0,0,0,0)":d.value}if(this.style("stroke-opacity").hasValue()){var d=new b.Property("stroke",a.strokeStyle);d=d.addOpacity(this.style("stroke-opacity").value),a.strokeStyle=d.value}if(this.style("stroke-width").hasValue()){var f=this.style("stroke-width").toPixels();a.lineWidth=0==f?.001:f}if(this.style("stroke-linecap").hasValue()&&(a.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(a.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(a.miterLimit=this.style("stroke-miterlimit").value),"undefined"!=typeof a.font&&(a.font=b.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString()),this.attribute("transform").hasValue()){var h=new b.Transform(this.attribute("transform").value);h.apply(a)}if(this.attribute("clip-path").hasValue()){var g=this.attribute("clip-path").getDefinition();null!=g&&g.apply(a)}this.style("opacity").hasValue()&&(a.globalAlpha=this.style("opacity").numValue())}},b.Element.RenderedElementBase.prototype=new b.Element.ElementBase,b.Element.PathElementBase=function(a){this.base=b.Element.RenderedElementBase,this.base(a),this.path=function(a){return null!=a&&a.beginPath(),new b.BoundingBox},this.renderChildren=function(c){this.path(c),b.Mouse.checkPath(this,c),""!=c.fillStyle&&c.fill(),""!=c.strokeStyle&&c.stroke();var a=this.getMarkers();if(null!=a){if(this.style("marker-start").isUrlDefinition()){var e=this.style("marker-start").getDefinition();e.render(c,a[0][0],a[0][1])}if(this.style("marker-mid").isUrlDefinition())for(var e=this.style("marker-mid").getDefinition(),d=1;d<a.length-1;d++)e.render(c,a[d][0],a[d][1]);if(this.style("marker-end").isUrlDefinition()){var e=this.style("marker-end").getDefinition();e.render(c,a[a.length-1][0],a[a.length-1][1])}}},this.getBoundingBox=function(){return this.path()},this.getMarkers=function(){return null}},b.Element.PathElementBase.prototype=new b.Element.RenderedElementBase,b.Element.svg=function(a){this.base=b.Element.RenderedElementBase,this.base(a),this.baseClearContext=this.clearContext,this.clearContext=function(a){this.baseClearContext(a),b.ViewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(a){a.strokeStyle="rgba(0,0,0,0)",a.lineCap="butt",a.lineJoin="miter",a.miterLimit=4,this.baseSetContext(a),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),a.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var c=b.ViewPort.width(),d=b.ViewPort.height();if(this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),"undefined"==typeof this.root){c=this.attribute("width").toPixels("x"),d=this.attribute("height").toPixels("y");var f=0,g=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(f=-this.attribute("refX").toPixels("x"),g=-this.attribute("refY").toPixels("y")),a.beginPath(),a.moveTo(f,g),a.lineTo(c,g),a.lineTo(c,d),a.lineTo(f,d),a.closePath(),a.clip()}if(b.ViewPort.SetCurrent(c,d),this.attribute("viewBox").hasValue()){var e=b.ToNumberArray(this.attribute("viewBox").value),h=e[0],i=e[1];c=e[2],d=e[3],b.AspectRatio(a,this.attribute("preserveAspectRatio").value,b.ViewPort.width(),c,b.ViewPort.height(),d,h,i,this.attribute("refX").value,this.attribute("refY").value),b.ViewPort.RemoveCurrent(),b.ViewPort.SetCurrent(e[2],e[3])}}},b.Element.svg.prototype=new b.Element.RenderedElementBase,b.Element.rect=function(a){this.base=b.Element.PathElementBase,this.base(a),this.path=function(d){var a=this.attribute("x").toPixels("x"),c=this.attribute("y").toPixels("y"),f=this.attribute("width").toPixels("x"),g=this.attribute("height").toPixels("y"),e=this.attribute("rx").toPixels("x"),h=this.attribute("ry").toPixels("y");return this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(h=e),this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(e=h),e=Math.min(e,f/2),h=Math.min(h,g/2),null!=d&&(d.beginPath(),d.moveTo(a+e,c),d.lineTo(a+f-e,c),d.quadraticCurveTo(a+f,c,a+f,c+h),d.lineTo(a+f,c+g-h),d.quadraticCurveTo(a+f,c+g,a+f-e,c+g),d.lineTo(a+e,c+g),d.quadraticCurveTo(a,c+g,a,c+g-h),d.lineTo(a,c+h),d.quadraticCurveTo(a,c,a+e,c),d.closePath()),new b.BoundingBox(a,c,a+f,c+g)}},b.Element.rect.prototype=new b.Element.PathElementBase,b.Element.circle=function(a){this.base=b.Element.PathElementBase,this.base(a),this.path=function(c){var d=this.attribute("cx").toPixels("x"),e=this.attribute("cy").toPixels("y"),a=this.attribute("r").toPixels();return null!=c&&(c.beginPath(),c.arc(d,e,a,0,2*Math.PI,!0),c.closePath()),new b.BoundingBox(d-a,e-a,d+a,e+a)}},b.Element.circle.prototype=new b.Element.PathElementBase,b.Element.ellipse=function(a){this.base=b.Element.PathElementBase,this.base(a),this.path=function(f){var g=4*((Math.sqrt(2)-1)/3),e=this.attribute("rx").toPixels("x"),d=this.attribute("ry").toPixels("y"),a=this.attribute("cx").toPixels("x"),c=this.attribute("cy").toPixels("y");return null!=f&&(f.beginPath(),f.moveTo(a,c-d),f.bezierCurveTo(a+g*e,c-d,a+e,c-g*d,a+e,c),f.bezierCurveTo(a+e,c+g*d,a+g*e,c+d,a,c+d),f.bezierCurveTo(a-g*e,c+d,a-e,c+g*d,a-e,c),f.bezierCurveTo(a-e,c-g*d,a-g*e,c-d,a,c-d),f.closePath()),new b.BoundingBox(a-e,c-d,a+e,c+d)}},b.Element.ellipse.prototype=new b.Element.PathElementBase,b.Element.line=function(a){this.base=b.Element.PathElementBase,this.base(a),this.getPoints=function(){return[new b.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new b.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]},this.path=function(c){var a=this.getPoints();return null!=c&&(c.beginPath(),c.moveTo(a[0].x,a[0].y),c.lineTo(a[1].x,a[1].y)),new b.BoundingBox(a[0].x,a[0].y,a[1].x,a[1].y)},this.getMarkers=function(){var a=this.getPoints(),b=a[0].angleTo(a[1]);return[[a[0],b],[a[1],b]]}},b.Element.line.prototype=new b.Element.PathElementBase,b.Element.polyline=function(a){this.base=b.Element.PathElementBase,this.base(a),this.points=b.CreatePath(this.attribute("points").value),this.path=function(c){var d=new b.BoundingBox(this.points[0].x,this.points[0].y);null!=c&&(c.beginPath(),c.moveTo(this.points[0].x,this.points[0].y));for(var a=1;a<this.points.length;a++)d.addPoint(this.points[a].x,this.points[a].y),null!=c&&c.lineTo(this.points[a].x,this.points[a].y);return d},this.getMarkers=function(){for(var a=[],b=0;b<this.points.length-1;b++)a.push([this.points[b],this.points[b].angleTo(this.points[b+1])]);return a.push([this.points[this.points.length-1],a[a.length-1][1]]),a}},b.Element.polyline.prototype=new b.Element.PathElementBase,b.Element.polygon=function(a){this.base=b.Element.polyline,this.base(a),this.basePath=this.path,this.path=function(a){var b=this.basePath(a);return null!=a&&(a.lineTo(this.points[0].x,this.points[0].y),a.closePath()),b}},b.Element.polygon.prototype=new b.Element.polyline,b.Element.path=function(c){this.base=b.Element.PathElementBase,this.base(c);var a=this.attribute("d").value;a=a.replace(/,/gm," "),a=a.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),a=a.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),a=a.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2"),a=a.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),a=a.replace(/([0-9])([+\-])/gm,"$1 $2"),a=a.replace(/(\.[0-9]*)(\.)/gm,"$1 $2"),a=a.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),a=b.compressSpaces(a),a=b.trim(a),this.PathParser=new function(a){this.tokens=a.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new b.Point(0,0),this.control=new b.Point(0,0),this.current=new b.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return this.isEnd()?!0:null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var a=new b.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(a)},this.getAsControlPoint=function(){var a=this.getPoint();return this.control=a,a},this.getAsCurrentPoint=function(){var a=this.getPoint();return this.current=a,a},this.getReflectedControlPoint=function(){if("c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase())return this.current;var a=new b.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y);return a},this.makeAbsolute=function(a){return this.isRelativeCommand()&&(a.x+=this.current.x,a.y+=this.current.y),a},this.addMarker=function(a,b,c){null!=c&&this.angles.length>0&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(c)),this.addMarkerAngle(a,null==b?null:b.angleTo(a))},this.addMarkerAngle=function(a,b){this.points.push(a),this.angles.push(b)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var a=0;a<this.angles.length;a++)if(null==this.angles[a])for(var b=a+1;b<this.angles.length;b++)if(null!=this.angles[b]){this.angles[a]=this.angles[b];break}return this.angles}}(a),this.path=function(c){var a=this.PathParser;a.reset();var k=new b.BoundingBox;for(null!=c&&c.beginPath();!a.isEnd();)switch(a.nextCommand(),a.command){case"M":case"m":var h=a.getAsCurrentPoint();for(a.addMarker(h),k.addPoint(h.x,h.y),null!=c&&c.moveTo(h.x,h.y),a.start=a.current;!a.isCommandOrEnd();){var h=a.getAsCurrentPoint();a.addMarker(h,a.start),k.addPoint(h.x,h.y),null!=c&&c.lineTo(h.x,h.y)}break;case"L":case"l":for(;!a.isCommandOrEnd();){var F=a.current,h=a.getAsCurrentPoint();a.addMarker(h,F),k.addPoint(h.x,h.y),null!=c&&c.lineTo(h.x,h.y)}break;case"H":case"h":for(;!a.isCommandOrEnd();){var r=new b.Point((a.isRelativeCommand()?a.current.x:0)+a.getScalar(),a.current.y);a.addMarker(r,a.current),a.current=r,k.addPoint(a.current.x,a.current.y),null!=c&&c.lineTo(a.current.x,a.current.y)}break;case"V":case"v":for(;!a.isCommandOrEnd();){var r=new b.Point(a.current.x,(a.isRelativeCommand()?a.current.y:0)+a.getScalar());a.addMarker(r,a.current),a.current=r,k.addPoint(a.current.x,a.current.y),null!=c&&c.lineTo(a.current.x,a.current.y)}break;case"C":case"c":for(;!a.isCommandOrEnd();){var j=a.current,n=a.getPoint(),e=a.getAsControlPoint(),d=a.getAsCurrentPoint();a.addMarker(d,e,n),k.addBezierCurve(j.x,j.y,n.x,n.y,e.x,e.y,d.x,d.y),null!=c&&c.bezierCurveTo(n.x,n.y,e.x,e.y,d.x,d.y)}break;case"S":case"s":for(;!a.isCommandOrEnd();){var j=a.current,n=a.getReflectedControlPoint(),e=a.getAsControlPoint(),d=a.getAsCurrentPoint();a.addMarker(d,e,n),k.addBezierCurve(j.x,j.y,n.x,n.y,e.x,e.y,d.x,d.y),null!=c&&c.bezierCurveTo(n.x,n.y,e.x,e.y,d.x,d.y)}break;case"Q":case"q":for(;!a.isCommandOrEnd();){var j=a.current,e=a.getAsControlPoint(),d=a.getAsCurrentPoint();a.addMarker(d,e,e),k.addQuadraticCurve(j.x,j.y,e.x,e.y,d.x,d.y),null!=c&&c.quadraticCurveTo(e.x,e.y,d.x,d.y)}break;case"T":case"t":for(;!a.isCommandOrEnd();){var j=a.current,e=a.getReflectedControlPoint();a.control=e;var d=a.getAsCurrentPoint();a.addMarker(d,e,e),k.addQuadraticCurve(j.x,j.y,e.x,e.y,d.x,d.y),null!=c&&c.quadraticCurveTo(e.x,e.y,d.x,d.y)}break;case"A":case"a":for(;!a.isCommandOrEnd();){var j=a.current,f=a.getScalar(),g=a.getScalar(),m=a.getScalar()*(Math.PI/180),E=a.getScalar(),v=a.getScalar(),d=a.getAsCurrentPoint(),i=new b.Point(Math.cos(m)*(j.x-d.x)/2+Math.sin(m)*(j.y-d.y)/2,-Math.sin(m)*(j.x-d.x)/2+Math.cos(m)*(j.y-d.y)/2),w=Math.pow(i.x,2)/Math.pow(f,2)+Math.pow(i.y,2)/Math.pow(g,2);w>1&&(f*=Math.sqrt(w),g*=Math.sqrt(w));var q=(E==v?-1:1)*Math.sqrt((Math.pow(f,2)*Math.pow(g,2)-Math.pow(f,2)*Math.pow(i.y,2)-Math.pow(g,2)*Math.pow(i.x,2))/(Math.pow(f,2)*Math.pow(i.y,2)+Math.pow(g,2)*Math.pow(i.x,2)));isNaN(q)&&(q=0);var l=new b.Point(q*f*i.y/g,q*-g*i.x/f),o=new b.Point((j.x+d.x)/2+Math.cos(m)*l.x-Math.sin(m)*l.y,(j.y+d.y)/2+Math.sin(m)*l.x+Math.cos(m)*l.y),B=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2))},t=function(a,b){return(a[0]*b[0]+a[1]*b[1])/(B(a)*B(b))
},A=function(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(t(a,b))},y=A([1,0],[(i.x-l.x)/f,(i.y-l.y)/g]),z=[(i.x-l.x)/f,(i.y-l.y)/g],x=[(-i.x-l.x)/f,(-i.y-l.y)/g],s=A(z,x);t(z,x)<=-1&&(s=Math.PI),t(z,x)>=1&&(s=0);var u=1-v?1:-1,p=y+u*(s/2),G=new b.Point(o.x+f*Math.cos(p),o.y+g*Math.sin(p));if(a.addMarkerAngle(G,p-u*Math.PI/2),a.addMarkerAngle(d,p-u*Math.PI),k.addPoint(d.x,d.y),null!=c){var t=f>g?f:g,C=f>g?1:f/g,D=f>g?g/f:1;c.translate(o.x,o.y),c.rotate(m),c.scale(C,D),c.arc(0,0,t,y,y+s,1-v),c.scale(1/C,1/D),c.rotate(-m),c.translate(-o.x,-o.y)}}break;case"Z":case"z":null!=c&&c.closePath(),a.current=a.start}return k},this.getMarkers=function(){for(var b=this.PathParser.getMarkerPoints(),d=this.PathParser.getMarkerAngles(),c=[],a=0;a<b.length;a++)c.push([b[a],d[a]]);return c}},b.Element.path.prototype=new b.Element.PathElementBase,b.Element.pattern=function(a){this.base=b.Element.ElementBase,this.base(a),this.createPattern=function(i){var g=this.attribute("width").toPixels("x",!0),h=this.attribute("height").toPixels("y",!0),a=new b.Element.svg;a.attributes.viewBox=new b.Property("viewBox",this.attribute("viewBox").value),a.attributes.width=new b.Property("width",g+"px"),a.attributes.height=new b.Property("height",h+"px"),a.attributes.transform=new b.Property("transform",this.attribute("patternTransform").value),a.children=this.children;var c=document.createElement("canvas");c.width=g,c.height=h;var d=c.getContext("2d");this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&d.translate(this.attribute("x").toPixels("x",!0),this.attribute("y").toPixels("y",!0));for(var e=-1;1>=e;e++)for(var f=-1;1>=f;f++)d.save(),d.translate(e*c.width,f*c.height),a.render(d),d.restore();var j=i.createPattern(c,"repeat");return j}},b.Element.pattern.prototype=new b.Element.ElementBase,b.Element.marker=function(a){this.base=b.Element.ElementBase,this.base(a),this.baseRender=this.render,this.render=function(a,d,e){a.translate(d.x,d.y),"auto"==this.attribute("orient").valueOrDefault("auto")&&a.rotate(e),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&a.scale(a.lineWidth,a.lineWidth),a.save();var c=new b.Element.svg;c.attributes.viewBox=new b.Property("viewBox",this.attribute("viewBox").value),c.attributes.refX=new b.Property("refX",this.attribute("refX").value),c.attributes.refY=new b.Property("refY",this.attribute("refY").value),c.attributes.width=new b.Property("width",this.attribute("markerWidth").value),c.attributes.height=new b.Property("height",this.attribute("markerHeight").value),c.attributes.fill=new b.Property("fill",this.attribute("fill").valueOrDefault("black")),c.attributes.stroke=new b.Property("stroke",this.attribute("stroke").valueOrDefault("none")),c.children=this.children,c.render(a),a.restore(),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&a.scale(1/a.lineWidth,1/a.lineWidth),"auto"==this.attribute("orient").valueOrDefault("auto")&&a.rotate(-e),a.translate(-d.x,-d.y)}},b.Element.marker.prototype=new b.Element.ElementBase,b.Element.defs=function(a){this.base=b.Element.ElementBase,this.base(a),this.render=function(){}},b.Element.defs.prototype=new b.Element.ElementBase,b.Element.GradientBase=function(d){this.base=b.Element.ElementBase,this.base(d),this.gradientUnits=this.attribute("gradientUnits").valueOrDefault("objectBoundingBox"),this.stops=[];for(var a=0;a<this.children.length;a++){var c=this.children[a];"stop"==c.type&&this.stops.push(c)}this.getGradient=function(){},this.createGradient=function(n,m,l){var a=this;this.attribute("xlink:href").hasValue()&&(a=this.attribute("xlink:href").getDefinition());var k=function(a){if(l.hasValue()){var c=new b.Property("color",a);return c.addOpacity(l.value).value}return a},g=this.getGradient(n,m);if(null==g)return k(a.stops[a.stops.length-1].color);for(var e=0;e<a.stops.length;e++)g.addColorStop(a.stops[e].offset,k(a.stops[e].color));if(this.attribute("gradientTransform").hasValue()){var h=b.ViewPort.viewPorts[0],d=new b.Element.rect;d.attributes.x=new b.Property("x",-b.MAX_VIRTUAL_PIXELS/3),d.attributes.y=new b.Property("y",-b.MAX_VIRTUAL_PIXELS/3),d.attributes.width=new b.Property("width",b.MAX_VIRTUAL_PIXELS),d.attributes.height=new b.Property("height",b.MAX_VIRTUAL_PIXELS);var j=new b.Element.g;j.attributes.transform=new b.Property("transform",this.attribute("gradientTransform").value),j.children=[d];var c=new b.Element.svg;c.attributes.x=new b.Property("x",0),c.attributes.y=new b.Property("y",0),c.attributes.width=new b.Property("width",h.width),c.attributes.height=new b.Property("height",h.height),c.children=[j];var f=document.createElement("canvas");f.width=h.width,f.height=h.height;var i=f.getContext("2d");return i.fillStyle=g,c.render(i),i.createPattern(f,"no-repeat")}return g}},b.Element.GradientBase.prototype=new b.Element.ElementBase,b.Element.linearGradient=function(a){this.base=b.Element.GradientBase,this.base(a),this.getGradient=function(f,g){var a=g.getBoundingBox();this.attribute("x1").hasValue()||this.attribute("y1").hasValue()||this.attribute("x2").hasValue()||this.attribute("y2").hasValue()||(this.attribute("x1",!0).value=0,this.attribute("y1",!0).value=0,this.attribute("x2",!0).value=1,this.attribute("y2",!0).value=0);var b="objectBoundingBox"==this.gradientUnits?a.x()+a.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),c="objectBoundingBox"==this.gradientUnits?a.y()+a.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),d="objectBoundingBox"==this.gradientUnits?a.x()+a.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),e="objectBoundingBox"==this.gradientUnits?a.y()+a.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");return b==d&&c==e?null:f.createLinearGradient(b,c,d,e)}},b.Element.linearGradient.prototype=new b.Element.GradientBase,b.Element.radialGradient=function(a){this.base=b.Element.GradientBase,this.base(a),this.getGradient=function(f,g){var a=g.getBoundingBox();this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%"),this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%"),this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%");var b="objectBoundingBox"==this.gradientUnits?a.x()+a.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"),c="objectBoundingBox"==this.gradientUnits?a.y()+a.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),d=b,e=c;this.attribute("fx").hasValue()&&(d="objectBoundingBox"==this.gradientUnits?a.x()+a.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x")),this.attribute("fy").hasValue()&&(e="objectBoundingBox"==this.gradientUnits?a.y()+a.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"));var h="objectBoundingBox"==this.gradientUnits?(a.width()+a.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels();return f.createRadialGradient(d,e,0,b,c,h)}},b.Element.radialGradient.prototype=new b.Element.GradientBase,b.Element.stop=function(c){this.base=b.Element.ElementBase,this.base(c),this.offset=this.attribute("offset").numValue(),this.offset<0&&(this.offset=0),this.offset>1&&(this.offset=1);var a=this.style("stop-color");this.style("stop-opacity").hasValue()&&(a=a.addOpacity(this.style("stop-opacity").value)),this.color=a.value},b.Element.stop.prototype=new b.Element.ElementBase,b.Element.AnimateBase=function(a){this.base=b.Element.ElementBase,this.base(a),b.Animations.push(this),this.duration=0,this.begin=this.attribute("begin").toMilliseconds(),this.maxDuration=this.begin+this.attribute("dur").toMilliseconds(),this.getProperty=function(){var b=this.attribute("attributeType").value,a=this.attribute("attributeName").value;return"CSS"==b?this.parent.style(a,!0):this.parent.attribute(a,!0)},this.initialValue=null,this.initialUnits="",this.removed=!1,this.calcValue=function(){return""},this.update=function(c){if(null==this.initialValue&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits()),this.duration>this.maxDuration){if("indefinite"!=this.attribute("repeatCount").value&&"indefinite"!=this.attribute("repeatDur").value)return"remove"!=this.attribute("fill").valueOrDefault("remove")||this.removed?!1:(this.removed=!0,this.getProperty().value=this.initialValue,!0);this.duration=0}this.duration=this.duration+c;var b=!1;if(this.begin<this.duration){var a=this.calcValue();if(this.attribute("type").hasValue()){var d=this.attribute("type").value;a=d+"("+a+")"}this.getProperty().value=a,b=!0}return b},this.from=this.attribute("from"),this.to=this.attribute("to"),this.values=this.attribute("values"),this.values.hasValue()&&(this.values.value=this.values.value.split(";")),this.progress=function(){var a={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var c=a.progress*(this.values.value.length-1),d=Math.floor(c),e=Math.ceil(c);a.from=new b.Property("from",parseFloat(this.values.value[d])),a.to=new b.Property("to",parseFloat(this.values.value[e])),a.progress=(c-d)/(e-d)}else a.from=this.from,a.to=this.to;return a}},b.Element.AnimateBase.prototype=new b.Element.ElementBase,b.Element.animate=function(a){this.base=b.Element.AnimateBase,this.base(a),this.calcValue=function(){var a=this.progress(),b=a.from.numValue()+(a.to.numValue()-a.from.numValue())*a.progress;return b+this.initialUnits}},b.Element.animate.prototype=new b.Element.AnimateBase,b.Element.animateColor=function(c){this.base=b.Element.AnimateBase,this.base(c),this.calcValue=function(){var c=this.progress(),b=new a(c.from.value),d=new a(c.to.value);if(b.ok&&d.ok){var e=b.r+(d.r-b.r)*c.progress,f=b.g+(d.g-b.g)*c.progress,g=b.b+(d.b-b.b)*c.progress;return"rgb("+parseInt(e,10)+","+parseInt(f,10)+","+parseInt(g,10)+")"}return this.attribute("from").value}},b.Element.animateColor.prototype=new b.Element.AnimateBase,b.Element.animateTransform=function(a){this.base=b.Element.AnimateBase,this.base(a),this.calcValue=function(){for(var c=this.progress(),d=b.ToNumberArray(c.from.value),f=b.ToNumberArray(c.to.value),e="",a=0;a<d.length;a++)e+=d[a]+(f[a]-d[a])*c.progress+" ";return e}},b.Element.animateTransform.prototype=new b.Element.animate,b.Element.font=function(d){this.base=b.Element.ElementBase,this.base(d),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.isRTL=!1,this.isArabic=!1,this.fontFace=null,this.missingGlyph=null,this.glyphs=[];for(var c=0;c<this.children.length;c++){var a=this.children[c];"font-face"==a.type?(this.fontFace=a,a.style("font-family").hasValue()&&(b.Definitions[a.style("font-family").value]=this)):"missing-glyph"==a.type?this.missingGlyph=a:"glyph"==a.type&&(""!=a.arabicForm?(this.isRTL=!0,this.isArabic=!0,"undefined"==typeof this.glyphs[a.unicode]&&(this.glyphs[a.unicode]=[]),this.glyphs[a.unicode][a.arabicForm]=a):this.glyphs[a.unicode]=a)}},b.Element.font.prototype=new b.Element.ElementBase,b.Element.fontface=function(a){this.base=b.Element.ElementBase,this.base(a),this.ascent=this.attribute("ascent").value,this.descent=this.attribute("descent").value,this.unitsPerEm=this.attribute("units-per-em").numValue()},b.Element.fontface.prototype=new b.Element.ElementBase,b.Element.missingglyph=function(a){this.base=b.Element.path,this.base(a),this.horizAdvX=0},b.Element.missingglyph.prototype=new b.Element.path,b.Element.glyph=function(a){this.base=b.Element.path,this.base(a),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.unicode=this.attribute("unicode").value,this.arabicForm=this.attribute("arabic-form").value},b.Element.glyph.prototype=new b.Element.path,b.Element.text=function(a){this.captureTextNodes=!0,this.base=b.Element.RenderedElementBase,this.base(a),this.baseSetContext=this.setContext,this.setContext=function(a){this.baseSetContext(a),this.style("dominant-baseline").hasValue()&&(a.textBaseline=this.style("dominant-baseline").value),this.style("alignment-baseline").hasValue()&&(a.textBaseline=this.style("alignment-baseline").value)},this.renderChildren=function(b){this.textAnchor=this.style("text-anchor").valueOrDefault("start"),this.x=this.attribute("x").toPixels("x"),this.y=this.attribute("y").toPixels("y");for(var a=0;a<this.children.length;a++)this.renderChild(b,this,a)},this.renderChild=function(c,h,b){var a=h.children[b];a.attribute("x").hasValue()?a.x=a.attribute("x").toPixels("x"):(this.attribute("dx").hasValue()&&(this.y+=this.attribute("dx").toPixels("x")),a.attribute("dx").hasValue()&&(this.x+=a.attribute("dx").toPixels("x")),a.x=this.x);var f=a.measureText(c);if("start"!=this.textAnchor&&(0==b||a.attribute("x").hasValue())){for(var d=f,e=b+1;e<this.children.length;e++){var g=this.children[e];if(g.attribute("x").hasValue())break;d+=g.measureText(c)}a.x-="end"==this.textAnchor?d:d/2}this.x=a.x+f,a.attribute("y").hasValue()?a.y=a.attribute("y").toPixels("y"):(this.attribute("dy").hasValue()&&(this.y+=this.attribute("dy").toPixels("y")),a.attribute("dy").hasValue()&&(this.y+=a.attribute("dy").toPixels("y")),a.y=this.y),this.y=a.y,a.render(c);for(var b=0;b<a.children.length;b++)this.renderChild(c,a,b)}},b.Element.text.prototype=new b.Element.RenderedElementBase,b.Element.TextElementBase=function(a){this.base=b.Element.RenderedElementBase,this.base(a),this.getGlyph=function(c,b,a){var e=b[a],d=null;if(c.isArabic){var f="isolated";(0==a||" "==b[a-1])&&a<b.length-2&&" "!=b[a+1]&&(f="terminal"),a>0&&" "!=b[a-1]&&a<b.length-2&&" "!=b[a+1]&&(f="medial"),a>0&&" "!=b[a-1]&&(a==b.length-1||" "==b[a+1])&&(f="initial"),"undefined"!=typeof c.glyphs[e]&&(d=c.glyphs[e][f],null==d&&"glyph"==c.glyphs[e].type&&(d=c.glyphs[e]))}else d=c.glyphs[e];return null==d&&(d=c.missingGlyph),d},this.renderChildren=function(a){var c=this.parent.style("font-family").getDefinition();if(null==c)""!=a.fillStyle&&a.fillText(b.compressSpaces(this.getText()),this.x,this.y),""!=a.strokeStyle&&a.strokeText(b.compressSpaces(this.getText()),this.x,this.y);else{var g=this.parent.style("font-size").numValueOrDefault(b.Font.Parse(b.ctx.font).fontSize),i=this.parent.style("font-style").valueOrDefault(b.Font.Parse(b.ctx.font).fontStyle),e=this.getText();c.isRTL&&(e=e.split("").reverse().join(""));for(var h=b.ToNumberArray(this.parent.attribute("dx").value),d=0;d<e.length;d++){var j=this.getGlyph(c,e,d),f=g/c.fontFace.unitsPerEm;a.translate(this.x,this.y),a.scale(f,-f);var k=a.lineWidth;a.lineWidth=a.lineWidth*c.fontFace.unitsPerEm/g,"italic"==i&&a.transform(1,0,.4,1,0,0),j.render(a),"italic"==i&&a.transform(1,0,-.4,1,0,0),a.lineWidth=k,a.scale(1/f,-1/f),a.translate(-this.x,-this.y),this.x+=g*(j.horizAdvX||c.horizAdvX)/c.fontFace.unitsPerEm,"undefined"==typeof h[d]||isNaN(h[d])||(this.x+=h[d])}}},this.getText=function(){},this.measureText=function(c){var d=this.parent.style("font-family").getDefinition();if(null!=d){var i=this.parent.style("font-size").numValueOrDefault(b.Font.Parse(b.ctx.font).fontSize),f=0,e=this.getText();d.isRTL&&(e=e.split("").reverse().join(""));for(var g=b.ToNumberArray(this.parent.attribute("dx").value),a=0;a<e.length;a++){var j=this.getGlyph(d,e,a);f+=(j.horizAdvX||d.horizAdvX)*i/d.fontFace.unitsPerEm,"undefined"==typeof g[a]||isNaN(g[a])||(f+=g[a])}return f}var h=b.compressSpaces(this.getText());if(!c.measureText)return 10*h.length;c.save(),this.setContext(c);var k=c.measureText(h).width;return c.restore(),k}},b.Element.TextElementBase.prototype=new b.Element.RenderedElementBase,b.Element.tspan=function(a){this.captureTextNodes=!0,this.base=b.Element.TextElementBase,this.base(a),this.text=a.nodeValue||a.text||"",this.getText=function(){return this.text}},b.Element.tspan.prototype=new b.Element.TextElementBase,b.Element.tref=function(a){this.base=b.Element.TextElementBase,this.base(a),this.getText=function(){var a=this.attribute("xlink:href").getDefinition();return null!=a?a.children[0].getText():void 0}},b.Element.tref.prototype=new b.Element.TextElementBase,b.Element.a=function(a){this.base=b.Element.TextElementBase,this.base(a),this.hasText=!0;for(var c=0;c<a.childNodes.length;c++)3!=a.childNodes[c].nodeType&&(this.hasText=!1);this.text=this.hasText?a.childNodes[0].nodeValue:"",this.getText=function(){return this.text},this.baseRenderChildren=this.renderChildren,this.renderChildren=function(a){if(this.hasText){this.baseRenderChildren(a);var d=new b.Property("fontSize",b.Font.Parse(b.ctx.font).fontSize);b.Mouse.checkBoundingBox(this,new b.BoundingBox(this.x,this.y-d.toPixels("y"),this.x+this.measureText(a),this.y))}else{var c=new b.Element.g;c.children=this.children,c.parent=this,c.render(a)}},this.onclick=function(){window.open(this.attribute("xlink:href").value)},this.onmousemove=function(){b.ctx.canvas.style.cursor="pointer"}},b.Element.a.prototype=new b.Element.TextElementBase,b.Element.image=function(e){this.base=b.Element.RenderedElementBase,this.base(e);var a=this.attribute("xlink:href").value,c=a.match(/\.svg$/);if(b.Images.push(this),this.loaded=!1,c)this.img=b.ajax(a),this.loaded=!0;else{this.img=document.createElement("img");var d=this;this.img.onload=function(){d.loaded=!0},this.img.onerror=function(){console&&console.log('ERROR: image "'+a+'" not found'),d.loaded=!0},this.img.src=a}this.renderChildren=function(a){var f=this.attribute("x").toPixels("x"),g=this.attribute("y").toPixels("y"),d=this.attribute("width").toPixels("x"),e=this.attribute("height").toPixels("y");0!=d&&0!=e&&(a.save(),c?a.drawSvg(this.img,f,g,d,e):(a.translate(f,g),b.AspectRatio(a,this.attribute("preserveAspectRatio").value,d,this.img.width,e,this.img.height,0,0),a.drawImage(this.img,0,0)),a.restore())},this.getBoundingBox=function(){var a=this.attribute("x").toPixels("x"),c=this.attribute("y").toPixels("y"),d=this.attribute("width").toPixels("x"),e=this.attribute("height").toPixels("y");return new b.BoundingBox(a,c,a+d,c+e)}},b.Element.image.prototype=new b.Element.RenderedElementBase,b.Element.g=function(a){this.base=b.Element.RenderedElementBase,this.base(a),this.getBoundingBox=function(){for(var c=new b.BoundingBox,a=0;a<this.children.length;a++)c.addBoundingBox(this.children[a].getBoundingBox());return c}},b.Element.g.prototype=new b.Element.RenderedElementBase,b.Element.symbol=function(a){this.base=b.Element.RenderedElementBase,this.base(a),this.baseSetContext=this.setContext,this.setContext=function(c){if(this.baseSetContext(c),this.attribute("viewBox").hasValue()){var a=b.ToNumberArray(this.attribute("viewBox").value),d=a[0],e=a[1];width=a[2],height=a[3],b.AspectRatio(c,this.attribute("preserveAspectRatio").value,this.attribute("width").toPixels("x"),width,this.attribute("height").toPixels("y"),height,d,e),b.ViewPort.SetCurrent(a[2],a[3])}}},b.Element.symbol.prototype=new b.Element.RenderedElementBase,b.Element.style=function(o){this.base=b.Element.ElementBase,this.base(o);for(var d="",a=0;a<o.childNodes.length;a++)d+=o.childNodes[a].nodeValue;d=d.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,""),d=b.compressSpaces(d);for(var k=d.split("}"),a=0;a<k.length;a++)if(""!=b.trim(k[a]))for(var t=k[a].split("{"),r=t[0].split(","),f=t[1].split(";"),p=0;p<r.length;p++){var j=b.trim(r[p]);if(""!=j){for(var h={},c=0;c<f.length;c++){var m=f[c].indexOf(":"),i=f[c].substr(0,m),q=f[c].substr(m+1,f[c].length-m);null!=i&&null!=q&&(h[b.trim(i)]=new b.Property(b.trim(i),b.trim(q)))}if(b.Styles[j]=h,"@font-face"==j)for(var u=h["font-family"].value.replace(/"/g,""),g=h.src.value.split(","),e=0;e<g.length;e++)if(g[e].indexOf('format("svg")')>0)for(var n=g[e].indexOf("url"),v=g[e].indexOf(")",n),w=g[e].substr(n+5,v-n-6),x=b.parseXml(b.ajax(w)),s=x.getElementsByTagName("font"),l=0;l<s.length;l++){var y=b.CreateElement(s[l]);b.Definitions[u]=y}}}},b.Element.style.prototype=new b.Element.ElementBase,b.Element.use=function(a){this.base=b.Element.RenderedElementBase,this.base(a),this.baseSetContext=this.setContext,this.setContext=function(a){this.baseSetContext(a),this.attribute("x").hasValue()&&a.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&a.translate(0,this.attribute("y").toPixels("y"))},this.getDefinition=function(){var a=this.attribute("xlink:href").getDefinition();return this.attribute("width").hasValue()&&(a.attribute("width",!0).value=this.attribute("width").value),this.attribute("height").hasValue()&&(a.attribute("height",!0).value=this.attribute("height").value),a},this.path=function(b){var a=this.getDefinition();null!=a&&a.path(b)},this.renderChildren=function(b){var a=this.getDefinition();if(null!=a){var c=a.parent;a.parent=null,a.render(b),a.parent=c}}},b.Element.use.prototype=new b.Element.RenderedElementBase,b.Element.mask=function(a){this.base=b.Element.ElementBase,this.base(a),this.apply=function(j,f){var c=this.attribute("x").toPixels("x"),d=this.attribute("y").toPixels("y"),e=this.attribute("width").toPixels("x"),b=this.attribute("height").toPixels("y"),k=f.attribute("mask").value;f.attribute("mask").value="";var h=document.createElement("canvas");h.width=c+e,h.height=d+b;var i=h.getContext("2d");this.renderChildren(i);var g=document.createElement("canvas");g.width=c+e,g.height=d+b;var a=g.getContext("2d");f.render(a),a.globalCompositeOperation="destination-in",a.fillStyle=i.createPattern(h,"no-repeat"),a.fillRect(0,0,c+e,d+b),j.fillStyle=a.createPattern(g,"no-repeat"),j.fillRect(0,0,c+e,d+b),f.attribute("mask").value=k},this.render=function(){}},b.Element.mask.prototype=new b.Element.ElementBase,b.Element.clipPath=function(a){this.base=b.Element.ElementBase,this.base(a),this.apply=function(b){for(var a=0;a<this.children.length;a++)this.children[a].path&&(this.children[a].path(b),b.clip())},this.render=function(){}},b.Element.clipPath.prototype=new b.Element.ElementBase,b.Element.filter=function(a){this.base=b.Element.ElementBase,this.base(a),this.apply=function(m,a){var h=a.getBoundingBox(),f=this.attribute("x").toPixels("x"),g=this.attribute("y").toPixels("y");("image"==a.type||0==f||0==g)&&(f=h.x1,g=h.y1);var b=this.attribute("width").toPixels("x"),c=this.attribute("height").toPixels("y");("image"==a.type||0==b||0==c)&&(b=h.width(),c=h.height());var n=a.style("filter").value;a.style("filter").value="";var l="image"==a.type?0:.2,d=l*b,e=l*c,i=document.createElement("canvas");i.width=b+2*d,i.height=c+2*e;var k=i.getContext("2d");k.translate(-f+d,-g+e),a.render(k);for(var j=0;j<this.children.length;j++)this.children[j].apply(k,0,0,b+2*d,c+2*e);m.drawImage(i,0,0,b+2*d,c+2*e,f-d,g-e,b+2*d,c+2*e),a.style("filter",!0).value=n},this.render=function(){}},b.Element.filter.prototype=new b.Element.ElementBase,b.Element.feColorMatrix=function(d){function a(a,b,c,d,f,e){return a[c*d*4+4*b+e]}function c(a,b,c,d,g,e,f){a[c*d*4+4*b+e]=f}this.base=b.Element.ElementBase,this.base(d),this.apply=function(h,e,f,b,d){for(var g=h.getImageData(0,0,b,d),f=0;d>f;f++)for(var e=0;b>e;e++){var j=a(g.data,e,f,b,d,0),k=a(g.data,e,f,b,d,1),l=a(g.data,e,f,b,d,2),i=(j+k+l)/3;c(g.data,e,f,b,d,0,i),c(g.data,e,f,b,d,1,i),c(g.data,e,f,b,d,2,i)}h.clearRect(0,0,b,d),h.putImageData(g,0,0)}},b.Element.filter.prototype=new b.Element.feColorMatrix,b.Element.feGaussianBlur=function(d){function e(a){a=Math.max(a,.01);var c=Math.ceil(4*a)+1;mask=[];for(var b=0;c>b;b++)mask[b]=Math.exp(-.5*(b/a)*(b/a));return mask}function f(a){for(var c=0,b=1;b<a.length;b++)c+=Math.abs(a[b]);c=2*c+Math.abs(a[0]);for(var b=0;b<a.length;b++)a[b]/=c;return a}function c(i,o,k,b,f){for(var d=0;f>d;d++)for(var c=0;b>c;c++)for(var j=a(i,c,d,b,f,3)/255,e=0;4>e;e++){for(var n=k[0]*(0==j?255:a(i,c,d,b,f,e))*(0==j||3==e?1:j),h=1;h<k.length;h++){var l=a(i,Math.max(c-h,0),d,b,f,3)/255,m=a(i,Math.min(c+h,b-1),d,b,f,3)/255;n+=k[h]*((0==l?255:a(i,Math.max(c-h,0),d,b,f,e))*(0==l||3==e?1:l)+(0==m?255:a(i,Math.min(c+h,b-1),d,b,f,e))*(0==m||3==e?1:m))}g(o,d,c,f,b,e,n)}}function a(a,b,c,d,f,e){return a[c*d*4+4*b+e]}function g(a,b,c,d,g,e,f){a[c*d*4+4*b+e]=f}function h(g,a,b,i){var h=g.getImageData(0,0,a,b),d=e(i);d=f(d),tmp=[],c(h.data,tmp,d,a,b),c(tmp,h.data,d,b,a),g.clearRect(0,0,a,b),g.putImageData(h,0,0)}this.base=b.Element.ElementBase,this.base(d),this.apply=function(a,d,e,b,c){h(a,b,c,this.attribute("stdDeviation").numValue())}},b.Element.filter.prototype=new b.Element.feGaussianBlur,b.Element.title=function(){},b.Element.title.prototype=new b.Element.ElementBase,b.Element.desc=function(){},b.Element.desc.prototype=new b.Element.ElementBase,b.Element.MISSING=function(a){console&&console.log("ERROR: Element '"+a.nodeName+"' not yet implemented.")},b.Element.MISSING.prototype=new b.Element.ElementBase,b.CreateElement=function(a){var c=a.nodeName.replace(/^[^:]+:/,"");c=c.replace(/\-/g,"");var d=null;return d="undefined"!=typeof b.Element[c]?new b.Element[c](a):new b.Element.MISSING(a),d.type=a.nodeName,d},b.load=function(a,c){b.loadXml(a,b.ajax(c))},b.loadXml=function(a,c){b.loadXmlDoc(a,b.parseXml(c))},b.loadXmlDoc=function(c,h){b.init(c);var e=function(a){for(var b=c.canvas;b;)a.x-=b.offsetLeft,a.y-=b.offsetTop,b=b.offsetParent;return window.scrollX&&(a.x+=window.scrollX),window.scrollY&&(a.y+=window.scrollY),a};1!=b.opts.ignoreMouse&&(c.canvas.onclick=function(a){var c=e(new b.Point(null!=a?a.clientX:event.clientX,null!=a?a.clientY:event.clientY));b.Mouse.onclick(c.x,c.y)},c.canvas.onmousemove=function(a){var c=e(new b.Point(null!=a?a.clientX:event.clientX,null!=a?a.clientY:event.clientY));b.Mouse.onmousemove(c.x,c.y)});var a=b.CreateElement(h.documentElement);a.root=!0;var f=!0,g=function(){b.ViewPort.Clear(),c.canvas.parentNode&&b.ViewPort.SetCurrent(c.canvas.parentNode.clientWidth,c.canvas.parentNode.clientHeight),1!=b.opts.ignoreDimensions&&(a.style("width").hasValue()&&(c.canvas.width=a.style("width").toPixels("x"),c.canvas.style.width=c.canvas.width+"px"),a.style("height").hasValue()&&(c.canvas.height=a.style("height").toPixels("y"),c.canvas.style.height=c.canvas.height+"px"));var d=c.canvas.clientWidth||c.canvas.width,e=c.canvas.clientHeight||c.canvas.height;if(1==b.opts.ignoreDimensions&&a.style("width").hasValue()&&a.style("height").hasValue()&&(d=a.style("width").toPixels("x"),e=a.style("height").toPixels("y")),b.ViewPort.SetCurrent(d,e),null!=b.opts.offsetX&&(a.attribute("x",!0).value=b.opts.offsetX),null!=b.opts.offsetY&&(a.attribute("y",!0).value=b.opts.offsetY),null!=b.opts.scaleWidth&&null!=b.opts.scaleHeight){var h=1,i=1,g=b.ToNumberArray(a.attribute("viewBox").value);a.attribute("width").hasValue()?h=a.attribute("width").toPixels("x")/b.opts.scaleWidth:isNaN(g[2])||(h=g[2]/b.opts.scaleWidth),a.attribute("height").hasValue()?i=a.attribute("height").toPixels("y")/b.opts.scaleHeight:isNaN(g[3])||(i=g[3]/b.opts.scaleHeight),a.attribute("width",!0).value=b.opts.scaleWidth,a.attribute("height",!0).value=b.opts.scaleHeight,a.attribute("viewBox",!0).value="0 0 "+d*h+" "+e*i,a.attribute("preserveAspectRatio",!0).value="none"}1!=b.opts.ignoreClear&&c.clearRect(0,0,d,e),a.render(c),f&&(f=!1,"function"==typeof b.opts.renderCallback&&b.opts.renderCallback())},d=!0;b.ImagesLoaded()&&(d=!1,g()),b.intervalID=setInterval(function(){var a=!1;if(d&&b.ImagesLoaded()&&(d=!1,a=!0),1!=b.opts.ignoreMouse&&(a|=b.Mouse.hasEvents()),1!=b.opts.ignoreAnimation)for(var c=0;c<b.Animations.length;c++)a|=b.Animations[c].update(1e3/b.FRAMERATE);"function"==typeof b.opts.forceRedraw&&1==b.opts.forceRedraw()&&(a=!0),a&&(g(),b.Mouse.runEvents())},1e3/b.FRAMERATE)},b.stop=function(){b.intervalID&&clearInterval(b.intervalID)},b.Mouse=new function(){this.events=[],this.hasEvents=function(){return 0!=this.events.length},this.onclick=function(a,b){this.events.push({type:"onclick",x:a,y:b,run:function(a){a.onclick&&a.onclick()}})},this.onmousemove=function(a,b){this.events.push({type:"onmousemove",x:a,y:b,run:function(a){a.onmousemove&&a.onmousemove()}})},this.eventElements=[],this.checkPath=function(d,b){for(var a=0;a<this.events.length;a++){var c=this.events[a];b.isPointInPath&&b.isPointInPath(c.x,c.y)&&(this.eventElements[a]=d)}},this.checkBoundingBox=function(c,d){for(var a=0;a<this.events.length;a++){var b=this.events[a];d.isPointInBox(b.x,b.y)&&(this.eventElements[a]=c)}},this.runEvents=function(){b.ctx.canvas.style.cursor="";for(var a=0;a<this.events.length;a++)for(var d=this.events[a],c=this.eventElements[a];c;)d.run(c),c=c.parent;this.events=[],this.eventElements=[]}},b}this.canvg=function(a,d,f){if(null!=a||null!=d||null!=f){f=f||{},"string"==typeof a&&(a=document.getElementById(a)),null!=a.svg&&a.svg.stop();var e=b();(1!=a.childNodes.length||"OBJECT"!=a.childNodes[0].nodeName)&&(a.svg=e),e.opts=f;var h=a.getContext("2d");"undefined"!=typeof d.documentElement?e.loadXmlDoc(h,d):"<"==d.substr(0,1)?e.loadXml(h,d):e.load(h,d)}else for(var j=document.getElementsByTagName("svg"),i=0;i<j.length;i++){var c=j[i],g=document.createElement("canvas");g.width=c.clientWidth,g.height=c.clientHeight,c.parentNode.insertBefore(g,c),c.parentNode.removeChild(c);var k=document.createElement("div");k.appendChild(c),canvg(g,k.innerHTML)}}}(),window.CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.drawSvg=function(a,b,c,d,e){canvg(this.canvas,a,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:b,offsetY:c,scaleWidth:d,scaleHeight:e})}),function(z,y){var a,w,s,v,x,c,h,n,j,t,o,d,b,m,e,k,p,q,u,r,g,i,l,f;a=function(b){return new a.prototype.init(b)},"undefined"!=typeof require&&"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=a:z.Globalize=a,a.cultures={},a.prototype={constructor:a,init:function(b){return this.cultures=a.cultures,this.cultureSelector=b,this}},a.prototype.init.prototype=a.prototype,a.cultures["default"]={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}},a.cultures["default"].calendar=a.cultures["default"].calendars.standard,a.cultures.en=a.cultures["default"],a.cultureSelector="en",w=/^0x[a-f0-9]+$/i,s=/^[+\-]?infinity$/i,v=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/,x=/^\s+|\s+$/g,c=function(a,c){if(a.indexOf)return a.indexOf(c);for(var b=0,d=a.length;d>b;b++)if(a[b]===c)return b;return-1},h=function(a,b){return a.substr(a.length-b.length)===b},n=function(){var f,d,c,b,g,h,a=arguments[0]||{},e=1,k=arguments.length,i=!1;for("boolean"==typeof a&&(i=a,a=arguments[1]||{},e=2),"object"==typeof a||t(a)||(a={});k>e;e++)if(null!=(f=arguments[e]))for(d in f)c=a[d],b=f[d],a!==b&&(i&&b&&(o(b)||(g=j(b)))?(g?(g=!1,h=c&&j(c)?c:[]):h=c&&o(c)?c:{},a[d]=n(i,h,b)):b!==y&&(a[d]=b));return a},j=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},t=function(a){return"[object Function]"===Object.prototype.toString.call(a)},o=function(a){return"[object Object]"===Object.prototype.toString.call(a)},d=function(a,b){return 0===a.indexOf(b)},b=function(a){return(a+"").replace(x,"")},m=function(a){return isNaN(a)?0/0:Math[0>a?"ceil":"floor"](a)},e=function(a,c,d){var b;for(b=a.length;c>b;b+=1)a=d?"0"+a:a+"0";return a},k=function(d,b){for(var e=0,a=!1,c=0,g=d.length;g>c;c++){var f=d.charAt(c);switch(f){case"'":a?b.push("'"):e++,a=!1;
break;case"\\":a&&b.push("\\"),a=!a;break;default:b.push(f),a=!1}}return e},p=function(d,a){a=a||"F";var b,e=d.patterns,c=a.length;if(1===c){if(b=e[a],!b)throw"Invalid date format string '"+a+"'.";a=b}else 2===c&&"%"===a.charAt(0)&&(a=a.charAt(1));return a},q=function(b,f,o){function e(d,a){var b,c=d+"";return a>1&&c.length<a?(b=C[a-2]+c,b.substr(b.length-a,a)):b=c}function B(){return l||v?l:(l=E.test(f),v=!0,l)}function t(a,b){if(n)return n[b];switch(b){case 0:return a.getFullYear();case 1:return a.getMonth();case 2:return a.getDate();default:throw"Invalid part value "+b}}var a,c=o.calendar,s=c.convert;if(!f||!f.length||"i"===f){if(o&&o.name.length)if(s)a=q(b,c.patterns.F,o);else{var w=new Date(b.getTime()),F=g(b,c.eras);w.setFullYear(i(b,c,F)),a=w.toLocaleString()}else a=b.toString();return a}var A=c.eras,z="s"===f;f=p(c,f),a=[];var h,l,v,n,C=["0","00","000"],E=/([^d]|^)(d|dd)([^d]|$)/g,x=0,y=r();for(!z&&s&&(n=s.fromGregorian(b));;){var H=y.lastIndex,m=y.exec(f),D=f.slice(H,m?m.index:f.length);if(x+=k(D,a),!m)break;if(x%2)a.push(m[0]);else{var u=m[0],d=u.length;switch(u){case"ddd":case"dddd":var G=3===d?c.days.namesAbbr:c.days.names;a.push(G[b.getDay()]);break;case"d":case"dd":l=!0,a.push(e(t(b,2),d));break;case"MMM":case"MMMM":var j=t(b,1);a.push(c.monthsGenitive&&B()?c.monthsGenitive[3===d?"namesAbbr":"names"][j]:c.months[3===d?"namesAbbr":"names"][j]);break;case"M":case"MM":a.push(e(t(b,1)+1,d));break;case"y":case"yy":case"yyyy":j=n?n[0]:i(b,c,g(b,A),z),4>d&&(j%=100),a.push(e(j,d));break;case"h":case"hh":h=b.getHours()%12,0===h&&(h=12),a.push(e(h,d));break;case"H":case"HH":a.push(e(b.getHours(),d));break;case"m":case"mm":a.push(e(b.getMinutes(),d));break;case"s":case"ss":a.push(e(b.getSeconds(),d));break;case"t":case"tt":j=b.getHours()<12?c.AM?c.AM[0]:" ":c.PM?c.PM[0]:" ",a.push(1===d?j.charAt(0):j);break;case"f":case"ff":case"fff":a.push(e(b.getMilliseconds(),3).substr(0,d));break;case"z":case"zz":h=b.getTimezoneOffset()/60,a.push((0>=h?"+":"-")+e(Math.floor(Math.abs(h)),d));break;case"zzz":h=b.getTimezoneOffset()/60,a.push((0>=h?"+":"-")+e(Math.floor(Math.abs(h)),2)+":"+e(Math.abs(b.getTimezoneOffset()%60),2));break;case"g":case"gg":c.eras&&a.push(c.eras[g(b,A)].name);break;case"/":a.push(c["/"]);break;default:throw"Invalid date format pattern '"+u+"'."}}}return a.join("")},function(){var a;a=function(j,i,m){var l=m.groupSizes,h=l[0],k=1,p=Math.pow(10,i),o=Math.round(j*p)/p;isFinite(o)||(o=j),j=o;var b=j+"",a="",f=b.split(/e/i),c=f.length>1?parseInt(f[1],10):0;b=f[0],f=b.split("."),b=f[0],a=f.length>1?f[1]:"";c>0?(a=e(a,c,!1),b+=a.slice(0,c),a=a.substr(c)):0>c&&(c=-c,b=e(b,c+1,!0),a=b.slice(-c,b.length)+a,b=b.slice(0,-c)),a=i>0?m["."]+(a.length>i?a.slice(0,i):e(a,i)):"";for(var d=b.length-1,n=m[","],g="";d>=0;){if(0===h||h>d)return b.slice(0,d+1)+(g.length?n+g+a:a);g=b.slice(d-h+1,d+1)+(g.length?n+g:""),d-=h,k<l.length&&(h=l[k],k++)}return b.slice(0,d+1)+n+g+a},u=function(d,f,k){if(!isFinite(d))return 1/0===d?k.numberFormat.positiveInfinity:d===-1/0?k.numberFormat.negativeInfinity:k.numberFormat.NaN;if(!f||"i"===f)return k.name.length?d.toLocaleString():d.toString();f=f||"D";var j,g=k.numberFormat,b=Math.abs(d),i=-1;f.length>1&&(i=parseInt(f.slice(1),10));var c,n=f.charAt(0).toUpperCase();switch(n){case"D":j="n",b=m(b),-1!==i&&(b=e(""+b,i,!0)),0>d&&(b="-"+b);break;case"N":c=g;case"C":c=c||g.currency;case"P":c=c||g.percent,j=0>d?c.pattern[0]:c.pattern[1]||"n",-1===i&&(i=c.decimals),b=a(b*("P"===n?100:1),i,c);break;default:throw"Bad number format specifier: "+n}for(var o=/n|\$|-|%/g,h="";;){var p=o.lastIndex,l=o.exec(j);if(h+=j.slice(p,l?l.index:j.length),!l)break;switch(l[0]){case"n":h+=b;break;case"$":h+=g.currency.symbol;break;case"-":/[1-9]/.test(b)&&(h+=g["-"]);break;case"%":h+=g.percent.symbol}}return h}}(),r=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},g=function(d,b){if(!b)return 0;for(var c,e=d.getTime(),a=0,f=b.length;f>a;a++)if(c=b[a].start,null===c||e>=c)return a;return 0},i=function(c,a,d,e){var b=c.getFullYear();return!e&&a.eras&&(b-=a.eras[d].offset),b},function(){var h,j,m,n,a,f,e;h=function(c,a){if(100>a){var d=new Date,f=g(d),e=i(d,c,f),b=c.twoDigitYearMax;b="string"==typeof b?(new Date).getFullYear()%100+parseInt(b,10):b,a+=e-e%100,a>b&&(a-=100)}return a},j=function(g,a,i){var b,h=g.days,d=g._upperDays;return d||(g._upperDays=d=[e(h.names),e(h.namesAbbr),e(h.namesShort)]),a=f(a),i?(b=c(d[1],a),-1===b&&(b=c(d[2],a))):b=c(d[0],a),b},m=function(a,b,i){var j=a.months,k=a.monthsGenitive||a.months,d=a._upperMonths,g=a._upperMonthsGen;d||(a._upperMonths=d=[e(j.names),e(j.namesAbbr)],a._upperMonthsGen=g=[e(k.names),e(k.namesAbbr)]),b=f(b);var h=c(i?d[1]:d[0],b);return 0>h&&(h=c(i?g[1]:g[0],b)),h},n=function(h,i){var d=h._parseRegExp;if(d){var n=d[i];if(n)return n}else h._parseRegExp=d={};for(var c,f=p(h,i).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),b=["^"],m=[],e=0,j=0,l=r();null!==(c=l.exec(f));){var o=f.slice(e,c.index);if(e=l.lastIndex,j+=k(o,b),j%2)b.push(c[0]);else{var a,g=c[0],q=g.length;switch(g){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":a="(\\D+)";break;case"tt":case"t":a="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":a="(\\d{"+q+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":a="(\\d\\d?)";break;case"zzz":a="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":a="([+-]?\\d\\d?)";break;case"/":a="(\\/)";break;default:throw"Invalid date format pattern '"+g+"'."}a&&b.push(a),m.push(c[0])}}k(f.slice(e),b),b.push("$");var s=b.join("").replace(/\s+/g,"\\s+"),t={regExp:s,groups:m};return d[i]=t},a=function(a,b,c){return b>a||a>c},f=function(a){return a.split(" ").join(" ").toUpperCase()},e=function(b){for(var c=[],a=0,d=b.length;d>a;a++)c[a]=f(b[a]);return c},l=function(C,M,O){C=b(C);var c=O.calendar,J=n(c,M),H=new RegExp(J.regExp).exec(C);if(null===H)return null;for(var p,G=J.groups,A=null,l=null,k=null,o=null,r=null,i=0,D=0,E=0,x=0,q=null,z=!1,t=0,L=G.length;L>t;t++){var f=H[t+1];if(f){var F=G[t],w=F.length,g=parseInt(f,10);switch(F){case"dd":case"d":if(o=g,a(o,1,31))return null;break;case"MMM":case"MMMM":if(k=m(c,f,3===w),a(k,0,11))return null;break;case"M":case"MM":if(k=g-1,a(k,0,11))return null;break;case"y":case"yy":case"yyyy":if(l=4>w?h(c,g):g,a(l,0,9999))return null;break;case"h":case"hh":if(i=g,12===i&&(i=0),a(i,0,11))return null;break;case"H":case"HH":if(i=g,a(i,0,23))return null;break;case"m":case"mm":if(D=g,a(D,0,59))return null;break;case"s":case"ss":if(E=g,a(E,0,59))return null;break;case"tt":case"t":if(z=c.PM&&(f===c.PM[0]||f===c.PM[1]||f===c.PM[2]),!z&&(!c.AM||f!==c.AM[0]&&f!==c.AM[1]&&f!==c.AM[2]))return null;break;case"f":case"ff":case"fff":if(x=g*Math.pow(10,3-w),a(x,0,999))return null;break;case"ddd":case"dddd":if(r=j(c,f,3===w),a(r,0,6))return null;break;case"zzz":var B=f.split(/:/);if(2!==B.length)return null;if(p=parseInt(B[0],10),a(p,-12,13))return null;var y=parseInt(B[1],10);if(a(y,0,59))return null;q=60*p+(d(f,"-")?-y:y);break;case"z":case"zz":if(p=g,a(p,-12,13))return null;q=60*p;break;case"g":case"gg":var s=f;if(!s||!c.eras)return null;s=b(s.toLowerCase());for(var u=0,N=c.eras.length;N>u;u++)if(s===c.eras[u].name.toLowerCase()){A=u;break}if(null===A)return null}}}var I,e=new Date,v=c.convert;if(I=v?v.fromGregorian(e)[0]:e.getFullYear(),null===l?l=I:c.eras&&(l+=c.eras[A||0].offset),null===k&&(k=0),null===o&&(o=1),v){if(e=v.toGregorian(l,k,o),null===e)return null}else{if(e.setFullYear(l,k,o),e.getDate()!==o)return null;if(null!==r&&e.getDay()!==r)return null}if(z&&12>i&&(i+=12),e.setHours(i,D,E,x),null!==q){var K=e.getMinutes()-(q+e.getTimezoneOffset());e.setHours(e.getHours()+parseInt(K/60,10),K%60)}return e}}(),f=function(a,f,g){var e,b=f["-"],c=f["+"];switch(g){case"n -":b=" "+b,c=" "+c;case"n-":h(a,b)?e=["-",a.substr(0,a.length-b.length)]:h(a,c)&&(e=["+",a.substr(0,a.length-c.length)]);break;case"- n":b+=" ",c+=" ";case"-n":d(a,b)?e=["-",a.substr(b.length)]:d(a,c)&&(e=["+",a.substr(c.length)]);break;case"(n)":d(a,"(")&&h(a,")")&&(e=["-",a.substr(1,a.length-2)])}return e||["",a]},a.prototype.findClosestCulture=function(b){return a.findClosestCulture.call(this,b)},a.prototype.format=function(b,c,d){return a.format.call(this,b,c,d)},a.prototype.localize=function(b,c){return a.localize.call(this,b,c)},a.prototype.parseInt=function(b,c,d){return a.parseInt.call(this,b,c,d)},a.prototype.parseFloat=function(b,c,d){return a.parseFloat.call(this,b,c,d)},a.prototype.culture=function(b){return a.culture.call(this,b)},a.addCultureInfo=function(a,c,d){var b={},e=!1;"string"!=typeof a?(d=a,a=this.culture().name,b=this.cultures[a]):"string"!=typeof c?(d=c,e=null==this.cultures[a],b=this.cultures[a]||this.cultures["default"]):(e=!0,b=this.cultures[c]),this.cultures[a]=n(!0,{},b,d),e&&(this.cultures[a].calendar=this.cultures[a].calendars.standard)},a.findClosestCulture=function(c){var f;if(!c)return this.findClosestCulture(this.cultureSelector)||this.cultures["default"];if("string"==typeof c&&(c=c.split(",")),j(c)){var d,a,h=this.cultures,l=c,i=l.length,g=[];for(a=0;i>a;a++){c=b(l[a]);var e,k=c.split(";");d=b(k[0]),1===k.length?e=1:(c=b(k[1]),0===c.indexOf("q=")?(c=c.substr(2),e=parseFloat(c),e=isNaN(e)?0:e):e=1),g.push({lang:d,pri:e})}for(g.sort(function(a,b){return a.pri<b.pri?1:a.pri>b.pri?-1:0}),a=0;i>a;a++)if(d=g[a].lang,f=h[d])return f;for(a=0;i>a;a++)for(d=g[a].lang;;){var m=d.lastIndexOf("-");if(-1===m)break;if(d=d.substr(0,m),f=h[d])return f}for(a=0;i>a;a++){d=g[a].lang;for(var o in h){var n=h[o];if(n.language==d)return n}}}else if("object"==typeof c)return c;return f||null},a.format=function(a,b,d){var c=this.findClosestCulture(d);return a instanceof Date?a=q(a,b,c):"number"==typeof a&&(a=u(a,b,c)),a},a.localize=function(a,b){return this.findClosestCulture(b).messages[a]||this.cultures["default"].messages[a]},a.parseDate=function(f,a,b){b=this.findClosestCulture(b);var c,g,d;if(a){if("string"==typeof a&&(a=[a]),a.length)for(var e=0,i=a.length;i>e;e++){var h=a[e];if(h&&(c=l(f,h,b)))break}}else{d=b.calendar.patterns;for(g in d)if(c=l(f,d[g],b))break}return c||null},a.parseInt=function(b,c,d){return m(a.parseFloat(b,c,d))},a.parseFloat=function(a,l,r){"number"!=typeof l&&(r=l,l=10);var e=this.findClosestCulture(r),k=0/0,b=e.numberFormat;if(a.indexOf(e.numberFormat.currency.symbol)>-1&&(a=a.replace(e.numberFormat.currency.symbol,""),a=a.replace(e.numberFormat.currency["."],e.numberFormat["."])),a.indexOf(e.numberFormat.percent.symbol)>-1&&(a=a.replace(e.numberFormat.percent.symbol,"")),a=a.replace(/ /g,""),s.test(a))k=parseFloat(a);else if(!l&&w.test(a))k=parseInt(a,16);else{var c=f(a,b,b.pattern[0]),h=c[0],g=c[1];""===h&&"(n)"!==b.pattern[0]&&(c=f(a,b,"(n)"),h=c[0],g=c[1]),""===h&&"-n"!==b.pattern[0]&&(c=f(a,b,"-n"),h=c[0],g=c[1]),h=h||"+";var n,i,j=g.indexOf("e");0>j&&(j=g.indexOf("E")),0>j?(i=g,n=null):(i=g.substr(0,j),n=g.substr(j+1));var d,m,x=b["."],p=i.indexOf(x);0>p?(d=i,m=null):(d=i.substr(0,p),m=i.substr(p+x.length));var q=b[","];d=d.split(q).join("");var t=q.replace(/\u00A0/g," ");q!==t&&(d=d.split(t).join(""));var o=h+d;if(null!==m&&(o+="."+m),null!==n){var u=f(n,b,"-n");o+="e"+(u[0]||"+")+u[1]}v.test(o)&&(k=parseFloat(o))}return k},a.culture=function(a){return"undefined"!=typeof a&&(this.cultureSelector=a),this.findClosestCulture(a)||this.cultures["default"]}}(this),function(a,l,g){function O(a){var b="";a=Math.abs(a);do{var c=a%26;b=String.fromCharCode(c+97)+b,a=(a-c)/26}while(a>0);return b}function E(){return C+O(K++)}function I(){var b=b=[8,9,"a","b"],a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return a()+a()+"-"+a()+"-4"+a().substr(0,3)+"-"+b[Math.floor(4*Math.random())]+a().substr(0,3)+"-"+a()+a()+a()}function t(b){var c=/\{([\.\d\w\:\-\/\' ]+)\}/g,a=arguments,d=a&&a.length>1&&typeof a[1]===o,e=typeof Globalize===f&&typeof Globalize.format===f;return b.replace(c,function(m,b){var c,i,j=b.indexOf(":");if(j>0){var l=b;b=l.substring(0,j),i=l.substring(j+1)}if(d){var h=b.split(".");if(h.length>1||!/^\d+$/.test(h)){for(var f=a[1],k=0;k<h.length&&(f!==g&&null!=f);k++)f=f[h[k]];c=f}else c=a[parseInt(b,10)+1]}else c=a[parseInt(b,10)+1];return i&&e&&(c=Globalize.format(c,i)),c})}function G(){return typeof Globalize===f&&Globalize.cultures&&Globalize.cultures[Globalize.cultureSelector]&&Globalize.cultures[Globalize.cultureSelector].calendar?Globalize.cultures[Globalize.cultureSelector].calendar:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]}}}function H(b,a){if(a=a!==g?a:k.dieOnError)throw new Error(b);l.console&&l.console.error&&console.error(b)}function d(a){var b=Object.prototype.toString.call(a);return null===a?"null":a===g?"undefined":b.substr(8,b.length-9).toLowerCase()}function r(f){var l,h,e,i,c,k=Array.apply(null,arguments),m=b.array(f)&&f.length&&!x(f,function(a){return!b.func(a)}).length,d=k[1];if(!m)return j.apply(a,k);for(b.object(d)||b.array(d)||(d={}),h=2;h<k.length;h++)if(l=k[h])for(e in l)c=l[e],i=d[e],c&&x(f,function(a){return c instanceof a}).length?d[e]=c:b.object(c)||b.array(c)?(b.object(i)||(i=d[e]=b.array(c)?[]:{}),d[e]=r(f,i,c)):b.date(c)?d[e]=new Date(c.getTime()):c!==g&&(d[e]=c);return d}function w(b){var a,c=[];for(a in b)b.hasOwnProperty(a)&&c.push(a);return c}function F(i,e){var d,j,g,c,k,a,h,f=v[e];if(!b.string(e))throw new Error("shield.get: parameter 'path' must be a string.");if(f)return f(i);for(d=e.split("."),c=0,k=d.length;k>c;c++)a=d[c],g=a.indexOf("["),a&&(0>g?(h=a.indexOf("'")<0?"'":'"',a=d[c]="["+h+a+h+"]"):g>0&&(a=d[c]="."+a));j=d.join("");try{f=new Function("a","try{return a"+j+"}catch(e){return arguments[1];}")}catch(l){throw new Error("shield.get: invalid 'path' parameter")}return(v[e]=f)(i)}function P(b,c){k.ui[b]=c,a.fn[C+b]=function(d){var e,h=this;return typeof d===s?(e=[].slice.call(arguments,1),this.each(function(){var c,i,j=a.data(this,"shieldWidget");if(!j)throw new Error(t("shield: cannot call method '{0}' on uninitialized {1}.",d,b));if(c=j[d],typeof c!==f)throw new Error(t("shield: cannot find method '{0}' of {1}",d,b));return i=c.apply(j,e),i!==g?(h=i,!1):void 0}),h):this.each(function(){var b=new c(this,d);a(this).data("shieldWidget",b)})}}function e(a){a?document.onselectstart==e.handler&&(document.onselectstart=e.onselectstart,document.ondragstart=e.ondragstart):document.onselectstart!=e.handler&&(e.onselectstart=document.onselectstart,e.ondragstart=document.ondragstart,document.onselectstart=document.ondragstart=e.handler)}var k=l.shield=l.shield||{},j=a.extend,x=a.grep,L=a.proxy,c=navigator.userAgent,C="shield",o="object",s="string",f="function",u="array",p="number",A="date",B="boolean",z="null",D="undefined",q=function(){},K=100,h={},v={},n=function(){},J={SVG_NS:"http://www.w3.org/2000/svg",KeyCode:{BACK:8,TAB:9,ENTER:13,CTRL:17,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40}};n.extend=function(b){var f,g,a,h,e=this,i=function(){},c=b&&b.init?b.init:function(){e.apply(this,arguments)};i.prototype=e.prototype,f=c.fn=c.prototype=new i;for(var g in b)a=b[g],h=d(a),f[g]=a&&typeof a===o?j(!0,h===u?[]:{},e.prototype[g],a):a;return f.constructor=c,c.extend=e.extend,c},Date.prototype.toISOString||!function(){function a(b){var a=String(b);return 1===a.length&&(a="0"+a),a}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}(),a.fn.swidget=function(){var b=this.map(function(){return a(this).data("shieldWidget")}).get();return b.length?b.length>1?b:b[0]:null};var i=n.extend({init:function(a){var d=this,b=(a||{}).events;d.events={},a=a||{};for(var c in b)typeof b[c]===f&&d.on(c,b[c])},on:function(a,f,n){var c,h,e,l,i,j=this,k=j.events,d=m.array(a),g=b.func(f);if(b.object(a)){d=[];for(i in a)d.push(i);g=!1,f=a}for(e=0,l=d.length;l>e;e++)a=d[e],c=g?f:f[a],b.func(c)&&(n&&(h=c,c=function(b,c){var a=function(){j.off(b,a),c.apply(this,arguments)};return a}(a,h)),(k[a]||(k[a]=[])).push(c))},one:function(a,b){this.on(a,b,!0)},off:function(a,f){var c,h,e,d,i,l=this,j=l.events,g=m.array(a),k=b.func(f);if(b.object(a)){g=[];for(i in a)g.push(i);k=!1,f=a}for(e=0;e<g.length;e++){if(a=g[e],c=j[a]||[],h=k?f:(f||{})[a])for(d=c.length-1;d>=0;d--)c[d]===h&&c.splice(d,1);else c.length=0;c.length||delete j[a]}},trigger:function(e,f){var a,b,c=this,d=(c.events[e]||[]).slice();for(a=0,b=d.length;b>a;a++)d[a].apply(c,[].slice.call(arguments,1));return f},destroy:function(){this.events={}}}),y=n.extend({init:function(c){var a=!1,b=!1;j(this,{timeStamp:(new Date).getTime(),isDefaultPrevented:function(){return a},isPropagationStopped:function(){return b},preventDefault:function(){a=!0},stopPropagation:function(){b=!0}},c)}}),M=i.extend({init:function(e,b){var c=this,b=b||{},d=c.constructor;c.element=a(e),c.initialOptions=b,c.options=j(!0,{},d.defaults,(d.themes||{})[b.theme],b),i.fn.init.call(c,b)},refresh:function(a){this.refreshWithElement(this.element,a)},refreshWithElement:function(c,b){var a=this,b=r([n],a.options,b);a.destroy(),a.init(c,b)},hide:function(){a(this.element).hide()},show:function(){a(this.element).show()},isVisible:function(){return a(this.element).is(":visible")},visible:function(){var a=this,b=[].slice.call(arguments);return b.length>0?(b[0]?a.show():a.hide(),void 0):a.isVisible()},trigger:function(g,c,h){var d,e=this,c=b.event(c)?{domEvent:c}:c;return!c||!c.domEvent||c.domEvent instanceof a.Event||(c.domEvent=a.Event(c.domEvent)),d=new y(j({type:g,target:e},c)),i.fn.trigger.call(e,g,d),typeof h!==f||d.isDefaultPrevented()||h.call(e,d),d}}),N=i.extend({init:function(d,c){var b=this;c=b.options=j({},b.options,c),b.element=a(d),i.fn.init.call(b,c),b.render()},options:{total:0,pageBuffer:2,createContainer:q,getItems:q,eventNS:".shieldVirtualized"},_elements:function(){var c,e,b=this,f=b.element,d=b.options;c=b.wrapper=f.off(d.eventNS).empty().css({overflow:"auto",position:"relative"}).on("scroll"+d.eventNS,L(b.scroll,b)).append("<div class='sui-virtualized' />").find(".sui-virtualized").css({position:"relative",overflow:"visible"}),e=b.container=a(d.createContainer(c)),c.children().css({position:"absolute",top:0})},render:function(){var b,a=this,d=a.element,c=a.options;a._elements(),a.prevScroll=0,b=a.dimensions=a._dimensions(),d.find(".sui-virtualized").height(b.totalHeight),a.items(0,Math.min(c.total,(c.pageBuffer+1)*b.itemsPerPage))},_dimensions:function(){var c=this,d=c.options,e=d.total,a=d.itemHeight,f=Math.min(e*a,k.support.maxElementHeight),b=c.element.height(),g=Math.ceil(b/a),h=g*a,i=f-b;return{total:e,itemHeight:a,totalHeight:f,viewportHeight:b,itemsPerPage:g,pageHeight:h,totalScrollableHeight:i}},scroll:function(){var e,h,i,b=this,m=b.options,d=m.pageBuffer,a=b.dimensions,f=b.element.scrollTop(),p=b.prevScroll,j=f-p,g=f/a.totalScrollableHeight,k=b.wrapper.children(),l=parseFloat(k.css("top"))||0,c=f-g*(a.pageHeight-a.viewportHeight),o=j>0&&c-l>(d/4+1)*a.pageHeight,n=0>j&&c-l<=d/4*a.pageHeight;(n||o)&&(h=Math.floor(g*a.total-g*a.itemsPerPage),e=Math.max(0,h-d/2*a.itemsPerPage),i=Math.min(a.total,e+(d+1)*a.itemsPerPage),c=Math.max(0,c-(h-e)*a.itemHeight),b.items(e,i,function(){k.css("top",c)})),b.prevScroll=f},items:function(e,f,c){var a,d,b=this,g=b.options;g.getItems(e,f,function(e){for(b.container.empty(),a=0,d=e.length;d>a;a++)b.container.append(e[a]);c&&c()})},destroy:function(){var a=this,b=a.options;a.element.off(b.eventNS),a.element=null,b.createContainer=q,b.getItems=q,i.fn.destroy.call(a)}}),b={string:function(a){return d(a)===s},number:function(a){return d(a)===p},integer:function(a){return d(a)===p&&/^[\+\-]?\d+$/.test(a+"")},"float":function(a){return d(a)===p&&/^[\+\-]?\d+\.\d+$/.test(a+"")},func:function(a){return d(a)===f},object:function(a){return d(a)===o},array:function(a){return d(a)===u},date:function(a){return d(a)===A},"boolean":function(a){return d(a)===B},"null":function(a){return d(a)===z},undefined:function(a){return d(a)===D},defined:function(a){return a!==g&&null!==a},event:function(a){return typeof l.Event==f&&a instanceof l.Event||a&&a.altKey!==g}},m={"int":function(a,b){return parseInt(a,b||10)},"float":function(a){return parseFloat(a)},array:function(a){return a instanceof Array?a:a!==g?[a]:[]},string:function(a){return a+""},key:function(b){var h=d(b);switch(h){case z:case D:return h;case o:var i=w(b).sort(),c=[];return a.each(i,function(d,a){c.push(a+":"+m.key(b[a]))}),"{"+c.join(",")+"}";case u:var e,g,c="[";for(e=0,g=b.length;g>e;e++)c+=m.key(b[e]),g-1>e&&(c+=",");return c+="]";case A:return b.toISOString();case s:case p:case B:case f:default:return b+""}}};!function(){h.stableSort=function(){var a="abcdefghijklmnopqrstuvwxyz";return"xyzvwtursopqmnklhijfgdeabc"==a.split("").sort(function(b,c){return~~(a.indexOf(c)/2.3)-~~(a.indexOf(b)/2.3)}).join("")}(),h.scrollbar=function(){var b,a=document.createElement("div");return a.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both",a.innerHTML="&nbsp;",document.body.appendChild(a),b=a.offsetWidth-a.scrollWidth,document.body.removeChild(a),b},h.isRtl=function(b){return a(b).closest(".sui-rtl").length>0},h.transitions=function(){var a,c=(document.body||document.documentElement).style,d="Transition",e=["Moz","webkit","Webkit","Khtml","O","ms"];if(b.string(c[d.toLowerCase()]))return!0;for(a=0;a<e.length;a++)if(b.string(c[e[a]+d]))return!0;return!1}()}(),function(){k.rAF=function(a){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){return this.setTimeout(a,1e3/60)}).call(window,a)},k.cAF=function(a){return(window.cancelAnimationFrame||window.clearTimeout)(a)}}(),function(){var b=/MSIE/i.test(c),d=/Trident/i.test(c),e=/Firefox/i.test(c),f=/Opera/i.test(c),g=/Safari/i.test(c),a=/Chrome/i.test(c),i=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c);h.browser={ie:b||d,firefox:e,opera:f,safari:!a&&g,chrome:a,mobile:i,version:b?parseInt(c.substr(c.indexOf("MSIE ")+5),10):d?parseInt(c.substr(c.indexOf("rv:")+3),10):e?parseInt(c.substr(c.indexOf("Firefox/")+8),10):f?parseInt(c.substr(c.indexOf("Version/")+8),10):a?parseInt(c.substr(c.indexOf("Chrome/")+7),10):g?parseInt(c.substr(c.indexOf("Version/")+8),10):0}}(),a(function(){for(var b,e=1e6,f=h.browser.firefox?6e6:1e9,c=a("<div style='display:none' />").appendTo(document.body),d=e;;){if(b=d+e,c.css("height",b),b>f||c.height()!==b)break;d=b}c.remove(),h.maxElementHeight=d}),e.handler=function(){return!1},j(k,{Class:n,Dispatcher:i,Event:y,Constants:J,format:t,getCalendarInfo:G,error:H,dieOnError:!0,strid:E,guid:I,support:h,extend:r,selection:e,type:d,is:b,to:m,keys:w,get:F,ui:{Widget:M,VirtualizedContainer:N,plugin:P}})}(jQuery,function(){return this}()),function(c,y,z){"use strict";function k(b,c){var a,d,e=[];if(b.map)return b.map(c);for(a=0,d=b.length;d>a;a++)e[a]=c(b[a],a,b);return e}var p,q,i,d,l,b,f,j,w,v,o,e=y.shield,g=e.Class,r=e.Dispatcher,s=c.extend,t=c.proxy,x=c.each,a=e.is,m=e.to,h=e.get,n=e.support,u=function(){},A=c.Deferred;p=g.extend({init:function(a){this.data=a},read:function(b,a){return a(this.data)}}),q=g.extend({init:function(a,b){this.options=a,this.cache=b},read:function(d,e,g){var f,i=this.options,b=i.read,h=this.cache;return a.func(b)?(b(d,e,g),void 0):(b=a.string(b)?{url:b}:s(!0,{},b),a.func(b.data)&&(d=b.data(d)),f=h.get(d),f!==z?e(f,!0):(b.data=d,b.error=g,b.success=function(a){h.set(d,a),e(a)},c.ajax(b)),void 0)}}),i=g.extend({init:function(){this.values={}},get:function(a){return this.values[m.key(a)]},set:function(b,a){return this.values[m.key(b)]=a,a},remove:function(b){var a=m.key(b),c=this.values[a];return delete this.values[a],c},clear:function(){this.values=[]}}),i.noop={get:u,set:u},l=g.extend({init:function(b,c){a.object(b)?b=m.array(b):a.string(b)&&(b=[{path:b,desc:!!c}]),this._expr=b},build:function(){var b=n.stableSort,c=this._expr,d=l.cache;return a.func(c)?function(a){return function(c,d){var e=a(b?c:c.item,b?d:d.item);return b?e:0!==e?e:c.index-d.index}}(c):a.array(c)?d.get(c)||d.set(c,function(c){return function(j,k){var l,f,g,i,n,d,e,m;for(i=0,n=c.length;n>i;i++)if(d=b?j:j.item,e=b?k:k.item,l=c[i]||{},f=l.path,g=l.desc?-1:1,a.string(f)?(d=h(d,f),e=h(e,f)):a.func(f)&&(d=f(d),e=f(e)),a.date(d)&&(d=d.getTime()),a.date(e)&&(e=e.getTime()),d!==e&&(null!=d||null!=e)){if(null==d)return-1*g;if(null==e)return 1*g;if(a.number(d)&&a.number(e)||(d=d.toString(),e=e.toString()),d.localeCompare){if(m=d.localeCompare(e),0===m)continue;return m*g}if(d>e)return 1*g;if(e>d)return-1*g}return b?0:j.index-k.index}}(c)):void 0}}),l.cache=new i,b=g.extend({init:function(a){var b=this;b._expr=a||[]},build:function(){var c=this,e=b.cache,d=c._expr,a=c._func||(c._func=e.get(d));return a||(a=c._buildRecursive(d,!0),a&&e.set(d,a)),a},_single:function(c){var d;if(c){if(a.func(c.filter))return c.filter;if(d=b.filters[b.filterAliases[c.filter]])return function(a,b,c,d){return function(e){return b(h(e,a),c,d)}}(c.path,d,c.value,c.sensitive)}},_multiple:function(a,b){return function(e){var c=!0,d=0,f=a.length;for(d=0;f>d;d++)if(c=a[d](e),b){if(!c)break}else if(c)break;return c}},_buildRecursive:function(b,g){var c,f,d=this,e=[];if(a.array(b)){for(c=0,f=b.length;f>c;c++)e.push(d._buildRecursive(b[c]));return e.length>1?d._multiple(e,g):e[0]}return b.and||b.or?d._buildRecursive(b.and||b.or,!!b.and):d._single(b)}}),b.cache=new i,b.normalize={equatable:function(c,d,e){return a.date(c)?{a:c.getTime(),b:new Date(d).getTime()}:b.normalize.string(c,d,e)},string:function(a,b,c){return{a:c?a+"":(a+"").toLowerCase(),b:c?b+"":(b+"").toLowerCase()}},scalar:function(b,c){return a.date(b)?{a:b.getTime(),b:new Date(c).getTime()}:isNaN(parseFloat(b))?{a:b,b:c}:{a:parseFloat(b),b:parseFloat(c)}}},b.filters={eq:function(c,d,e){var a=b.normalize.equatable(c,d,e);return a.a===a.b},neq:function(c,d,e){var a=b.normalize.equatable(c,d,e);return a.a!==a.b},con:function(c,d,e){var a=b.normalize.string(c,d,e);return a.a.indexOf(a.b)>-1},notcon:function(c,d,e){var a=b.normalize.string(c,d,e);return a.a.indexOf(a.b)<0},starts:function(c,d,e){var a=b.normalize.string(c,d,e);return 0===a.a.indexOf(a.b)},ends:function(c,d,e){var a=b.normalize.string(c,d,e);return a.a.indexOf(a.b)===a.a.length-a.b.length},gt:function(c,d){var a=b.normalize.scalar(c,d);return a.a>a.b},lt:function(c,d){var a=b.normalize.scalar(c,d);return a.a<a.b},gte:function(c,d){var a=b.normalize.scalar(c,d);return a.a>=a.b},lte:function(c,d){var a=b.normalize.scalar(c,d);return a.a<=a.b},isnull:function(a){return null==a},notnull:function(a){return null!=a}},b.filterAliases={eq:"eq",equal:"eq",equals:"eq","==":"eq",neq:"neq",ne:"neq",doesnotequal:"neq",notequal:"neq",notequals:"neq","!=":"neq",con:"con",contains:"con",notcon:"notcon",doesnotcontain:"notcon",notcontains:"notcon",starts:"starts",startswith:"starts",ends:"ends",endswith:"ends",gt:"gt",greaterthan:"gt",">":"gt",lt:"lt",lessthan:"lt","<":"lt",gte:"gte",ge:"gte",greaterthanorequal:"gte",">=":"gte",lte:"lte",le:"lte",lessthanorequal:"lte","<=":"lte",isnull:"isnull","null":"isnull",notnull:"notnull",isnotnull:"notnull"},d=g.extend({init:function(a,b){this.data=a,this.total=null!=b?b:a?a.length:0},filter:function(i){var a,g,c,h=new b(i).build(),e=this.data,f=[];if(h)for(a=0,g=e.length;g>a;a++)c=e[a],h(c)&&f.push(c);else f=e.slice(0);return new d(f)},sort:function(){var b=new l(arguments[0],arguments[1]).build(),a=this.data.slice(0);return b&&(n.stableSort?a.sort(b):a=k(k(a,function(a,b){return{index:b,item:a}}).sort(b),function(a){return a.item})),new d(a)},skip:function(a){return new d(this.data.slice(a),this.total)},take:function(a){return new d(this.data.slice(0,a),this.total)}}),d.create=function(c,a,e){var b=new d(c,e);return a=a||{},a.filter&&(b=b.filter(a.filter)),a.sort&&(b=b.sort(a.sort)),a.skip&&(b=b.skip(a.skip)),a.take&&(b=b.take(a.take)),b},f=r.extend({init:function(d){var b=this,c=a.array(d)?{data:d}:d||{};b.data=c.data,b.filter=c.filter,b.sort=c.sort,b.skip=c.skip,b.take=c.take,b.schema=c.schema,b.remote=c.remote,b.cache=new i,r.fn.init.call(b,c)},trigger:e.ui.Widget.fn.trigger,_client:function(){var b=this,c=b.remote;return a.object(c)?new q(c,c.cache?b.cache:i.noop):new p(b.data)},_params:function(){var b,d=this,e=["filter","sort","skip","take"],a=d.remote,f=(a&&a.read?a.read.operations||a.operations||[]:[]).join(" "),c={local:{},remote:{}};return x(e,function(g,e){b=d[e],null!=b&&(a&&f.indexOf(e)>-1?c.remote[e]=b:c.local[e]=b)}),c},_success:function(m,k,l,e){var a=this,b=a.schema||{},i=f.schemas[b.type||"json"],j=new i(b),h=j.process(l),c=d.create(h.data,k,h.total),g=a.view=c.data;a.total=c.total,a.data||(a.data=g),m.resolve(g,!!e),a.trigger("complete"),a.trigger("change",{fromCache:!!e})},_error:function(c,a){var b=this;c.reject(a),b.trigger("complete"),b.trigger("error",{error:a})},read:function(){var a=this,b=new A,d=a._client(),c=a._params(),e=a.trigger("start",{params:c});return e.isDefaultPrevented()?b.resolve():d.read(c.remote,t(a._success,a,b,c.local),t(a._error,a,b)),b.promise()}}),f.create=function(a){return a instanceof f?a:new f(a)},j=g.extend({init:function(a){this.options=a},parse:function(b){var d=this.options;if(a.func(d.parse))return d.parse(b);if(a.string(b))try{b=c.parseJSON(b)}catch(e){}return b},data:function(c){var b=this.options.data;return a.func(b)?b(c):a.string(b)?h(c,b):c},total:function(b,d){var c=this.options.total;return b=b||[],d=d||[],a.func(c)?c(b):a.string(c)?h(b,c):d.length},convert:function(b,d){var c;return null==b?b:"string"===d?b+"":"number"===d?(c=parseFloat(b),isNaN(c)?b:c):"date"===d?(c=new Date(b),isNaN(c.getTime())?b:c):"boolean"===d?a.string(b)?!/^(false|0)$/i.test(b):!!b:b},fields:function(e){var b,c,f=this,d=f.options.fields;return d?k(e,function(g){var e,i={};for(e in d)b=d[e],b=a.object(b)?b:{path:b},c=a.string(b.path)?h(g,b.path):a.func(b.path)?b.path(g):g[e],b.type&&(c=f.convert(c,b.type)),i[e]=c;return i}):e},process:function(d){var a=this,b=a.parse(d),c=a.fields(a.data(b));return{data:c,total:a.total(b,c)}}}),w=j.extend({parse:function(b){var d=this,e=d.options;if(a.func(e.parse))b=e.parse(b);else if(a.string(b))try{b=c.parseXML(b)}catch(f){}return b&&9===b.nodeType&&(b=d.json(d.root(b))),b},root:function(d){var a,c,b=d.childNodes;for(a=0,c=b.length;c>a;a++)if(1===b[a].nodeType)return b[a];return null},json:function(g){var b,d,e,h,c={},i={},f="";for(e=0,h=g.attributes.length;h>e;e++)b=g.attributes[e],c["_"+b.nodeName]=b.nodeValue;for(e=0,h=g.childNodes.length;h>e;e++)switch(b=g.childNodes[e],d=b.nodeName,b.nodeType){case 1:i[d]?(a.array(c[d])||(c[d]=[c[d]]),c[d].push(this.json(b))):(c[d]=this.json(b),i[d]=!0);break;case 3:f+=b.nodeValue;break;case 4:c._cdata=b.nodeValue}return f=f.replace(/^\s+(.*)\s+$/gim,"$1"),f&&(c._text=f),c}}),v=j.extend({parse:function(d){var e,b=this.options,g=b.parse,f=c(d),h=[],i=[];if(a.func(g))return g(d);if(b.result)return b.result;if(!f[0]||"table"!==f[0].tagName.toLowerCase())return d;f.eq(0).find("thead th").each(function(){i.push(c(this).text())}).end().find("tbody tr").each(function(){e={},c(this).children().each(function(a){e[i[a]]=c(this).text()}),h.push(e)});return b.result=h}}),o=j.extend({parse:function(d){var b=this.options,f=b.parse,e=c(d),g=[];return a.func(f)?f(d):b.result?b.result:e[0]&&"select"===e[0].tagName.toLowerCase()?(e.find("option").each(function(){var a=c(this);g.push({value:a.attr("value"),text:a.text(),selected:a.is(":selected")})}),b.result=g):d}}),f.schemas={json:j,xml:w,table:v,select:o},s(e,{map:k,DataSource:f,DataQuery:d})}(jQuery,this);
shield.version='1.6.4';
!function(f,n,H,e){function mb(a){return l.log(a)/l.LN10}function R(a){return l.pow(10,a)}function vb(a,c){for(var b=a.length;b--;)if(a[b]===c){a.splice(b,1);break}}function p(b,a,e){var c,f,g="setAttribute";if(S(a))d(e)?b[g](a,e):b&&b.getAttribute&&(f=b.getAttribute(a));else if(d(a)&&O(a))for(c in a)b[g](c,a[c]);return f}function b(){var a,b,c=arguments,d=c.length;for(a=0;d>a;a++)if(b=c[a],"undefined"!=typeof b&&null!==b)return b}function s(b,a){cb&&a&&a.opacity!==e&&(a.filter="alpha(opacity="+100*a.opacity+")"),j(b.style,a)}function J(e,b,c,d,f){var a=o.createElement(e);return b&&j(a,b),f&&s(a,{padding:0,border:L,margin:0}),c&&s(a,c),d&&d.appendChild(a),a}function u(b,c){var a=function(){};return a.prototype=new b,j(a.prototype,c),a}function D(a,b,c){var d=a[b];a[b]=function(){var a=Array.prototype.slice.call(arguments);return a.unshift(d),c.apply(this,a)}}function $b(e,a,c,f){var g,d;for(c=b(c,1),g=e/c,a||(a=[1,2,2.5,5,10],f&&f.decimalTicks===!1&&(1===c?a=[1,2,5,10]:.1>=c&&(a=[1/c]))),d=0;d<a.length&&(e=a[d],!(g<=(a[d]+(a[d+1]||a[d]))/2));d++);return e*=c}function wd(f,h){var g,a,b=h||[[rd,[1,2,5,10,20,25,50,100,200,500]],[yc,[1,2,5,10,15,30]],[hc,[1,2,5,10,15,30]],[Rb,[1,2,3,4,6,8,12]],[jb,[1,2]],[jc,[1,2]],[Nb,[1,2,3,4,6]],[Bb,null]],c=b[b.length-1],d=r[c[0]],e=c[1];for(a=0;a<b.length;a++)if(c=b[a],d=r[c[0]],e=c[1],b[a+1]){var i=(d*e[e.length-1]+r[b[a+1][0]])/2;if(i>=f)break}return d===r[Bb]&&5*d>f&&(e=[1,2,5]),g=$b(f/d,e),{unitRange:d,count:g,unitName:c[0]}}function vd(i,n,p,o){var g,f,h=[],m={},k=Y.allowUTCFormatting,a=new Date(n),c=i.unitRange,d=i.count;c>=r[yc]&&(a.setMilliseconds(0),a.setSeconds(c>=r[hc]?0:d*K(a.getSeconds()/d))),c>=r[hc]&&a[wc](c>=r[Rb]?0:d*K(a[Hc]()/d)),c>=r[Rb]&&a[sc](c>=r[jb]?0:d*K(a[Gc]()/d)),c>=r[jb]&&a[_b](c>=r[Nb]?1:d*K(a[Hb]()/d)),c>=r[Nb]&&(a[Ic](c>=r[Bb]?0:d*K(a[bc]()/d)),f=a[ac]()),c>=r[Bb]&&(f-=f%d,a[Ac](f)),c===r[jc]&&a[_b](a[Hb]()-a[Cc]()+b(o,1)),g=1,f=a[ac]();for(var e=a.getTime(),l=a[bc](),q=a[Hb](),s=k?0:(864e5+60*a.getTimezoneOffset()*1e3)%864e5;p>e;)h.push(e),c===r[Bb]?e=Db(f+g*d,0):c===r[Nb]?e=Db(f,l+g*d):k||c!==r[jb]&&c!==r[jc]?(e+=c*d,c<=r[Rb]&&e%r[jb]===s&&(m[e]=jb)):e=Db(f,l,q+g*d*(c===r[jb]?1:7)),g++;return h.push(e),h.info=j(i,{higherRanks:m,totalRange:c*d}),h}function xc(){this.color=0,this.symbol=0}function Oc(b,e){var c,a,d=b.length;for(a=0;d>a;a++)b[a].ss_i=a;for(b.sort(function(a,b){return c=e(a,b),0===c?a.ss_i-b.ss_i:c}),a=0;d>a;a++)delete b[a].ss_i}function xb(a){for(var b=a.length,c=a[0];b--;)a[b]<c&&(c=a[b]);return c}function tb(a){for(var b=a.length,c=a[0];b--;)a[b]>c&&(c=a[b]);return c}function sb(a,c){var b;for(b in a)a[b]&&a[b]!==c&&a[b].destroy&&a[b].destroy(),delete a[b]}function lb(a){Qb||(Qb=J(T)),a&&Qb.appendChild(a),Qb.innerHTML=""}function X(a){return parseFloat(a.toPrecision(14))}function yb(c,d){Cb=b(c,a[d.guid].applyAnimation)}function ed(){var d=Y.allowUTCFormatting,a=d?"getUTC":"get",c=d?"setUTC":"set";Db=d?Date.UTC:function(a,c,d,e,f,g){return new Date(a,c,b(d,1),b(e,0),b(f,0),b(g,0)).getTime()},Hc=a+"Minutes",Gc=a+"Hours",Cc=a+"Day",Hb=a+"Date",bc=a+"Month",ac=a+"FullYear",wc=c+"Minutes",sc=c+"Hours",_b=c+"Date",Ic=c+"Month",Ac=c+"FullYear"}function _(){}function zb(c,d,b){var a=this;a.axis=c,a.pos=d,a.type=b||"",a.isNew=!0,b||a._label()}function pc(b,a){return this.axis=b,a&&(this.options=a,this.id=a.id),this}function Vc(g,d,e,h,i,j){var c=this,f=a[g.chart.guid].isInverted;c.axis=g,c.isNegative=e,c.options=d,c.x=h,c.stackIndex=i,c.percent="percent"===j,c.alignOptions={align:d.align||(f?e?"left":"right":"center"),verticalAlign:d.verticalAlign||(f?"middle":e?"bottom":"top"),y:b(d.y,f?4:e?14:-6),x:b(d.x,f?e?-6:6:0)},c.textAlignINTERNAL=d.textAlignINTERNAL||(f?e?"right":"left":"center")}function ad(){var f,b,g=this.axis,a=this.value,j=g.categoricalValues,h=this.dateTimeLabelFormat,d=null,c=d&&d.length,i=g.isLog?a:g.ticksRepeat;if(j)b=a;else if(h)b=n.format("{0:"+h+"}",new Date(a));else if(c&&i>=1e3)for(;c--&&b===e;)f=l.pow(1e3,c+1),i>=f&&null!==d[c]&&(b=n.format("{0:n}",a/f)+d[c]);return b===e&&(b=a>=1e3?n.format("{0:d}",a):n.format(Ad(a)?"{0:n}":"{0:d}",a)),b}function _c(){var f,a=this,j=a.chart,g=a.stacks,h=[],i=[];a.hasVisibleSeries=!1,a.dataMin=a.dataMax=null,c(a.dataSeries,function(l){if(l.visible||j.options.scaleAxesForHiddenSeries){var s,y,B,r,A,x,m,z,n,c,C,v=l.options,o=v.baseValue,p=[],D=0;if(a.hasVisibleSeries=!0,a.isLog&&0>=o&&(o=v.baseValue=null),a.isXAxis)m=l.xData,m.length&&(a.dataMin=G(b(a.dataMin,m[0]),xb(m)),a.dataMax=k(b(a.dataMax,m[0]),tb(m)));else{var t,w,q,u,F=l.cropped,E=Jb.call(l.axisX),H=!!l.modifyValue;for(s=v.stackMode,a.usePercentage="percent"===s,s&&(A=v.stackIndex,r=l.seriesType+b(A,""),x="-"+r,l.stackKey=r,y=h[r]||[],h[r]=y,B=i[x]||[],i[x]=B),a.usePercentage&&(a.dataMin=0,a.dataMax=99),m=l.processedXData,z=l.processedYData,C=z.length,f=0;C>f;f++)if(n=m[f],c=z[f],s&&(t=o>c,w=t?B:y,q=t?x:r,c=w[n]=d(w[n])?X(w[n]+c):c,g[q]||(g[q]={}),g[q][n]||(g[q][n]=new Vc(a,a.options.stackTextSettings,t,n,A,s)),g[q][n]._total(c)),null!==c&&c!==e&&(H&&(c=l.modifyValue(c)),F||(m[f+1]||n)>=E.min&&(m[f-1]||n)<=E.max))if(u=c.length)for(;u--;)null!==c[u]&&(p[D++]=c[u]);else p[D++]=c;!a.usePercentage&&p.length&&(a.dataMin=G(b(a.dataMin,p[0]),xb(p)),a.dataMax=k(b(a.dataMax,p[0]),tb(p))),d(o)&&(a.dataMin>=o?(a.dataMin=o,a.ignoreMinPadding=!0):a.dataMax<o&&(a.dataMax=o,a.ignoreMaxPadding=!0))}}})}function rc(b,e,f){var a,c,g=X(K(e/b)*b),h=X(rb(f/b)*b),d=[];for(a=g;h>=a&&(d.push(a),a=X(a+b),a!==c);)c=a;return d}function Xc(a,h,i,d){var c=this,r=c.options,p=c.len,f=[];if(d||(c._minorAutoInterval=null),a>=.5)a=g(a),f=rc.call(c,a,h,i);else if(a>=.08){var k,e,j,q,m,n,o,v=K(h);for(k=a>.3?[1,2,4]:a>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],e=v;i+1>e&&!o;e++)for(q=k.length,j=0;q>j&&!o;j++)m=mb(R(e)*k[j]),m>h&&f.push(n),n>i&&(o=!0),n=m}else{var t=R(h),u=R(i),s=r[d?"minorTicksRepeat":"ticksRepeat"],w="auto"===s?null:s,x=r.tickPixelIntervalINTERNAL/(d?5:1),y=d?p/c.tickPositions.length:p;a=b(w,c._minorAutoInterval,(u-t)*x/(y||1)),a=$b(a,null,l.pow(10,K(l.log(a)/l.LN10))),f=wb(rc.call(c,a,t,u),mb),d||(c._minorAutoInterval=a/5)}return d||(c.ticksRepeat=a),f}function Zc(){var c,b,g,a=this,d=a.tickPositions,f=a.minorTicksRepeat,e=[];if(a.isLog)for(g=d.length,b=1;g>b;b++)e=e.concat(Xc.call(a,f,d[b-1],d[b],!0));else for(c=a.min+(d[0]-a.min)%f;c<=a.max;c+=f)e.push(c);return e}function nd(b,c,d,e,f,g){var a=this;return b>0?a.translate(a.dataMin+b,c,d,e,f,g)-a.translate(a.dataMin,c,d,e,f,g):0>b?a.translate(a.dataMax+b,c,d,e,f,g)-a.translate(a.dataMax,c,d,e,f,g):0}function bd(){var o,m,j,n,l,q,i,p,a=this,k=a.options,f=a.min,g=a.max,r=a.dataMax-a.dataMin>=a.zoomMin;if(a.isXAxis&&a.zoomMin===e&&!a.isLog&&(d(k.min)||d(k.max)?a.zoomMin=null:(c(a.dataSeries,function(a){for(l=a.xData,q=a.xIncrement?1:l.length-1,j=q;j>0;j--)n=l[j]-l[j-1],(m===e||m>n)&&(m=n)}),a.zoomMin=G(5*m,a.dataMax-a.dataMin))),g-f<a.zoomMin){var h=a.zoomMin;o=(h-g+f)/2,i=[f-o,b(k.min,f-o)],r&&(i[2]=a.dataMin),f=tb(i),p=[f+h,b(k.max,f+h)],r&&(p[2]=a.dataMax),g=xb(p),h>g-f&&(i[0]=g-h,i[1]=b(k.min,g-h),f=tb(i))}a.min=f,a.max=g}function Uc(){var b=this,d=a[b.chart.guid],c=d.maxTicks,e=b.tickPositions,f=b.xOrY;c||(c={x:0,y:0}),!b.isLinked&&!b.isDatetimeAxis&&e.length>c[f]&&b.options.matchTicks!==!1&&(c[f]=e.length),d.maxTicks=c}function Sc(d,e,c,g,f){var a=this,h=a.chart;c=b(c,!0),f=j(f,{min:d,max:e}),a.userMin=d,a.userMax=e,a.isDirtyExtremes=!0,c&&h.redraw(g)}function Jb(){var a=this,b=a.isLog;return{min:b?X(R(a.min)):a.min,max:b?X(R(a.max)):a.max,dataMin:a.dataMin,dataMax:a.dataMax,userMin:a.userMin,userMax:a.userMax}}function oc(a){var b=this,c=b.isLog,d=c?R(b.min):b.min,e=c?R(b.max):b.max;return d>a||null===a?a=d:a>e&&(a=e),b.translate(a,0,1,0,1)}function fd(b){var a=new pc(this,b).render();return this.plotLinesAndBands.push(a),a}function Tb(){this.init.apply(this,arguments)}function Yc(b,k){var e,j,d=a[this.chart.guid],f=d.isInverted,h=0,i=0;return b=bb(b),e=b[0].tooltipPos,e||(c(b,function(a){j=a.dataSeries.axisY,h+=a.plotX,i+=(a.plotLow?(a.plotLow+a.plotHigh)/2:a.plotY)+(!f&&j?j.top-d.plotTop:0)}),h/=b.length,i/=b.length,e=[f?d.plotWidth-i:h,this.chartBound&&!f&&b.length>1&&k?k.chartY-d.plotTop:f?d.plotHeight-h:i]),wb(e,g)}function gd(){c(this.axisMarkers,function(a){a&&a.hide()})}function Lc(c,d){var b=this;b.chart=c,b.options=d,b.axisMarkers=[],b.isHidden=!0,(/msie 7/i.test(ub)||/msie 8/i.test(ub))&&f("html").addClass("ie7"),b.labelElement=f('<div class="shield-tooltip" style="pointer-events: none"></div>').appendTo(c.element),(cb||Zb)&&f(b.labelElement).bind("mouseover",function(b){a[c.guid].container.onmousemove(b)}),b.chartBound=d.chartBound}function mc(c,b){var a=this,d=U?"":b.zoomMode;a.zoomX=/x/.test(d),a.zoomY=/y/.test(d),a.options=b,a.chart=c,a.init(c,b.tooltipSettings)}function kc(a,f){var c=this,j=c.options,e=a.legendItem,d=a.legendLine,g=a.legendSymbol,h=c.disabledStyle.color,i=f?j.legendItemSettings.elementStyle.color:h,b=f?a.color:h,k=(a.options&&a.options.pointMark,{stroke:b,fill:b,"stroke-width":0});e&&e.css({fill:i}),d&&d.attr({stroke:b}),g&&g.attr(k)}function Dd(a){var d=this,e=d.options,h=e.legendMarkerDistance,i=!e.rtlLayout,f=a._legendItemPos,b=f[0],g=f[1],c=a.checkbox;a.legendGroup&&a.legendGroup.translate(i?b:d.legendWidth-b-2*h-4,g),c&&(c.x=b,c.y=g)}function Dc(a){a.legendItem&&a.legendItem.destroy(),a.legendLine&&a.legendLine.destroy(),a.legendSymbol&&a.legendSymbol.destroy(),a.legendGroup&&a.legendGroup.destroy(),a.checkbox&&lb(a.checkbox)}function Bc(){var a=this;c(a.allItems,function(c){var b=c.checkbox,d=a.group.alignAttr;b&&s(b,{left:d.translateX+c.legendelementWidth+b.x-20+q,top:d.translateY+b.y+3+q})})}function od(c){{var i,o,e,b=this,y=b.chart,w=a[y.guid],v=w.renderer,d=b.options,m="horizontal"===d.renderDirection,u=d.symbolWidthINTERNAL,l=d.legendMarkerDistance,p=b.elementStyle,q=b.disabledStyle,r=b.padding,s=!d.rtlLayout,t=d.width,n=d.legendItemSettings.bottomSpacing||0,j=b.topSpacing,g=b.initialItemX,f=c.legendItem,x=c.dataSeries||c;x.options}f||(c.legendGroup=v.g().attr({zIndex:1}).add(b.scrollGroup),x.drawLegendSymbol(b,c),c.legendItem=f=v.text(c.collectionAlias,s?u+l:-l,b.baseline,d.htmlOutput).css(h(c.visible?p:q)).attr({align:s?"left":"right",zIndex:2}).add(c.legendGroup),c.legendGroup.on("mouseover",function(){c.setState(M),f.css(b.options.legendItemSettings.mouseOverStyle)}).on("mouseout",function(){f.css(c.visible?p:q),c.setState()}).on("click",function(){c.toggle()}),kc.call(b,c,c.visible)),o=f.getBBox(),e=c.legendelementWidth=d.legendItemSettings.elementWidth||u+l+o.width+r,b.itemHeight=i=o.height,m&&b.itemX-g+e>(t||w.chartWidth-2*r-g)&&(b.itemX=g,b.itemY+=j+b.lastLineHeight+n,b.lastLineHeight=0),b.maxelementWidth=k(b.maxelementWidth,e),b.lastItemY=j+b.itemY+n,b.lastLineHeight=k(i,b.lastLineHeight),c._legendItemPos=[b.itemX,b.itemY],m?b.itemX+=e:(b.itemY+=j+i+n,b.lastLineHeight=i),b.offsetWidth=t||k(m?b.itemX-g:e,b.offsetWidth)}function xd(d){var f,b=this,i=b.chart,g=a[i.guid],e=(g.renderer,b.options),h=e.y,j="top"===e.verticalAlign,c=g.spacingBox.height+(j?-h:h)-this.padding,k=b.clipRect;return"horizontal"===e.renderDirection&&(c/=2),d>c&&(b.clipHeight=f=c,k.attr({height:f}),d=c),d}function vc(a){this.init(a)}function Q(h,b,c,d){var e=a[h.guid],f=d?c:b,g=d?b:c;return f>=0&&f<=e.plotWidth&&g>=0&&g<=e.plotHeight}function uc(){for(var a,b=this,d=["graphic","tracker","dataLabel","group","connector","shadowGroup"],c=6;c--;)a=d[c],b[a]&&(b[a]=b[a].destroy())}function zd(d,h){var a,e=this,c=e.dataSeries,g=c.chart,f=c.data,i=f.length;for(yb(h,g),d=b(d,!0),a=0;i>a;a++)if(f[a]===e){f.splice(a,1),c.options.data.splice(a,1),c.xData.splice(a,1),c.yData.splice(a,1);break}e.destroy(),c.isDirty=!0,c.isDirtyData=!0,d&&g.redraw()}function Tc(e,g,k){var f,c=this,l=c.dataSeries,h=l.chart,i=a[h.guid],j=c.slicedTranslation;yb(k,h),g=b(g,!0),e=c.sliced=d(e)?e:!c.sliced,f={translateX:e?j[0]:i.plotLeft,translateY:e?j[1]:i.plotTop},c.group.animate(f),c.shadowGroup&&c.shadowGroup.animate(f)}function Rc(a,b,c){this.init.call(this,a,b,c)}function Qc(d,c,e){var b=this,f=a[c.guid];d.call(b,c,e),f.enablePolarLayout&&(b.closeSegment=function(c){var a=b.axisX.center;c.push("L",a[0],a[1])},b.closedStacks=!0)}function Kc(m,j){var c,b=this,h=a[b.chart.guid],g=b.options.applyAnimation,d=b.group,f=b.markerGroup,k=b.axisX.center,l=h.plotLeft,i=h.plotTop;h.enablePolarLayout?h.renderer.isSVG&&!cb&&(g===!0&&(g={}),j?(d.attrSetters.scaleX=d.attrSetters.scaleY=function(b,c){var a=this;return a[c]=b,a.scaleX!==e&&a.scaleY!==e&&a.element.setAttribute("transform","translate("+a.translateX+","+a.translateY+") scale("+a.scaleX+","+a.scaleY+")"),!1},c={translateX:k[0]+l,translateY:k[1]+i,scaleX:0,scaleY:0},d.attr(c),f&&(f.attrSetters=d.attrSetters,f.attr(c))):(c={translateX:l,translateY:i,scaleX:1,scaleY:1},d.animate(c,g),f&&f.animate(c,g),b.animate=null)):m.call(b,j)}var Pb,Qb,Y,Cb,cc,r,Db,Hc,Gc,Cc,Hb,bc,ac,wc,sc,_b,Ic,Ac,zc=n.ui.Widget,Cd=n.Constants,o=document,l=Math,g=l.round,K=l.floor,rb=l.ceil,k=l.max,G=l.min,N=l.abs,A=l.cos,F=l.sin,t=l.PI,Lb=2*t/360,Mb="function",ub=navigator.userAgent,Zb=H.opera,cb=/msie/i.test(ub)&&!Zb,Fb=8===o.documentMode,gc=/AppleWebKit/.test(ub),Yb=/Firefox/.test(ub),eb=Cd.SVG_NS,P=!!o.createElementNS&&!!o.createElementNS(eb,"svg").createSVGRect,Vb=!!o.createElement("canvas").getContext,U=!P&&!cb&&Vb,V=o.documentElement.ontouchstart!==e,Nc={},W=function(){},j=f.extend,Sb=n.error,m=n.to.int,S=n.is.string,O=n.is.object,kb=n.is.array,ob=n.is.number,Ad=(n.is.integer,n.is.float),d=n.is.defined,bb=n.to.array,Ib="shield-",T="div",B="visible",z="hidden",Ub="relative",q="px",w="L",x="M",L="none",gb="absolute",ec="pointer",fc="rgba(192,192,192,"+(P?1e-4:.002)+")",E="",M="pointHoveredState",$="pointSelectedState",rd="MILLISECOND",yc="SECOND",hc="MINUTE",Rb="HOUR",jb="DAY",jc="WEEK",Nb="MONTH",Bb="YEAR",Fc="stroke-width",a={};seriesTypes={},xc.prototype={wrapColor:function(a){this.color>=a&&(this.color=0)},wrapSymbol:function(a){this.symbol>=a&&(this.symbol=0)}},r={MILLISECOND:1,SECOND:1e3,MINUTE:6e4,HOUR:36e5,DAY:864e5,WEEK:6048e5,MONTH:2592e6,YEAR:31556952e3},cc={init:function(g,f,n){f=f||"";var k,e,c,h,m,l=g.shift,i=f.indexOf("C")>-1,d=i?7:3,a=f.split(" "),b=[].concat(n),j=function(a){for(c=a.length;c--;)a[c]===x&&a.splice(c+1,0,a[c+1],a[c+2],a[c+1],a[c+2])};if(i&&(j(a),j(b)),g.isArea&&(h=a.splice(a.length-6,6),m=b.splice(b.length-6,6)),l<=b.length/d)for(;l--;)b=[].concat(b).splice(0,d).concat(b);if(g.shift=0,a.length)for(k=b.length;a.length<k;)e=[].concat(a).splice(a.length-d,d),i&&(e[d-6]=e[d-2],e[d-5]=e[d-1]),a=a.concat(e);return h&&(a=a.concat(h),b=b.concat(m)),[a,b]},step:function(d,e,f,g){var b,c=[],a=d.length;if(1===f)c=g;else if(a===e.length&&1>f)for(;a--;)b=parseFloat(d[a]),c[a]=isNaN(b)?d[a]:f*parseFloat(e[a]-b)+b;else c=e;return c}},function(){var b,c=f.fx,d=c.step,a=f.Tween,g=a&&a.propHooks;f.extend(f.easing,{easeOutQuad:function(e,a,b,c,d){return-c*(a/=d)*(a-2)+b}}),f.each(["cur","_default","width","height"],function(j,b){var h,i,f=d;"cur"===b?f=c.prototype:"_default"===b&&a&&(f=g[b],b="set"),h=f[b],h&&(f[b]=function(a){return a=j?a:this,i=a.elem,i.attr?i.attr(a.prop,"cur"===b?e:a.now):h.apply(this,arguments)})}),b=function(a){var c,b=a.elem;a.started||(c=cc.init(b,b.d,b.toD),a.start=c[0],a.end=c[1],a.started=!0),b.attr("d",cc.step(a.start,a.end,a.pos,b.toD))},a?g.d={set:b}:d.d=b}();var ld=(f.getScript,f.inArray),c=Array.prototype.forEach?function(a,b){return Array.prototype.forEach.call(a,b)}:function(b,c){for(var a=0,d=b.length;d>a;a++)if(c.call(b[a],b[a],a,b)===!1)return a},kd=f.grep,id=function(a){return f(a).offset()},wb=f.map,h=function(){return f.extend.apply(f,[].concat.apply([!0,null],arguments))},C=function(a,b,c){f(a).bind(b,c)},I=function(a,c,d){var b=o.removeEventListener?"removeEventListener":"detachEvent";o[b]&&!a[b]&&(a[b]=function(){}),f(a).unbind(c,d)},dd=function(a,c,d,g){var h,b=f.Event(c),e="detached"+c;!cb&&d&&(delete d.layerX,delete d.layerY),j(b,d),a[c]&&(a[e]=a[c],a[c]=null),f.each(["preventDefault","stopPropagation"],function(d,a){var c=b[a];b[a]=function(){try{c.call(b)}catch(d){"preventDefault"===a&&(h=!0)}}}),f(a).trigger(b),a[e]&&(a[c]=a[e],a[e]=null),!g||b.isDefaultPrevented()||h||g(b)},ab=function(a,c,d,b){var e;a instanceof n.ui.Widget?a.trigger(c,d,b):a instanceof n.Dispatcher?(e=a.trigger(c,d),typeof b!==Mb||e.isDefaultPrevented()||b.call(a,e)):dd(a,c,d,b)},cd=function(b,a,d){var c=f(b);a.d&&(b.toD=a.d,a.d=1),c.stop(),c.animate(a,d)},Gb=function(a){f(a).stop()},qc={enabled:!0,align:"center",x:0,y:15,style:{color:"#7E7E7E",fontSize:"11px",lineHeight:"14px"}};Y={seriesPalette:["#1E98E4","#FFC500","#FF2A00","#CACACA","#7F7F7F","#00FF9C","#6D31FF","#00B2A1","#B9FF85","#FF8000"],allowUTCFormatting:!0,localization:{},primaryHeader:{text:"Shield UI Chart",align:"center",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif",y:-15,style:{color:"#4B4B4B",fontSize:"16px",top:10}},secondaryHeader:{text:"",align:"center",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif",y:5,style:{color:"#606060"}},loadingTextStyle:{fontWeight:"bold",position:Ub,top:"1em"},symbols:["circle"],chartAreaBorderColor:"#000000",chartAreaBorderWidth:0,borderColor:"#A0A0A0",borderRadius:0,borderWidth:0,seriesType:"bar",scaleAxesForHiddenSeries:!1,chartAreaPaddingTop:40,chartAreaPaddingRight:10,chartAreaPaddingBottom:20,chartAreaPaddingLeft:10,style:{fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif",fontSize:"12px"},backgroundColor:"#FFFFFF",axisX:{plotStripWidth:0,drawWidth:1,ticksWidth:1,ticksHeight:6,drawColor:"#636363",ticksColor:"#636363",lastTickTextVisible:!0,axisTickText:{style:{color:"#636363",fontSize:"11px",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif"},y:17},title:{style:{color:"#636363",fontWeight:"normal",fontSize:"11px",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif"}}},axisY:{plotStripWidth:1,drawWidth:0,tickWidth:1,tickColor:"#7E7E7E",drawColor:"#636363",plotStripDashStyle:"Solid",axisTickText:{style:{color:"#636363",fontSize:"11px",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif"}},title:{style:{color:"#636363",fontSize:"11px",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif"}}},seriesSettings:{bar:{borderWidth:0},line:{enablePointSelection:!1,applyAnimation:{duration:1200},events:{},drawWidth:3,shadow:!1,pointMark:{enabled:!0,drawWidth:2,drawRadius:3,drawColor:null,innerColor:null,activeSettings:{pointHoveredState:{enabled:!0,innerColor:"#FFFFFF",drawWidth:2,drawRadius:4},pointSelectedState:{color:"#7AF4F4",shadow:!1,drawWidth:2}}},point:{events:{}},dataPointText:h(qc,{enabled:!1,format:"{point.y}",verticalAlign:"bottom",y:0}),pointsLimit:300,pointRange:0,addToLegend:!0,activeSettings:{pointHoveredState:{drawWidth:3,pointMark:{}},pointSelectedState:{pointMark:{}}},completeSeriesTrace:!0},polarline:{applyAnimation:{duration:500}},polararea:{applyAnimation:{duration:500}},polarbar:{applyAnimation:{duration:500}},polarspline:{applyAnimation:{duration:500}},polarsplinearea:{applyAnimation:{duration:500}},polarscatter:{applyAnimation:{duration:500}}},chartLegend:{enabled:!0,align:"center",renderDirection:"horizontal",borderWidth:0,borderColor:"#909090",borderRadius:0,shadow:!1,legendItemSettings:{disabledStyle:{color:"#CCC"},mouseOverStyle:{color:"#000"},elementStyle:{cursor:ec,color:"#3E576F",fontSize:"12px"}},itemCheckboxStyle:{position:gb,width:"13px",height:"13px"},symbolWidthINTERNAL:12,drawRadius:4,legendMarkerDistance:5,verticalAlign:"bottom",x:0,y:10},tooltipSettings:{enabled:!0,customHeaderText:"{point.pointName}",customPointText:"<span>{point.dataSeries.collectionAlias}</span>: {point.y}",format:null,position:null,chartBound:!1,axisMarkers:{enabled:!1,mode:"xy",color:"#999999",width:1,zIndex:3},showDistance:V?25:10}};var i=Y.seriesSettings,Ab=i.line;ed();var fb=function(c){function d(c){b=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(c),b?a=[m(b[1]),m(b[2]),m(b[3]),parseFloat(b[4],10)]:(b=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(c),b&&(a=[m(b[1],16),m(b[2],16),m(b[3],16),1]))}function e(b){var d;return d=a&&!isNaN(a[0])?"rgb"===b?"rgb("+a[0]+","+a[1]+","+a[2]+")":"a"===b?a[3]:"rgba("+a.join(",")+")":c}function f(c){if(ob(c)&&0!==c){var b;for(b=0;3>b;b++)a[b]+=m(255*c),a[b]<0&&(a[b]=0),a[b]>255&&(a[b]=255)}return this}function g(b){return a[3]=b,this}var b,a=[];return d(c),{get:e,brighten:f,setOpacity:g}};_.prototype={init:function(c,a){var b=this;b.element="span"===a?J(a):o.createElementNS(eb,a),b.renderer=c,b.attrSetters={}},animate:function(d,e,c){var a=b(e,Cb,!0);Gb(this),a?(a=h(a),c&&(a.complete=c),cd(this,d,a)):(this.attr(d),c&&c())},attr:function(h,v){var a,b,q,g,t,i,j,x,u,c=this,f=c.element,l=f.nodeName.toLowerCase(),s=c.renderer,w=c.attrSetters,n=c.shadows,r=c;if(S(h)&&d(v)&&(a=h,h={},h[a]=v),S(h))a=h,"circle"===l?a={x:"cx",y:"cy"}[a]||a:"strokeWidth"===a&&(a="stroke-width"),r=p(f,a)||c[a]||0,"d"!==a&&"visibility"!==a&&(r=parseFloat(r));else for(a in h)if(i=!1,b=h[a],q=w[a]&&w[a].call(c,b,a),q!==!1){if(q!==e&&(b=q),"d"===a)b&&b.join&&(b=b.join(" ")),/(NaN| {2}|^$)/.test(b)&&(b="M 0 0");else if("x"===a&&"text"===l){for(g=0;g<f.childNodes.length;g++)t=f.childNodes[g],p(t,"x")===p(f,"x")&&p(t,"x",b);c.textAngle&&p(f,"transform","rotate("+c.textAngle+" "+b+" "+m(h.y||p(f,"y"))+")")}else if("fill"===a)b=s.color(b,f,a);else if("circle"!==l||"x"!==a&&"y"!==a)if("rect"===l&&"r"===a)p(f,{rx:b,ry:b}),i=!0;else if("translateX"===a||"translateY"===a||"textAngle"===a||"verticalAlign"===a)u=!0,i=!0;else if("stroke"===a)b=s.color(b,f,a);else if("dashstyle"===a){if(a="stroke-dasharray",b=b&&b.toLowerCase(),"solid"===b)b=L;else if(b){for(b=b.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),g=b.length;g--;)b[g]=m(b[g])*h["stroke-width"];b=b.join(",")}}else"isTracker"===a?c[a]=b:"width"===a?b=m(b):"align"===a?(a="text-anchor",b={left:"start",center:"middle",right:"end"}[b]):"title"===a&&(j=f.getElementsByTagName("title")[0],j||(j=o.createElementNS(eb,"title"),f.appendChild(j)),j.textContent=b);else a={x:"cx",y:"cy"}[a]||a;if("strokeWidth"===a&&(a="stroke-width"),gc&&"stroke-width"===a&&0===b&&(b=1e-6),c.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(a)&&(x||(c.symbolAttr(h),x=!0),i=!0),n&&/^(width|height|visibility|x|y|d|transform)$/.test(a))for(g=n.length;g--;)p(n[g],a,"height"===a?k(b-(n[g].cutHeight||0),0):b);("width"===a||"height"===a)&&"rect"===l&&0>b&&(b=0),c[a]=b,u&&c.updateTransform(),"text"===a?(b!==c.textStr&&delete c.bBox,c.textStr=b,c.added&&s.buildText(c)):i||p(f,a,b)}return r},symbolAttr:function(d){var a=this;c(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(c){a[c]=b(d[c],a[c])}),a.attr({d:a.renderer.symbols[a.symbolName](a.x,a.y,a.width,a.height,a)})},clip:function(a){return this.attr("clip-path",a?"url("+this.renderer.url+"#"+a.id+")":L)},crisp:function(e,h,i,j,k){var c,d,a=this,f={},b={};e=e||a.strokeWidth||a.attr&&a.attr("stroke-width")||0,d=g(e)%2/2,b.x=K(h||a.x||0)+d,b.y=K(i||a.y||0)+d,b.width=K((j||a.width||0)-2*d),b.height=K((k||a.height||0)-2*d),b.strokeWidth=e;for(c in b)a[c]!==b[c]&&(a[c]=f[c]=b[c]);return f},css:function(a){var c,b=this,f=b.element,d=a&&a.width&&"text"===f.nodeName.toLowerCase(),e="",g=function(b,a){return"-"+a.toLowerCase()};if(a&&a.color&&(a.fill=a.color),a=j(b.styles,a),b.styles=a,U&&d&&delete a.width,cb&&!P)d&&delete a.width,s(b.element,a);else{for(c in a)e+=c.replace(/([A-Z])/g,g)+":"+a[c]+";";b.attr({style:e})}return d&&b.added&&b.renderer.buildText(b),b},on:function(a,b){var c=b;return V&&"click"===a&&(a="touchstart",c=function(a){a.preventDefault(),b()}),this.element["on"+a]=c,this},setRadialReference:function(a){return this.element.radialReference=a,this},translate:function(a,b){return this.attr({translateX:a,translateY:b})},invert:function(){var a=this;return a.isInverted=!0,a.updateTransform(),a},htmlCss:function(b){var a=this,d=a.element,c=b&&"SPAN"===d.tagName&&b.width;return c&&(delete b.width,a.textWidth=c,a.updateTransform()),a.styles=j(a.styles,b),s(a.element,b),a},htmlGetBBox:function(){var b=this,a=b.element,c=b.bBox;return c||("text"===a.nodeName&&(a.style.position=gb),c=b.bBox={x:a.offsetLeft,y:a.offsetTop,width:a.offsetWidth,height:a.offsetHeight}),c},htmlUpdateTransform:function(){if(!this.added)return this.alignOnAdd=!0,void 0;var a=this,v=a.renderer,e=a.element,w=a.translateX||0,y=a.translateY||0,D=a.x||0,G=a.y||0,l=a.textAlignINTERNAL||"left",i={left:0,center:.5,right:1}[l],E=l&&"left"!==l,B=a.shadows;if((w||y)&&(s(e,{marginLeft:w,marginTop:y}),B&&c(B,function(a){s(a,{marginLeft:w+1,marginTop:y+1})})),a.isInverted&&c(e.childNodes,function(a){v.invertChild(a,e)}),"SPAN"===e.tagName){var n,p,r,t,C,h=a.textAngle,u=0,g=1,f=0,x=m(a.textWidth),k=a.xCorr||0,j=a.yCorr||0,z=[h,l,e.innerHTML,a.textWidth].join(","),o={};z!==a.cTT&&(d(h)&&(v.isSVG?(C=cb?"-ms-transform":gc?"-webkit-transform":Yb?"MozTransform":Zb?"-o-transform":"",o[C]=o.transform="rotate("+h+"deg)"):(u=h*Lb,g=A(u),f=F(u),o.filter=h?["progid:DXImageTransform.Microsoft.Matrix(M11=",g,", M12=",-f,", M21=",f,", M22=",g,", sizingMethod='auto expand')"].join(""):L),s(e,o)),n=b(a.elemWidth,e.offsetWidth),p=b(a.elemHeight,e.offsetHeight),n>x&&/[ \-]/.test(e.innerText)&&(s(e,{width:x+q,display:"block",whiteSpace:"normal"}),n=x),r=v.fontMetrics(e.style.fontSize).b,k=0>g&&-n,j=0>f&&-p,t=0>g*f,k+=f*r*(t?1-i:i),j-=g*r*(h?t?i:1-i:1),E&&(k-=n*i*(0>g?-1:1),h&&(j-=p*i*(0>f?-1:1)),s(e,{textAlignINTERNAL:l})),a.xCorr=k,a.yCorr=j),s(e,{left:D+k+q,top:G+j+q}),a.cTT=z}},updateTransform:function(){var a=this,c=a.translateX||0,d=a.translateY||0,e=a.isInverted,f=a.textAngle,b=[];e&&(c+=a.attr("width"),d+=a.attr("height")),(c||d)&&b.push("translate("+c+","+d+")"),e?b.push("rotate(90) scale(-1,1)"):f&&b.push("rotate("+f+" "+(a.x||0)+" "+(a.y||0)+")"),b.length&&p(a.element,"transform",b.join(" "))},toFront:function(){var a=this.element;return a.parentNode.appendChild(a),this},align:function(c,e,d){var a=this;c?(a.alignOptions=c,a.alignByTranslate=e,d||a.renderer.alignedObjects.push(a)):(c=a.alignOptions,e=a.alignByTranslate),d=b(d,a.renderer);var h=c.align,i=c.verticalAlign,j=(d.x||0)+(c.x||0),k=(d.y||0)+(c.y||0),f={};return("right"===h||"center"===h)&&(j+=(d.width-(c.width||0))/{right:1,center:2}[h]),f[e?"translateX":"x"]=g(j),("bottom"===i||"middle"===i)&&(k+=(d.height-(c.height||0))/({bottom:1,middle:2}[i]||1)),f[e?"translateY":"y"]=g(k),a[a.placed?"animate":"attr"](f),a.placed=!0,a.alignAttr=f,a},getBBox:function(){var f,d,b=this,a=b.bBox,g=b.renderer,h=b.textAngle,c=b.element,i=b.styles,e=h*Lb;if(!a){if(c.namespaceURI===eb||g.forExport){try{a=c.getBBox?j({},c.getBBox()):{width:c.offsetWidth,height:c.offsetHeight}}catch(k){}(!a||a.width<0)&&(a={width:0,height:0})}else a=b.htmlGetBBox();g.isSVG&&(f=a.width,d=a.height,h&&(a.width=N(d*F(e))+N(f*A(e)),a.height=N(d*A(e))+N(f*F(e)))),cb&&i&&"11px"===i.fontSize&&22.700000762939453===d&&(a.height=14),b.bBox=a}return a},show:function(){return this.attr({visibility:B})},hide:function(){return this.attr({visibility:z})},add:function(a){var e,g,c,k,j=this.renderer,h=a||j,i=h.element||j.box,l=i.childNodes,f=this.element,b=p(f,"zIndex");if(a&&(this.parentGroup=a),this.parentInverted=a&&a.isInverted,void 0!==this.textStr&&j.buildText(this),b&&(h.handleZ=!0,b=m(b)),h.handleZ)for(c=0;c<l.length;c++)if(e=l[c],g=p(e,"zIndex"),e!==f&&(m(g)>b||!d(b)&&d(g))){i.insertBefore(f,e),k=!0;break}return k||i.appendChild(f),this.added=!0,ab(this,"add"),this},safeRemoveChild:function(a){var b=a.parentNode;b&&b.removeChild(a)},destroy:function(){if(!this._destroyed){var e,b,a=this,d=a.element||{},f=a.shadows;if(d.onclick=d.onmouseout=d.onmouseover=d.onmousemove=null,Gb(a),a.clipPath&&(a.clipPath=a.clipPath.destroy()),a.stops){for(b=0;b<a.stops.length;b++)a.stops[b]=a.stops[b].destroy();a.stops=null}a.safeRemoveChild(d),f&&c(f,function(b){a.safeRemoveChild(b)}),a.renderer._destroyed||vb(a.renderer.alignedObjects,a);for(e in a)delete a[e];return a._destroyed=!0,null}},empty:function(){for(var a=this.element,b=a.childNodes,c=b.length;c--;)a.removeChild(b[c])},shadow:function(c,h,m){var d,a,e,f,i,j,l=[],g=this.element;if(c){for(f=b(c.width,3),i=(c.opacity||.15)/f,j=this.parentInverted?"(-1,-1)":"("+b(c.offsetX,1)+", "+b(c.offsetY,1)+")",d=1;f>=d;d++)a=g.cloneNode(0),e=2*f+1-2*d,p(a,{isShadow:"true",stroke:c.color||"black","stroke-opacity":i*d,"stroke-width":e,transform:"translate"+j,fill:L}),m&&(p(a,"height",k(p(a,"height")-e,0)),a.cutHeight=e),h?h.element.appendChild(a):g.parentNode.insertBefore(a,g),l.push(a);this.shadows=l}return this}};var Z=function(){this.init.apply(this,arguments)};Z.prototype={Element:_,init:function(b,f,g,h){var d,a=this,i=location;d=a.createElement("svg").attr({xmlns:eb,version:"1.1"}),b.appendChild(d.element),a.isSVG=!0,a.box=d.element,a.boxWrapper=d,a.alignedObjects=[],a.url=(Yb||gc)&&o.getElementsByTagName("base").length?i.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",a.defs=this.createElement("defs").add(),a.forExport=h,a.gradients={},a.setSize(f,g,!1);var e,c;Yb&&b.getBoundingClientRect&&(a.subPixelFix=e=function(){s(b,{left:0,top:0}),c=b.getBoundingClientRect(),s(b,{left:rb(c.left)-c.left+q,top:rb(c.top)-c.top+q})},e(),C(H,"resize",e))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){if(!this._destroyed){var a=this,b=a.defs;return a.box=null,a.boxWrapper=a.boxWrapper.destroy(),sb(a.gradients||{}),a.gradients=null,b&&(a.defs=b.destroy()),a.subPixelFix&&I(H,"resize",a.subPixelFix),a.alignedObjects=null,a._destroyed=!0,null}},createElement:function(b){var a=new this.Element;return a.init(this,b),a},draw:function(){},buildText:function(d){function v(b){return i[b]=a.getBBox?a.getBBox().height:d.renderer.fontMetrics(a.style.fontSize).h,g(i[b]-(i[b-1]||0))}for(var j,a=d.element,h=b(d.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),n=a.childNodes,l=/style="([^"]+)"/,u=/href="([^"]+)"/,k=p(a,"x"),f=d.styles,e=f&&f.width&&m(f.width),q=f&&f.lineHeight,r="getComputedStyle",t=n.length,i=[];t--;)a.removeChild(n[t]);e&&!d.added&&this.box.appendChild(a),""===h[h.length-1]&&h.pop(),c(h,function(f,i){var g,b,h=0;f=f.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),g=f.split("|||"),c(g,function(f){if(""!==f||1===g.length){var t,y={},c=o.createElementNS(eb,"tspan");if(l.test(f)&&(t=f.match(l)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),p(c,"style",t)),u.test(f)&&(p(c,"onclick",'location.href="'+f.match(u)[1]+'"'),s(c,{cursor:ec})),f=(f.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">"),c.appendChild(o.createTextNode(f)),h?y.dx=3:y.x=k,h||(i&&(!P&&d.renderer.forExport&&s(c,{display:"block"}),b=H[r]&&m(H[r](j,null).getPropertyValue("line-height")),(!b||isNaN(b))&&(b=q||j.offsetHeight||v(i)||18),p(c,"dy",b)),j=c),p(c,y),a.appendChild(c),h++,e)for(var z,w,n=f.replace(/([^\^])-/g,"$1- ").split(" "),x=[];n.length||x.length;)delete d.bBox,w=d.getBBox().width,z=w>e,z&&1!==n.length?(c.removeChild(c.firstChild),x.unshift(n.pop())):(n=x,x=[],n.length&&(c=o.createElementNS(eb,"tspan"),p(c,{dy:q||16,x:k}),t&&p(c,"style",t),a.appendChild(c),w>e&&(e=w))),n.length&&c.appendChild(o.createTextNode(n.join(" ").replace(/- /g,"-")))}})})},crispLine:function(a,b){return a[1]===a[4]&&(a[1]=a[4]=g(a[1])-b%2/2),a[2]===a[5]&&(a[2]=a[5]=g(a[2])+b%2/2),a},path:function(a){var b={fill:L};return kb(a)?b.d=a:O(a)&&j(b,a),this.createElement("path").attr(b)},circle:function(a,b,c){var d=O(a)?a:{x:a,y:b,r:c};return this.createElement("circle").attr(d)},arc:function(a,c,b,d,e,f){return O(a)&&(c=a.y,b=a.r,d=a.innerR,e=a.start,f=a.end,a=a.x),this.symbol("arc",a||0,c||0,b||0,b||0,{innerR:d||0,start:e||0,end:f||0})},rect:function(a,d,e,f,b,g){b=O(a)?a.r:b;
var c=this.createElement("rect").attr({rx:b,ry:b,fill:L});return c.attr(O(a)?a:c.crisp(g,a,d,k(e,0),k(f,0)))},setSize:function(c,d,g){var a=this,e=a.alignedObjects,f=e.length;for(a.width=c,a.height=d,a.boxWrapper[b(g,!0)?"animate":"attr"]({width:c,height:d});f--;)e[f].align()},g:function(a){var b=this.createElement("g");return d(a)?b.attr({"class":Ib+a}):b},image:function(b,d,e,f,g){var a,c={preserveAspectRatio:L};return arguments.length>1&&j(c,{x:d,y:e,width:f,height:g}),a=this.createElement("image").attr(c),a.element.setAttributeNS?a.element.setAttributeNS("http://www.w3.org/1999/xlink","href",b):a.element.setAttribute("hc-svg-href",b),a},symbol:function(c,e,f,k,l,d){var a,b,h,i,m=this.symbols[c],n=m&&m(g(e),g(f),k,l,d),o=/^url\((.*?)\)$/;return n?(a=this.path(n),j(a,{symbolName:c,x:e,y:f,width:k,height:l}),d&&j(a,d)):o.test(c)&&(i=function(b,a){b.attr({width:a[0],height:a[1]}),b.alignByTranslate||b.translate(-g(a[0]/2),-g(a[1]/2))},b=c.match(o)[1],h=Nc[b],a=this.image(b).attr({x:e,y:f}),h?i(a,h):(a.attr({width:0,height:0}),J("img",{onload:function(){var c=this;i(a,Nc[b]=[c.width,c.height])},src:b}))),a},symbols:{circle:function(a,b,c,e){var d=.166*c;return[x,a+c/2,b,"C",a+c+d,b,a+c+d,b+e,a+c/2,b+e,"C",a-d,b+e,a-d,b,a+c/2,b,"Z"]},square:function(a,b,c,d){return[x,a,b,w,a+c,b,a+c,b+d,a,b+d,"Z"]},triangle:function(a,b,c,d){return[x,a+c/2,b,w,a+c,b+d,a,b+d,"Z"]},"triangle-down":function(a,b,c,d){return[x,a,b,w,a+c,b,a+c/2,b+d,"Z"]},diamond:function(a,b,c,d){return[x,a+c/2,b,w,a+c,b+d/2,a+c/2,b+d,a,b+d/2,"Z"]},arc:function(d,e,o,n,a){var f=a.start,b=a.r||o||n,m=a.end-1e-6,c=a.innerR,j=a.open,k=A(f),l=F(f),g=A(m),i=F(m),h=a.end-f<t?0:1;return[x,d+b*k,e+b*l,"A",b,b,0,h,1,d+b*g,e+b*i,j?x:w,d+c*g,e+c*i,"A",c,c,0,h,0,d+c*k,e+c*l,j?"":"Z"]}},clipRect:function(d,e,f,g){var a,b=n.strid(),c=this.createElement("clipPath").attr({id:b}).add(this.defs);return a=this.rect(d,e,f,g,0).add(c),a.id=b,a.clipPath=c,a},color:function(b,k,o){var g,f,h=this,r=/^rgba/;if(b&&b.linearGradient?f="linearGradient":b&&b.radialGradient&&(f="radialGradient"),f){var i,l,m,a=b[f],q=h.gradients,e=k.radialReference;return a.id&&q[a.id]||(kb(a)&&(b[f]=a={x1:a[0],y1:a[1],x2:a[2],y2:a[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===f&&e&&!d(a.gradientUnits)&&j(a,{cx:e[0]-e[2]/2+a.cx*e[2],cy:e[1]-e[2]/2+a.cy*e[2],r:a.r*e[2],gradientUnits:"userSpaceOnUse"}),a.id=n.strid(),q[a.id]=i=h.createElement(f).attr(a).add(h.defs),i.stops=[],c(b.stops,function(a){var b;r.test(a[1])?(g=fb(a[1]),l=g.get("rgb"),m=g.get("a")):(l=a[1],m=1),b=h.createElement("stop").attr({offset:a[0],"stop-color":l,"stop-opacity":m}).add(i),i.stops.push(b)})),"url("+h.url+"#"+a.id+")"}return r.test(b)?(g=fb(b),p(k,o+"-opacity",g.get("a")),g.get("rgb")):(k.removeAttribute(o+"-opacity"),b)},text:function(f,a,c,i){var d,e=this,h=Y.style,j=U||!P&&e.forExport;return i&&!e.forExport?e.html(f,a,c):(a=g(b(a,0)),c=g(b(c,0)),d=e.createElement("text").attr({x:a,y:c,text:f}).css({fontFamily:h.fontFamily,fontSize:h.fontSize}),j&&d.css({position:gb}),d.x=a,d.y=c,d)},html:function(h,i,k){var e=Y.style,a=this.createElement("span"),b=a.attrSetters,d=a.element,f=a.renderer;return b.text=function(a){return a!==d.innerHTML&&delete this.bBox,d.innerHTML=a,!1},b.x=b.y=b.align=function(c,b){return"align"===b&&(b="textAlignINTERNAL"),a[b]=c,a.htmlUpdateTransform(),!1},a.attr({text:h,x:g(i),y:g(k)}).css({position:gb,whiteSpace:"nowrap",fontFamily:e.fontFamily,fontSize:e.fontSize}),a.css=a.htmlCss,f.isSVG&&(a.add=function(g){var b,e,h=f.box.parentNode,i=[];if(g){if(b=g.div,!b){for(e=g;e;)i.push(e),e=e.parentGroup;c(i.reverse(),function(a){var c;b=a.div=a.div||J(T,{className:p(a.element,"class")},{position:gb,left:(a.translateX||0)+q,top:(a.translateY||0)+q},b||h),c=b.style,j(a.attrSetters,{translateX:function(a){c.left=a+q},translateY:function(a){c.top=a+q},visibility:function(a,b){c[b]=a}})})}}else b=h;return b.appendChild(d),a.added=!0,a.alignOnAdd&&a.htmlUpdateTransform(),a}),a},fontMetrics:function(a){a=m(a||11);var b=24>a?a+4:g(1.2*a),c=g(.8*b);return{h:b,b:c}},label:function(D,H,F,A,u,x,E,w,G){function J(){var b,c=f.element.style;n=(void 0===l||void 0===t||a.styles.textAlignINTERNAL)&&f.getBBox(),a.width=(l||n.width||0)+2*k,a.height=(t||n.height||0)+2*k,s=k+m.fontMetrics(c&&c.fontSize).b,i||(b=w?-s:0,a.box=i=A?m.symbol(A,-o*k,b,a.width,a.height):m.rect(-o*k,b,a.width,a.height,0,q[Fc]),i.add(a)),i.attr(h({width:a.width,height:a.height},q)),q=null}function B(){var b,g=a.styles,e=g&&g.textAlignINTERNAL,c=k*(1-o);b=w?0:s,!d(l)||"center"!==e&&"right"!==e||(c+={center:.5,right:1}[e]*(l-n.width)),(c!==f.x||b!==f.y)&&f.attr({x:c,y:b}),f.x=c,f.y=b}function p(a,b){i?i.attr(a,b):q[a]=b}function y(){f.add(a),a.attr({text:D,x:H,y:F}),d(u)&&a.attr({anchorX:u,anchorY:x})}var i,n,l,t,r,v,s,m=this,a=m.g(G),f=m.text("",0,0,E).attr({zIndex:1}),o=0,k=3,z=0,q={},b=a.attrSetters;C(a,"add",y),b.width=function(a){return l=a,!1},b.height=function(a){return t=a,!1},b.padding=function(a){return d(a)&&a!==k&&(k=a,B()),!1},b.align=function(a){return o={left:0,center:.5,right:1}[a],!1},b.text=function(a,b){return f.attr(b,a),J(),B(),!1},b[Fc]=function(a,b){return z=a%2/2,p(b,a),!1},b.stroke=b.fill=b.r=function(a,b){return p(b,a),!1},b.anchorX=function(a,b){return u=a,p(b,a+z-r),!1},b.anchorY=function(a,b){return x=a,p(b,a-v),!1},b.x=function(b){return a.x=b,b-=o*((l||n.width)+k),r=g(b),a.attr("translateX",r),!1},b.y=function(b){return v=a.y=g(b),a.attr("translateY",b),!1};var K=a.css;return j(a,{css:function(b){if(b){var d={};b=h({},b),c(["fontSize","fontWeight","fontFamily","color","lineHeight","width"],function(a){b[a]!==e&&(d[a]=b[a],delete b[a])}),f.css(d)}return K.call(a,b)},getBBox:function(){return i.getBBox()},shadow:function(b){return i.shadow(b),a},destroy:function(){a._destroyed||(I(a,"add",y),I(a.element,"mouseenter"),I(a.element,"mouseleave"),f&&(f=f.destroy()),i&&(i=i.destroy()),_.prototype.destroy.call(a))}})}},Pb=Z;var Kb;if(!P&&!U){var nb={init:function(e,a){var c=this,b=["<",a,' filled="f" stroked="f"'],d=["position: ",gb,";"];("shape"===a||a===T)&&d.push("left:0;top:0;width:1px;height:1px;"),Fb&&d.push("visibility: ",a===T?z:B),b.push(' style="',d.join(""),'"/>'),a&&(b=a===T||"span"===a||"img"===a?b.join(""):e.prepVML(b),c.element=J(b)),c.renderer=e,c.attrSetters={}},add:function(b){var a=this,c=a.renderer,d=a.element,f=c.box,g=b&&b.isInverted,e=b?b.element||b:f;return g&&c.invertChild(d,e),e.appendChild(d),a.added=!0,a.alignOnAdd&&!a.deferUpdateTransform&&a.updateTransform(),ab(a,"add"),a},updateTransform:_.prototype.htmlUpdateTransform,attr:function(j,t){var a,b,h,n,s,i,c=this,f=c.element||{},m=f.style,o=f.nodeName,r=c.renderer,y=c.symbolName,l=c.shadows,u=c.attrSetters,v=c;if(S(j)&&d(t)&&(a=j,j={},j[a]=t),S(j))a=j,v="strokeWidth"===a||"stroke-width"===a?c.strokeweight:c[a];else for(a in j)if(b=j[a],i=!1,n=u[a]&&u[a].call(c,b,a),n!==!1&&null!==b){if(n!==e&&(b=n),y&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(a))s||(c.symbolAttr(j),s=!0),i=!0;else if("d"===a){b=b||[],c.d=b.join(" "),h=b.length;for(var w=[];h--;)w[h]=ob(b[h])?g(10*b[h])-5:"Z"===b[h]?"x":b[h];if(b=w.join(" ")||"x",f.path=b,l)for(h=l.length;h--;)l[h].path=l[h].cutOff?this.cutOffPath(b,l[h].cutOff):b;i=!0}else if("visibility"===a){if(l)for(h=l.length;h--;)l[h].style[a]=b;"DIV"===o&&(b=b===z?"-999em":0,a="top"),m[a]=b,i=!0}else if("zIndex"===a)b&&(m[a]=b),i=!0;else if("width"===a||"height"===a)b=k(0,b),this[a]=b,c.updateClipping?(c[a]=b,c.updateClipping()):m[a]=b,i=!0;else if("x"===a||"y"===a)c[a]=b,m[{x:"left",y:"top"}[a]]=b;else if("class"===a)f.className=b;else if("stroke"===a)b=r.color(b,f,a),a="strokecolor";else if("stroke-width"===a||"strokeWidth"===a)f.stroked=b?!0:!1,a="strokeweight",c[a]=b,ob(b)&&(b+=q);else if("dashstyle"===a){var x=f.getElementsByTagName("stroke")[0]||J(r.prepVML(["<stroke/>"]),null,null,f);x[a]=b||"solid",c.dashstyle=b,i=!0}else"fill"===a?"SPAN"===o?m.color=b:(f.filled=b!==L?!0:!1,b=r.color(b,f,a,c),a="fillcolor"):"shape"===o&&"textAngle"===a?(c[a]=b,f.style.left=-g(F(b*Lb)+1)+q,f.style.top=g(A(b*Lb))+q):"translateX"===a||"translateY"===a||"textAngle"===a?(c[a]=b,c.updateTransform(),i=!0):"text"===a&&(this.bBox=null,f.innerHTML=b,i=!0);i||(Fb?f[a]=b:p(f,a,b))}return v},clip:function(b){{var c,d,a=this,e=a.element;e.parentNode}return b?(c=b.members,c.push(a),a.destroyClip=function(){vb(c,a)},d=b.getCSS(a)):(a.destroyClip&&a.destroyClip(),d={clip:Fb?"inherit":"rect(auto)"}),a.css(d)},css:_.prototype.htmlCss,safeRemoveChild:function(a){a.parentNode&&lb(a)},destroy:function(){return this._destroyed?void 0:(this.destroyClip&&this.destroyClip(),_.prototype.destroy.apply(this))},empty:function(){for(var a,d=this.element,b=d.childNodes,c=b.length;c--;)a=b[c],a.parentNode.removeChild(a)},on:function(a,b){return this.element["on"+a]=function(){var a=H.event;a.target=a.srcElement,b(a)},this},cutOffPath:function(a,c){var b;return a=a.split(/[ ,]/),b=a.length,(9===b||11===b)&&(a[b-4]=a[b-2]=m(a[b-2])-10*c),a.join(" ")},shadow:function(a,l,p){var e,c,i,h,j,k,n,g=this,o=[],d=g.element,q=g.renderer,r=d.style,f=d.path;if(f&&"string"!=typeof f.value&&(f="x"),j=f,a){for(k=b(a.width,3),n=(a.opacity||.15)/k,e=1;3>=e;e++)h=2*k+1-2*e,p&&(j=g.cutOffPath(f.value,h+.5)),i=['<shape isShadow="true" strokeweight="',h,'" filled="false" path="',j,'" coordsize="10 10" style="',d.style.cssText,'" />'],c=J(q.prepVML(i),null,{left:m(r.left)+b(a.offsetX,1),top:m(r.top)+b(a.offsetY,1)}),p&&(c.cutOff=h+1),i=['<stroke color="',a.color||"black",'" opacity="',n*e,'"/>'],J(q.prepVML(i),null,null,c),l?l.element.appendChild(c):d.parentNode.insertBefore(c,d),o.push(c);g.shadows=o}return g}};nb=u(_,nb);var $c={Element:nb,isIE8:ub.indexOf("MSIE 8.0")>-1,init:function(d,e,f){var b,c,a=this;a.alignedObjects=[],b=a.createElement(T),c=b.element,c.style.position=Ub,d.appendChild(b.element),a.box=c,a.boxWrapper=b,a.setSize(e,f,!1),o.namespaces.scv||(o.namespaces.add("scv","urn:schemas-microsoft-com:vml"),o.createStyleSheet().cssText="scv\\:fill, scv\\:path, scv\\:shape, scv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},isHidden:function(){return!this.box.offsetWidth},clipRect:function(a,e,f,h){var d=this.createElement(),b=O(a);return j(d,{members:[],left:b?a.x:a,top:b?a.y:e,width:b?a.width:f,height:b?a.height:h,getCSS:function(h){var a=h.isInverted,b=this,c=b.top,d=b.left,e=d+b.width,f=c+b.height,i={clip:"rect("+g(a?d:c)+"px,"+g(a?f:e)+"px,"+g(a?e:f)+"px,"+g(a?c:d)+"px)"};return!a&&Fb&&"IMG"!==h.element.nodeName&&j(i,{width:e+q,height:f+q}),i},updateClipping:function(){c(d.members,function(a){a.css(d.getCSS(a))})}})},color:function(b,k,q,s){var e,m,j,O=this,y=/^rgba/,h=L;if(b&&b.linearGradient?j="gradient":b&&b.radialGradient&&(j="pattern"),j){var g,n,z,A,B,E,M,N,v,w,o,p,a=b.linearGradient||b.radialGradient,r="",f=b.stops,D=function(){m=['<fill colors="'+Y.seriesPalette.join(",")+'" opacity="',N,'" o:opacity2="',M,'" type="',j,'" ',r,'focus="100%" method="any" />'],J(O.prepVML(m),null,null,k)};if(o=f[0],p=f[f.length-1],o[0]>0&&f.unshift([0,o[1]]),p[0]<1&&f.push([1,p[1]]),c(f,function(a,b){y.test(a[1])?(e=fb(a[1]),g=e.get("rgb"),n=e.get("a")):(g=a[1],n=1),Y.seriesPalette.push(100*a[0]+"% "+g),b?(N=n,v=g):(M=n,w=g)}),"fill"===q)if("gradient"===j)z=a.x1||a[0]||0,A=a.y1||a[1]||0,B=a.x2||a[2]||0,E=a.y2||a[3]||0,r='angle="'+(90-180*l.atan((E-A)/(B-z))/t)+'"',D();else{var d,F=a.r,G=2*F,H=2*F,I=a.cx,K=a.cy,i=k.radialReference,x=function(){i&&(d=s.getBBox(),I+=(i[0]-d.x)/d.width-.5,K+=(i[1]-d.y)/d.height-.5,G*=i[2]/d.width,H*=i[2]/d.height),r='size="'+G+","+H+'" origin="0.5,0.5" position="'+I+","+K+'" color2="'+w+'" ',D()};s.added?x():C(s,"add",x),h=v}else h=g}else if(y.test(b)&&"IMG"!==k.tagName)e=fb(b),m=["<",q,' opacity="',e.get("a"),'"/>'],J(this.prepVML(m),null,null,k),h=e.get("rgb");else{var u=k.getElementsByTagName(q);u.length&&(u[0].opacity=1),h=b}return h},prepVML:function(a){var b="display:inline-block;behavior:url(#default#VML);",c=this.isIE8;return a=a.join(""),c?(a=a.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),a=-1===a.indexOf('style="')?a.replace("/>",' style="'+b+'" />'):a.replace('style="','style="'+b)):a=a.replace("<","<scv:"),a},text:Z.prototype.html,path:function(a){var b={coordsize:"10 10"};return kb(a)?b.d=a:O(a)&&j(b,a),this.createElement("shape").attr(b)},circle:function(b,c,a){return this.symbol("circle").attr({x:b-a,y:c-a,width:2*a,height:2*a})},g:function(a){var c,b;return a&&(b={className:Ib+a,"class":Ib+a}),c=this.createElement(T).attr(b)},image:function(b,c,d,e,f){var a=this.createElement("img").attr({src:b});return arguments.length>1&&a.attr({x:c,y:d,width:e,height:f}),a},rect:function(a,c,d,e,g,f){O(a)&&(c=a.y,d=a.width,e=a.height,f=a.strokeWidth,a=a.x);var b=this.symbol("rect");return b.r=g,b.attr(b.crisp(f,a,c,k(d,0),k(e,0)))},invertChild:function(b,c){var a=c.style;s(b,{flip:"x",left:m(a.width)-1,top:m(a.height)-1,rotation:-90})},symbols:{arc:function(c,d,o,p,f){var h,e=f.start,g=f.end,b=f.r||o||p,j=A(e),n=F(e),i=A(g),m=F(g),a=f.innerR,l=.08/b,k=a&&.1/a||0;return g-e===0?["x"]:(l>2*t-g+e?i=-l:k>g-e&&(i=A(e+k)),h=["wa",c-b,d-b,c+b,d+b,c+b*j,d+b*n,c+b*i,d+b*m],f.open&&!a&&h.push("e",x,c,d),h.push("at",c-a,d-a,c+a,d+a,c+a*i,d+a*m,c+a*j,d+a*n,"x","e"),h)},circle:function(a,b,c,d){return["wa",a,b,a+c,b+d,a+c,b+d/2,a+c,b+d/2,"e"]},rect:function(b,c,i,j,g){var h,a,e=b+i,f=c+j;return d(g)&&g.r?(a=G(g.r,i,j),h=[x,b+a,c,w,e-a,c,"wa",e-2*a,c,e,c+2*a,e-a,c,e,c+a,w,e,f-a,"wa",e-2*a,f-2*a,e,f,e,f-a,e-a,f,w,b+a,f,"wa",b,f-2*a,b+2*a,f,b+a,f,b,f-a,w,b,c+a,"wa",b,c,b+2*a,c+2*a,b,c+a,b+a,c,"x","e"]):h=Z.prototype.symbols.square.apply(0,arguments),h}}};Kb=function(){this.init.apply(this,arguments)},Kb.prototype=h(Z.prototype,$c),Pb=Kb}var Eb;U&&(Eb=function(){eb="http://www.w3.org/1999/xhtml"},Eb.prototype.symbols={},Eb.prototype=u(Z.prototype,{create:function(a,b,c,d){this.setContainer(b,c,d),this.configure(a)},setContainer:function(a,l,m){var d,f=a.style,b=a.parentNode,k=f.left,i=f.top,j=a.offsetWidth,h=a.offsetHeight,c={visibility:z,position:gb};this.init.apply(this,[a,l,m]),d=J("canvas",{width:j,height:h},{position:Ub,left:k,top:i},a),this.canvas=d,this.ttLine=J(T,null,c,b),this.ttDiv=J(T,null,c,b),this.ttTimer=e;var g=J(T,{width:j,height:h},{visibility:z,left:k,top:i},b);this.hiddenSvg=g,g.appendChild(this.box)},configure:function(i){var d=this,f=i.options.tooltipSettings,g=a[i.guid],k=f.borderWidth,b=d.ttDiv,c=f.style,j=d.ttLine,l=parseInt(c.padding,10);c=h(c,{padding:l+q,"background-color":f.backgroundColor,"border-style":"solid","border-width":k+q,"border-drawRadius":f.borderRadius+q}),f.shadow&&(c=h(c,{"box-shadow":"1px 1px 3px gray","-webkit-box-shadow":"1px 1px 3px gray"})),s(b,c),s(j,{"border-left":"1px solid darkgray"}),C(i,"tooltipRefresh",function(a){var c,f=g.container,h=f.offsetLeft,i=f.offsetTop;b.innerHTML=a.text,c=g.tooltipSettings.getPosition(b.offsetWidth,b.offsetHeight,{plotX:a.x,plotY:a.y}),s(b,{visibility:B,left:c.x+q,top:c.y+q,"border-color":a.borderColor}),s(j,{visibility:B,left:h+a.x+q,top:i+g.plotTop+q,height:g.plotHeight+q}),d.ttTimer!==e&&clearTimeout(d.ttTimer),d.ttTimer=setTimeout(function(){s(b,{visibility:z}),s(j,{visibility:z})},3e3)})},destroy:function(){var a=this;if(!a._destroyed)return lb(a.canvas),a.ttTimer!==e&&clearTimeout(a.ttTimer),lb(a.ttLine),lb(a.ttDiv),lb(a.hiddenSvg),Z.prototype.destroy.apply(a)},color:function(a,b,c){return a&&a.linearGradient&&(a=a.stops[a.stops.length-1][1]),Z.prototype.color.call(this,a,b,c)},draw:function(){var a=this;H.canvg(a.canvas,a.hiddenSvg.innerHTML)}})),Pb=Kb||Eb||Z,zb.prototype={_label:function(){var p,m,s,x,h=this,c=h.axis,w=c.options,r=c.chart,o=a[r.guid],v=c.horiz,f=c.categoricalValues,e=h.pos,b=w.axisTickText,l=c.tickPositions,y=f&&v&&f.length&&!b.step&&!b.staggerLinesINTERNAL&&!b.textAngle&&o.plotWidth/l.length||!v&&o.plotWidth/2,z=e===l[0],A=e===l[l.length-1],i=f&&d(f[e])?f[e]:e,t=h.label,u=l.info;f&&!d(f[e])&&i==e&&o.enablePolarLayout||(c.isDatetimeAxis&&u&&(x=w.axisDateFormat[u.higherRanks[e]||u.unitName]),h.isFirst=z,h.isLast=A,p=b.format?S(b.format)?n.format(b.format,{text:i,axis:c,chart:r}):b.format.call(null,i,c,r):ad.call({axis:c,chart:r,isFirst:z,isLast:A,dateTimeLabelFormat:x,value:c.isLog?X(R(i)):i}),m=y&&{width:k(1,g(y-2*(b.padding||10)))+q},m=j(m,b.style),b&&"x"==c.xOrY&&!c.inverseOrder&&("left"==b.align?b.align="right":"right"==b.align&&(b.align="left")),d(t)?t&&t.attr({text:p}).css(m):(s={align:b.align},ob(b.textAngle)&&(s.textAngle=b.textAngle),h.label=d(p)&&b.enabled?o.renderer.text(p,0,0,b.htmlOutput).attr(s).css(m).add(c.labelGroup):null))},_labelSize:function(){var a=this.label,b=this.axis;return a?(this.labelBBox=a.getBBox())[b.horiz?"height":"width"]:0},_labelDim:function(){var d=this.labelBBox,e=this.axis,f=e.options,a=f.axisTickText,b=d.width,c=b*{left:0,center:.5,right:1}[a.align]-a.x;return[-c,b-c]},_overflow:function(r,n){var e=this,g=!0,d=e.axis,f=e.isFirst,o=e.isLast,b=n.x,k=d.inverseOrder,q=d.tickPositions;if(f||o){var l=e._labelDim(),h=l[0],i=l[1],j=a[d.chart.guid].plotLeft,p=j+d.len,c=d.ticks[q[r+(f?1:-1)]],m=c&&c.label.xy&&c.label.xy.x+c._labelDim()[f?0:1];f&&!k||o&&k?j>b+h&&(b=j-h,c&&b+i>m&&(g=!1)):b+i>p&&(b=p-i,c&&m>b+h&&(g=!1)),n.x=b}return g},_position:function(e,f,g,c){var b=this.axis,d=a[b.chart.guid],h=c&&d.oldChartHeight||d.chartHeight;return{x:e?b.translate(f+g,null,null,c)+b.transB:b.left+b.offset+(b.swapLocation?(c&&d.oldChartWidth||d.chartWidth)-b.right-b.left:0),y:e?h-b.bottom+b.offset-(b.swapLocation?b.height:0):h-b.translate(f+g,null,null,c)-b.transB}},_labelPos:function(c,a,g,h,e,b,n,l){var f=this.axis,k=f.transA,i=f.inverseOrder,j=f.staggerLinesINTERNAL;return c=c+e.x-(b&&h?b*k*(i?-1:1):0),a=a+e.y-(b&&!h?b*k*(i?1:-1):0),d(e.y)||(a+=.9*m(g.styles.lineHeight)-g.getBBox().height/2),j&&(a+=n/(l||1)%j*16),{x:c,y:a}},_markPath:function(a,b,c,e,d,f){return f.crispLine([x,a,b,w,a+(d?0:-c),b+(d?c:0)],e)},render:function(v,t){var l,x,r,c=this,f=c.axis,d=f.options,u=a[f.chart.guid].renderer,q=f.horiz,i=c.type,h=c.label,F=c.pos,w=d.axisTickText,n=c.gridLine,A=i?i+"Plot":"plot",m=i?i+"Ticks":"ticks",o=d[A+"StripWidth"],H=d[A+"StripColor"],E=d[A+"StripDashStyle"],g=d[m+"Height"],y=d[m+"Width"]||0,G=d[m+"Color"],D=d[m+"Placement"],C=c.mark,B=w.step,s=!0,z=f.tickmarkOffset,k=c._position(q,F,z,t),p=k.x,j=k.y,I=f.staggerLinesINTERNAL;f.isXAxis&&null!=d.axisTickText.y&&f.inverseOrder&&(d.axisTickText.y=null),o&&(l=f._linePath(F+z,o,t),n===e&&(r={stroke:H,"stroke-width":o},E&&(r.dashstyle=E),i||(r.zIndex=1),c.gridLine=n=o?u.path(l).attr(r).add(f.gridGroup):null),!t&&n&&l&&n[c.isNew?"attr":"animate"]({d:l})),y&&g&&("inside"===D&&(g=-g),f.swapLocation&&(g=-g),"through"===D&&c.axis.isXAxis&&(c.axis.inverseOrder?p+=g:j=j-g+1,g+=g),x=c._markPath(p,j,g,y,q,u),C?C.animate({d:x}):c.mark=u.path(x).attr({stroke:G,"stroke-width":y}).add(f.axisGroup)),!h||isNaN(p)||isNaN(j)||(h.xy=k=c._labelPos(p,j,h,q,w,z,v,B),c.isFirst&&!b(d.firstTickTextVisible,1)||c.isLast&&!b(d.lastTickTextVisible,1)?s=!1:!I&&q&&w.repositionClippedText&&!c._overflow(v,k)&&(s=!1),B&&v%B&&(s=!1),s?(h[c.isNew?"attr":"animate"](k),h.show(),c.isNew=!1):h.hide())},destroy:function(){this._destroyed||(sb(this,this.axis),this._destroyed=!0)}},pc.prototype={render:function(){var B,y,u,v,s,t,l,i=this,g=i.axis,q=g.horiz,z=(g.pointRange||0)/2,e=i.options,f=e.label,o=i.label,r=e.drawWidth,m=e.start,p=e.end,n=d(m)&&d(p),C=e.seriesDashStyle,j=i.svgElem,c=[],A=e.drawColor,w=e.zIndex,x=e.events,D=a[g.chart.guid].renderer;if(g.isLog&&(m=mb(m),p=mb(p)),r)c=g._linePath(m,r),l={stroke:A,"stroke-width":r},C&&(l.dashstyle=C);else{if(!n)return;m=k(m,g.min-z),p=G(p,g.max+z),c=g._bandPath(m,p,e),l={fill:A},e.borderWidth&&(l.stroke=e.borderColor,l["stroke-width"]=e.borderWidth)}if(d(w)&&(l.zIndex=w),j)c?j.animate({d:c},null,j.onGetPath):(j.hide(),j.onGetPath=function(){j.show()});else if(c&&c.length&&(i.svgElem=j=D.path(c).attr(l).add(),x)){B=function(a){j.on(a,function(b){x[a].apply(i,[b])})};for(y in x)B(y)}return f&&d(f.text)&&c&&c.length&&g.width>0&&g.height>0?(f=h({align:q&&n&&"center",x:q?!n&&4:10,verticalAlign:!q&&n&&"middle",y:q?n?16:10:n?6:-4,textAngle:q&&!n&&90},f),o||(i.label=o=D.text(f.text,0,0).attr({align:f.textAlignINTERNAL||f.align,textAngle:f.textAngle,zIndex:w}).css(f.style).add()),u=[c[1],c[4],b(c[6],c[1])],v=[c[2],c[5],b(c[7],c[2])],s=xb(u),t=xb(v),o.align(f,!1,{x:s,y:t,width:tb(u)-s,height:tb(v)-t}),o.show()):o&&o.hide(),i},destroy:function(){if(!this._destroyed){var a=this,b=a.axis;vb(b.plotLinesAndBands,a),sb(a,this.axis),a._destroyed=!0}}},Vc.prototype={destroy:function(){this._destroyed||(sb(this,this.axis),this._destroyed=!0)},_total:function(a){this.total=a,this.cum=a},render:function(d){var b=this,c=b.options.labelFormatFunction.call(b);b.label?b.label.attr({text:c,visibility:z}):b.label=a[b.axis.chart.guid].renderer.text(c,0,0).css(b.options.style).attr({align:b.textAlignINTERNAL,textAngle:b.options.textAngle,visibility:z}).add(d)},_offset:function(q,j){var g,b=this,h=b.axis,m=h.chart,i=a[m.guid],e=i.isInverted,l=b.isNegative,c=h.translate(b.percent?100:b.total,0,0,0,1),o=h.translate(0),f=N(c-o),n=i.axisX[0].translate(b.x)+q,k=i.plotHeight,p={x:e?l?c:c-f:n,y:e?k-n-j:l?k-c-f:k-c,width:e?f:j,height:e?j:f},d=b.label;d&&(d.align(b.alignOptions,null,p),g=d.alignAttr,d.attr({visibility:b.options.hideInvisible===!1||Q(m,g.x,g.y)?P?"inherit":B:z}))}};var hb={defaults:{axisDateFormat:{MILLISECOND:"HH:mm:ss.fff",SECOND:"HH:mm:ss",MINUTE:"HH:mm",HOUR:"HH",DAY:"d MMM",WEEK:"d MMM",MONTH:"MMM 'yy",YEAR:"yyyy"},fixedEnd:!1,plotStripColor:"#C0C0C0",axisTickText:qc,drawColor:"#7E7E7E",drawWidth:1,minPaddingINTERNAL:1e-4,maxPaddingINTERNAL:1e-4,endOffset:.01,zoomMin:null,minorPlotStripColor:"#E0E0E0",minorPlotStripWidth:1,minorTicksColor:"#A0A0A0",minorTicksHeight:12,minorTicksPlacementINTERNAL:"outside",startOfWeekINTERNAL:1,tickOnBeginning:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacementlINTERNAL:"between",tickPixelIntervalINTERNAL:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",margin:12,style:{color:"#404040",fontWeight:"normal",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif"}},axisType:"linear"},y:{fixedEnd:!0,plotStripWidth:1,tickPixelIntervalINTERNAL:80,lastTickTextVisible:!0,axisTickText:{align:"right",x:-8,y:3},drawWidth:0,endOffset:.05,startOffset:.05,tickOnBeginning:!0,tickWidth:0,title:{textAngle:270,text:null},stackTextSettings:{enabled:!1,labelFormatFunction:function(){return this.total},style:qc.style}},left:{axisTickText:{align:"right",x:-8,y:null},title:{textAngle:270}},right:{axisTickText:{align:"left",x:8,y:null},title:{textAngle:90}},bottom:{axisTickText:{align:"center",x:0,y:14},title:{textAngle:0}},top:{axisTickText:{align:"center",x:0,y:-5},title:{textAngle:0}}};Tb.prototype={init:function(i,g){var f=g.isX,b=this,h=a[i.guid];b.horiz=h.isInverted?!f:f,b.isXAxis=f,b.xOrY=f?"x":"y",b.swapLocation=g.swapLocation,b.side=b.horiz?b.swapLocation?0:2:b.swapLocation?1:3,b.setOptions(g,i);var c=this.options,k=c.axisType,m="datetime"===k;b.staggerLinesINTERNAL=b.horiz&&c.axisTickText.staggerLinesINTERNAL,b.userOptions=g,b.minPixelPadding=0,b.chart=i,b.inverseOrder=c.inverseOrder,b.categoricalValues=c.categoricalValues,b.isLog="logarithmic"===k,b.isLinked=d(c.linkedToINTERNAL),b.isDatetimeAxis=m,b.tickmarkOffset=c.categoricalValues&&"between"===c.tickmarkPlacementlINTERNAL?.5:0,b.ticks={},b.minorTicks={},b.plotLinesAndBands=[],b.alternateBands={},b.len=0,b.zoomMin=b.customZoomMin=c.zoomMin,b.range=c.range,b.offset=c.offset||0,b.stacks={},b.max=null,b.min=null;var j,l=b.options.events;h.axes.push(b),h[f?"axisX":"axisY"].push(b),b.dataSeries=[],h.isInverted&&f&&b.inverseOrder===e&&(b.inverseOrder=!0);for(j in l)C(b,j,l[j]);b.isLog&&(b.val2lin=mb,b.lin2val=R)},setOptions:function(a){this.options=h(hb.defaults,this.isXAxis?{}:hb.y,[hb.top,hb.right,hb.bottom,hb.left][this.side],h(Y[this.isXAxis?"axisX":"axisY"],a))},translate:function(b,k,n,i,m,l){var d,a=this,f=a.len,e=1,g=0,c=i?a.oldTransA:a.transA,j=i?a.oldMin:a.min,h=a.options.ordinal||a.isLog&&m;return c||(c=a.transA),n&&(e*=-1,g=f),a.inverseOrder&&(e*=-1,g-=e*f),k?(a.inverseOrder&&(b=f-b),d=b/c+j,h&&(d=a.lin2val(d))):(h&&(b=a.val2lin(b)),d=e*(b-j)*c+g+e*a.minPixelPadding+(l?c*a.pointRange/2:0)),d},_linePath:function(r,p,h){var c,d,j,m,f,b=this,e=a[b.chart.guid],k=b.left,l=b.top,i=b.translate(r,null,null,h),o=h&&e.oldChartHeight||e.chartHeight,q=h&&e.oldChartWidth||e.chartWidth,n=b.transB;return c=j=g(i+n),d=m=g(o-i-n),isNaN(i)?f=!0:b.horiz?(d=l,m=o-b.bottom,(k>c||c>k+b.width)&&(f=!0)):(c=k,j=q-b.right,(l>d||d>l+b.height)&&(f=!0)),f?null:e.renderer.crispLine([x,c,d,w,j,m],p||0)},_bandPath:function(c,d){var a=this._linePath(d),b=this._linePath(c);return b&&a?b.push(a[4],a[5],a[1],a[2]):b=null,b},_arrange:function(){var f,a=this,j=a.max-a.min,g=0,b=0,e=0,h=a.linkedParent,i=a.transA;a.isXAxis&&(h?(b=h.minPointOffset,e=h.pointRangePadding):c(a.dataSeries,function(a){var c=a.pointRange,i=a.options.positioningMethod,h=a.closestPointRange;g=k(g,c),b=k(b,i?0:c/2),e=k(e,"on"===i?0:c),!a.noSharedTooltip&&d(h)&&(f=d(f)?G(f,h):h)}),a.minPointOffset=b,a.pointRangePadding=e,a.pointRange=g,a.closestPointRange=f),a.oldTransA=i,a.translationSlope=a.transA=i=a.len/(j+e||1),a.transB=a.horiz?a.left:a.bottom,a.minPixelPadding=i*b},_ticks:function(m){var s,p,i,h,f=this,C=a[f.chart.guid],g=f.options,o=f.isLog,w=f.isDatetimeAxis,r=f.isXAxis,j=f.isLinked,t=f.options.tickPositionerlINTERNAL,u=g.endOffset,q=g.startOffset,n=g.ticksRepeat,x=g.minTickInterval,y=g.tickPixelIntervalINTERNAL,z=f.categoricalValues;if(j){if(f.linkedParent=C[r?"axisX":"axisY"][g.linkedToINTERNAL],i=Jb.call(f.linkedParent),f.min=b(i.min,i.dataMin),f.max=b(i.max,i.dataMax),g.type!==f.linkedParent.options.axisType)return Sb("Axis and parent axis have different type",1),void 0}else f.min=b(f.userMin,g.min,f.dataMin),f.max=b(f.userMax,g.max,f.dataMax);if(o){if(!m&&G(f.min,b(f.dataMin,f.min))<=0)return Sb("Negative values not supported for this axis type",1),void 0;f.min=X(mb(f.min)),f.max=X(mb(f.max))}if(f.range&&(f.userMin=f.min=k(f.min,f.max-f.range),f.userMax=f.max,m&&(f.range=null)),bd.call(f),z||f.usePercentage||j||!d(f.min)||!d(f.max)||(p=f.max-f.min||1,d(g.min)||d(f.userMin)||!q||!(f.dataMin<0)&&f.ignoreMinPadding||(f.min-=p*q),d(g.max)||d(f.userMax)||!u||!(f.dataMax>0)&&f.ignoreMaxPadding||(f.max+=p*u)),f.ticksRepeat=f.min===f.max||f.min===e||f.max===e?1:j&&!n&&y===f.linkedParent.options.tickPixelIntervalINTERNAL?f.linkedParent.ticksRepeat:b(n,z?1:(f.max-f.min)*y/(f.len||1)),r&&!m&&c(f.dataSeries,function(a){a.processData(f.min!==f.oldMin||f.max!==f.oldMax)}),f._arrange(m),f._preTicks&&f._preTicks(),!n&&f.ticksRepeat<x&&(f.ticksRepeat=x),w||o||(s=l.pow(10,K(l.log(f.ticksRepeat)/l.LN10)),n||(f.ticksRepeat=$b(f.ticksRepeat,null,s,g))),f.minorTicksRepeat="auto"===g.minorTicksRepeat&&f.ticksRepeat?f.ticksRepeat/5:g.minorTicksRepeat,f.tickPositions=h=g.tickPositions||t&&t.apply(f,[f.min,f.max]),h||(h=w?vd(wd(f.ticksRepeat,g.units),f.min,f.max,g.startOfWeekINTERNAL,f.ordinalPositions,f.closestPointRange,!0):o?Xc.call(f,f.ticksRepeat,f.min,f.max):rc.call(f,f.ticksRepeat,f.min,f.max),f.tickPositions=h),!j){var A=h[0],B=h[h.length-1],v=f.minPointOffset||0;g.tickOnBeginning?f.min=A:f.min-v>A&&h.shift(),g.fixedEnd?f.max=B:f.max+v<B&&h.pop()}},_updateTicks:function(){var b=this,g=b.xOrY,c=b.tickPositions,f=a[b.chart.guid].maxTicks;if(f&&f[g]&&!b.isDatetimeAxis&&!b.categoricalValues&&!b.isLinked&&b.options.matchTicks!==!1){var e,h=b.tickAmount,i=c.length;if(b.tickAmount=e=f[g],e>i){for(;c.length<e;)c.push(X(c[c.length-1]+b.ticksRepeat));b.transA*=(i-1)/(e-1),b.max=c[c.length-1]}d(h)&&e!==h&&(b.isDirty=!0)}},_scale:function(){var b,e,g,f,a=this,d=a.stacks;if(a.oldMin=a.min,a.oldMax=a.max,a.oldAxisLength=a.len,a._dimensions(),f=a.len!==a.oldAxisLength,c(a.dataSeries,function(a){(a.isDirtyData||a.isDirty||a.axisX.isDirty)&&(g=!0)}),(f||g||a.isLinked||a.userMin!==a.oldUserMin||a.userMax!==a.oldUserMax)&&(_c.call(a),a._ticks(),a.oldUserMin=a.userMin,a.oldUserMax=a.userMax,a.isDirty||(a.isDirty=f||a.min!==a.oldMin||a.max!==a.oldMax)),!a.isXAxis)for(b in d)for(e in d[b])d[b][e].cum=d[b][e].total;Uc.call(a)},_zoom:function(a,b){return Sc.call(this,a,b,!1,e,{trigger:"zoom"}),!0},_dimensions:function(){var c=this,d=a[c.chart.guid],e=c.options,f=e.offsetLeft||0,g=e.offsetRight||0;c.left=b(e.left,d.plotLeft+f),c.top=b(e.top,d.plotTop),c.width=b(e.width,d.plotWidth-f+g),c.height=b(e.height,d.plotHeight),c.bottom=d.chartHeight-c.height-c.top,c.right=d.chartWidth-c.width-c.left,c.len=k(c.horiz?c.width:c.height,0)},_offset:function(){var m,o,x,r,e=this,w=a[e.chart.guid],l=w.renderer,i=e.options,n=e.tickPositions,h=e.ticks,p=e.horiz,g=e.side,u=0,t=0,f=i.title,v=i.axisTickText,j=0,q=w.axisOffset,s=[-1,1,1,-1][g];if(e.hasData=m=e.hasVisibleSeries||d(e.min)&&d(e.max)&&!!n,e.showAxis=o=m||b(i.showEmpty,!0),e.axisGroup||(e.gridGroup=l.g().attr({zIndex:i.gridZIndex||1}).add(),e.axisGroup=l.g().attr({zIndex:i.zIndex||2}).add(),e.labelGroup=l.g().attr({zIndex:v.zIndex||7}).add()),m||e.isLinked)c(n,function(a){h[a]?h[a]._label():h[a]=new zb(e,a)}),c(n,function(a){(0===g||2===g||{1:"left",3:"right"}[g]===v.align)&&(j=k(h[a]._labelSize(),j))}),e.staggerLinesINTERNAL&&(j+=16*(e.staggerLinesINTERNAL-1));else for(r in h)h[r].destroy(),delete h[r];f&&f.text&&(e.axisTitle||(e.axisTitle=l.text(f.text,0,0,f.htmlOutput).attr({zIndex:7,textAngle:f.textAngle||0,align:f.textAlignINTERNAL||{low:"left",middle:"center",high:"right"}[f.align]}).css(f.style).add(e.axisGroup),e.axisTitle.isNew=!0),o&&(u=e.axisTitle.getBBox()[p?"height":"width"],t=b(f.margin,p?5:10),x=f.offset),e.axisTitle[o?"show":"hide"]()),e.offset=s*b(i.offset,q[g]),e.axisTitleMargin=b(x,j+t+(2!==g&&j&&s*i.axisTickText[p?"y":"x"])),q[g]=k(q[g],e.axisTitleMargin+u+s*e.offset)},_path:function(i){var b=this,c=a[b.chart.guid],f=b.swapLocation,g=b.offset,d=b.horiz,h=b.left+(f?b.width:0)+g,e=c.chartHeight-b.bottom-(f?b.height:0)+g;return this.lineTop=e,c.renderer.crispLine([x,d?b.left:h,d?e:b.top,w,d?c.chartWidth-b.right:h,d?e:c.chartHeight-b.bottom],i)},_titlePos:function(){var a=this.horiz,f=this.left,g=this.top,d=this.len,b=this.options.title,e=a?f:g,c=this.swapLocation,h=this.offset,k=m(b.style.fontSize||12),i={low:e+(a?0:d),middle:e+d/2,high:e+(a?d:0)}[b.align],j=(a?g+this.height:f)+(a?1:-1)*(c?-1:1)*this.axisTitleMargin+(2===this.side?k:0);return{x:a?i:j+(c?this.width:0)+h+(b.x||0),y:a?j-(c?this.height:0)+h:i+(b.y||0)}},render:function(){var n,o,p,b=this,G=b.chart,m=a[G.guid],t=m.renderer,i=b.options,w=b.isLog,s=b.isLinked,j=b.tickPositions,k=b.axisTitle,x=b.stacks,g=b.ticks,f=b.minorTicks,h=b.alternateBands,u=i.stackTextSettings,v=i.colorStripe,D=b.tickmarkOffset,q=i.drawWidth,F=m.hasRendered,z=F&&d(b.oldMin)&&!isNaN(b.oldMin),E=b.hasData,C=b.showAxis;if((E||s)&&(b.minorTicksRepeat&&!b.categoricalValues&&c(Zc.call(b),function(a){f[a]||(f[a]=new zb(b,a,"minor")),z&&f[a].isNew&&f[a].render(null,!0),f[a].isActive=!0,f[a].render()}),c(j.slice(1).concat([j[0]]),function(a,c){c=c===j.length-1?0:c+1,(!s||a>=b.min&&a<=b.max)&&(g[a]||(g[a]=new zb(b,a)),z&&g[a].isNew&&g[a].render(c,!0),g[a].isActive=!0,g[a].render(c))}),v&&c(j,function(a,c){c%2===0&&a<b.max&&(h[a]||(h[a]=new pc(b)),o=a+D,p=j[c+1]!==e?j[c+1]+D:b.max,h[a].options={from:w?R(o):o,to:w?R(p):p,color:v},h[a].render(),h[a].isActive=!0)}),b._addedPlotLB||(c((i.plotLines||[]).concat(i.plotBands||[]),function(a){fd.call(b,a)}),b._addedPlotLB=!0)),c([g,f,h],function(a){var b;for(b in a)a[b].isActive?a[b].isActive=!1:(a[b].destroy(),delete a[b])}),q&&(n=b._path(q),b.axisLine?b.axisLine.animate({d:n}):b.axisLine=t.path(n).attr({stroke:i.drawColor,"stroke-width":q,zIndex:7}).add(b.axisGroup),b.axisLine[C?"show":"hide"]()),k&&C&&(k[k.isNew?"attr":"animate"](b._titlePos()),k.isNew=!1),u&&u.enabled){var A,r,y,l=b.stackTotalGroup;l||(b.stackTotalGroup=l=t.g().attr({visibility:B,zIndex:6}).add()),l.translate(m.plotLeft,m.plotTop);for(A in x){r=x[A];for(y in r)r[y].render(l)}}b.isDirty=!1},_title:function(e,f){var a=this,g=a.chart,c=a.options,d=a.axisTitle;
c.title=h(c.title,e),a.axisTitle=d&&d.destroy(),a.isDirty=!0,b(f,!0)&&g.redraw()},redraw:function(){var b=this,d=a[b.chart.guid].tracker;d._reset&&d._reset(!0),b.render(),c(b.plotLinesAndBands,function(a){a.render()}),c(b.dataSeries,function(a){a.isDirty=!0})},_points:function(d,e){var a=this;a.categoricalValues=a.userOptions.categoricalValues=d,c(a.dataSeries,function(a){a.translate(),a.setTooltipPoints(!0)}),a.isDirty=!0,b(e,!0)&&a.chart.redraw()},destroy:function(){if(!this._destroyed){var b,a=this,d=a.stacks;I(a);for(b in d)sb(d[b]),d[b]=null;c([a.ticks,a.minorTicks,a.alternateBands,a.plotLinesAndBands],function(a){sb(a)});for(var f in a){var e=a[f];(e instanceof _||nb&&e instanceof nb)&&(a[f]=e.destroy())}a._destroyed=!0}}},Lc.prototype={destroy:function(){this._destroyed||(c(this.axisMarkers,function(a){a&&a.destroy()}),this._destroyed=!0)},move:function(a,b){this.labelElement.css({top:b,left:a})},hide:function(){var b=this,d=a[b.chart.guid];if(!b.isHidden){var e=d.hoverPoints;b.labelElement.hide(),e&&c(e,function(a){a.setState()}),d.hoverPoints=null,b.isHidden=!0}},getPosition:function(u,s,t){var n,l=this,g=a[s.guid],j=g.plotLeft,d=g.plotTop,q=g.plotWidth,r=g.plotHeight,f=b(this.options.distance,12),o=Yc.call(l,u,t),p=o[0],i=o[1],m=l.labelElement.width(),h=l.labelElement.height(),e=p+j+(g.isInverted?f:-m-f),c=i-h+d+15;return 7>e&&(e=j+k(p,0)+f),e+m>j+q&&(e-=e+m-(j+q),c=i-h+d-f,n=!0),d+5>c&&(c=d+5,n&&i>=c&&c+h>=i&&(c=i+d+f)),c+h>d+r&&(c=k(d,d+r-h-f)),{x:e,y:c}},refresh:function(d,y){var o,t,A,s,q,p,D,u,e=this,l=e.chart,C=e.labelElement,i=e.options,v=function(a,b){var d=this,g=[];a=bb(a);var h="",e=a[0].dataSeries.axisX;if(e&&"datetime"===e.options.axisType&&ob(a[0].pointName)){var i,k="f";for(i in r)if(r[i]>=e.closestPointRange){k=e.options.axisDateFormat[i];break}h=n.format("{0:"+k+"}",new Date(a[0].pointName))}else{var j=a[0].dataSeries.tooltipSettings&&a[0].dataSeries.tooltipSettings.customHeaderText||d.options.customHeaderText;h=S(j)?n.format(j,{point:a[0],chart:b}):j.call(null,a,b)}g+='<div class="shield-tooltip-header">'+h+"</div>";var f=a[0].dataSeries.tooltipSettings&&a[0].dataSeries.tooltipSettings.customPointText||d.options.customPointText;return"rangebar"===a[0].dataSeries.seriesType&&"<span>{point.dataSeries.collectionAlias}</span>: {point.y}"!=d.options.customPointText&&(f=d.options.customPointText),c(a,function(a){ud=a.dataSeries,g+='<div class="shield-tooltip-value">'+(S(f)?n.format(f,{point:a,chart:b}):f.call(null,a,b))+"</div>"}),g},h=a[l.guid],x=h.hoverPoints,f=i.axisMarkers,z=e.chartBound;if(i.format&&(v=S(i.format)?function(a,b){return n.format(i.format,{point:a,chart:b})}:i.format),s=Yc.call(e,d,y),o=s[0],t=s[1],!z||d.dataSeries&&d.dataSeries.noSharedTooltip?D=d.dataSeries.color:(h.hoverPoints=d,x&&c(x,function(a){a.setState()}),c(d,function(a){a.setState(M)})),q=v.call(e,d,l),kb(d)&&(d=d[0]),u=d.dataSeries,A=z||!u.isCartesian||u.tooltipOutsidePlot||Q(l,o,t),q!==!1&&A?(e.isHidden&&C.show(),C.html(q),p=(i.position||e.getPosition).call(e,d,l,y),e.move(g(p.x),g(p.y),o+h.plotLeft,t+h.plotTop),e.isHidden=!1):this.hide(),f&&f.enabled){var j,k,E=/x/i.test(f.mode),F=/y/i.test(f.mode),w={"stroke-width":m(f.width),stroke:f.color,zIndex:m(f.zIndex)};E&&(k=d.dataSeries.axisX,k&&(j=k._linePath(d.x,1),e.axisMarkers[0]?e.axisMarkers[0].attr({d:j,visibility:B}):e.axisMarkers[0]=h.renderer.path(j).attr(w).add())),F&&(k=d.dataSeries.axisY,k&&(j=k._linePath(b(d.stackY,d.y),1),e.axisMarkers[1]?e.axisMarkers[1].attr({d:j,visibility:B}):e.axisMarkers[1]=h.renderer.path(j).attr(w).add()))}}},mc.prototype={_normalize:function(b){var d,f,h,c;return b=b||H.event,b.target||(b.target=b.srcElement),c=b.touches?b.touches.item(0):b,this.chartPosition=d=id(a[this.chart.guid].container),c.pageX===e?(f=b.x,h=b.y):(f=c.pageX-d.left,h=c.pageY-d.top),j(b,{chartX:g(f),chartY:g(h)})},_coord:function(d){var e={axisX:[],axisY:[]},b=a[this.chart.guid];return c(b.axes,function(a){var c=a.isXAxis,f=b.isInverted?!c:c;e[c?"axisX":"axisY"].push({axis:a,value:a.translate((f?d.chartX-b.plotLeft:a.top+a.len-d.chartY)-a.minPixelPadding,!0)})}),e},_index:function(c){var b=a[this.chart.guid];return b.isInverted?b.plotHeight+b.plotTop-c.chartY:c.chartX-b.plotLeft},_move:function(i){var d,b,g,c,h=this,o=h.chart,e=a[o.guid],f=e.dataSeries,l=e.tooltip,n=e.hoverPoint,m=e.hoverSeries,j=e.chartWidth,k=h._index(i);if(l&&h.options.tooltipSettings.chartBound&&(!m||!m.noSharedTooltip)){for(b=[],g=f.length,c=0;g>c;c++)f[c].visible&&f[c].options.mouseInteractions!==!1&&!f[c].noSharedTooltip&&f[c].tooltipPoints.length&&(d=f[c].tooltipPoints[k],d._dist=N(k-d[f[c].axisX.tooltipPosName||"plotX"]),j=G(j,d._dist),b.push(d));for(g=b.length;g--;)b[g]._dist>j&&b.splice(g,1);b.length&&b[0].plotX!==h.hoverX&&(l.refresh(b,i),h.hoverX=b[0].plotX)}e.cachedHoverSeries&&e.cachedHoverSeries.tracker&&(d=e.cachedHoverSeries.tooltipPoints[k],d&&d!==n&&d._mouseOver(i))},_reset:function(c){var h=this,j=h.chart,d=a[j.guid],i=d.hoverSeries,f=d.hoverPoint,b=d.tooltip,g=b&&b.chartBound?d.hoverPoints:f;c=c&&b&&g,c&&bb(g)[0].plotX===e&&(c=!1),c?b.refresh(g):(f&&f._mouseOut(),i&&i._mouseOut(),b&&(b.hide(),gd.call(b)),h.hoverX=null)},_events:function(){function i(){e&&(s(f,{cursor:"auto"}),b.cancelClick=g,b.mouseIsDown=g=!1),b.container.style.cursor="default",I(o,V?"touchend":"mouseup",i)}var g,m=!0,d=this,e=d.chart,b=a[e.guid],f=b.container;d.hideTooltipOnMouseMove=function(a){d.chartPosition&&b.hoverSeries&&b.hoverSeries.isCartesian&&!Q(e,a.pageX-d.chartPosition.left-b.plotLeft,a.pageY-d.chartPosition.top-b.plotTop)&&d._reset()},d.hideTooltipOnMouseLeave=function(a){d.chartPosition&&!Q(e,a.pageX-d.chartPosition.left-b.plotLeft,a.pageY-d.chartPosition.top-b.plotTop)&&(d._reset(),d.chartPosition=null)},f.onmousedown=function(a){a=d._normalize(a),!V&&a.preventDefault&&a.preventDefault(),b.mouseIsDown=!0,b.cancelClick=!1,b.mouseDownX=d.mouseDownX=a.chartX,d.mouseDownY=a.chartY,b.isZoomed&&(b.container.style.cursor="move"),C(o,V?"touchend":"mouseup",i)};var h=function(a){if(!(a&&a.touches&&a.touches.length>1)){a=d._normalize(a),V||(a.returnValue=!1);var c=a.chartX,f=a.chartY,h=!Q(e,c-b.plotLeft,f-b.plotTop);if(V&&"touchstart"===a.type&&(p(a.target,"isTracker")?b.runTrackerClick||a.preventDefault():e.events.click||h||a.preventDefault()),h&&(c<b.plotLeft?c=b.plotLeft:c>b.plotLeft+b.plotWidth&&(c=b.plotLeft+b.plotWidth),f<b.plotTop?f=b.plotTop:f>b.plotTop+b.plotHeight&&(f=b.plotTop+b.plotHeight)),b.mouseIsDown&&"touchstart"!==a.type&&(g=l.sqrt(l.pow(d.mouseDownX-c,2)+l.pow(d.mouseDownY-f,2)),g>10)){{Q(e,d.mouseDownX-b.plotLeft,d.mouseDownY-b.plotTop)}b.isZoomed&&(e._viewport(d.mouseDownX-c,f-d.mouseDownY),d.mouseDownX=c,d.mouseDownY=f)}return h||d._move(a),m=h,h||!b.hasCartesianSeries}};f.onmousemove=h,C(f,"mouseleave",d.hideTooltipOnMouseLeave),C(o,"mousemove",d.hideTooltipOnMouseMove),f.ontouchstart=function(a){(d.zoomX||d.zoomY)&&f.onmousedown(a),h(a)},f.ontouchmove=h,f.ontouchend=function(){g&&d._reset()},f.onclick=function(a){var f,g,c=b.hoverPoint;a=d._normalize(a),a.cancelBubble=!0,b.cancelClick||(c&&(p(a.target,"isTracker")||p(a.target.parentNode,"isTracker"))?(f=c.plotX,g=c.plotY,j(c,{pageX:d.chartPosition.left+b.plotLeft+(b.isInverted?b.plotWidth-g:f),pageY:d.chartPosition.top+b.plotTop+(b.isInverted?b.plotHeight-f:g)}),c.trigger("seriesClick",a)):(j(a,d._coord(a)),Q(e,a.chartX-b.plotLeft,a.chartY-b.plotTop)&&e.trigger("click",a)))},C(f,"mousewheel",function(a,f){a=d._normalize(a),j(a,d._coord(a)),f=f>0?1:-1;var g,h={axisX:[],axisY:[]},i=0;return c(b.axes,function(c){var l=c.isXAxis;if(b.tracker[l?"zoomX":"zoomY"]){var d,e,o=b.isInverted?!l:l,n=c.dataMax/5;if(f>0){var m=c.translate((o?a.chartX-b.plotLeft:c.top+c.len-a.chartY)-c.minPixelPadding,!0),j=c.max-c.min-n;m-j/2<c.dataMin?(d=c.dataMin,e=c.dataMin+j):m+j/2>c.dataMax?(d=c.dataMax-j,e=c.dataMax):(d=m-j/2,e=m+j/2),d<c.dataMin&&(d=c.dataMin,e=c.dataMin+j)}else d=k(c.dataMin,c.min-n/2),e=G(c.dataMax,c.max+n/2),d<=c.dataMin&&e>=c.dataMax&&i++;if(d>=e)return;isNaN(d)||isNaN(e)||(h[l?"axisX":"axisY"].push({axis:c,min:G(d,e),max:k(d,e)}),g=!0)}}),g?(ab(e,"zoom",h,function(a){e._zoom(a)}),b.isZoomed=i==b.axes.length?!1:!0,a.stopPropagation(),a.returnValue=!1,!1):void 0})},destroy:function(){if(!this._destroyed){var c=this,e=c.chart,d=a[e.guid],b=d.container;d.trackerGroup&&(d.trackerGroup=d.trackerGroup.destroy()),I(b,"mouseleave",c.hideTooltipOnMouseLeave),I(o,"mousemove",c.hideTooltipOnMouseMove),b.onclick=b.onmousedown=b.onmousemove=b.ontouchstart=b.ontouchend=b.ontouchmove=null,c._destroyed=!0}},init:function(c,d){var b=a[c.guid];b.trackerGroup||(b.trackerGroup=b.renderer.g().attr({zIndex:9}).add()),d.enabled&&(b.tooltip=new Lc(c,d)),this._events()}},vc.prototype={init:function(f){var a=this,c=a.options=f.options.chartLegend;if(c.enabled){var d=c.legendItemSettings.elementStyle,e=b(c.padding,8),g=c.legendItemSettings.topSpacing||0;a.baseline=m(d.fontSize)+3+g,a.elementStyle=d,a.disabledStyle=h(d,c.legendItemSettings.disabledStyle),a.topSpacing=g,a.padding=e,a.initialItemX=e,a.initialItemY=e-5,a.maxelementWidth=0,a.chart=f,a.itemHeight=0,a.lastLineHeight=0,a.render(),C(a.chart,"endResize",function(){Bc.call(a)})}},destroy:function(){if(!this._destroyed){var a=this,b=a.group,c=a.box;c&&(a.box=c.destroy()),b&&(a.group=b.destroy()),a._destroyed=!0}},render:function(){var d,m,h,e,b=this,q=b.chart,i=a[q.guid],k=i.renderer,l=b.group,g=b.box,f=b.options,o=b.padding,n=f.borderWidth,p=f.backgroundColor;b.itemX=b.initialItemX,b.itemY=b.initialItemY,b.offsetWidth=0,b.lastItemY=0,l||(b.group=l=k.g().attr({zIndex:7}).add(),b.contentGroup=k.g().attr({zIndex:1}).add(l),b.scrollGroup=k.g().add(b.contentGroup),b.clipRect=k.clipRect(0,0,9999,i.chartHeight),b.contentGroup.clip(b.clipRect)),d=[],c(i.dataSeries,function(a){var b=a.options;b.addToLegend&&(d=d.concat(a.legendItems||("point"===b.legendType?a.data:a)))}),Oc(d,function(a,b){return(a.options&&a.options.orderIndex||0)-(b.options&&b.options.orderIndex||0)}),f.inverseOrder&&d.reverse(),b.allItems=d,b.display=m=!!d.length,c(d,function(a){od.call(b,a)}),h=f.width||b.offsetWidth,e=b.lastItemY+b.lastLineHeight,e=xd.call(b,e),(n||p)&&(h+=o,e+=o,g?h>0&&e>0&&(g[g.isNew?"attr":"animate"](g.crisp(null,null,null,h,e)),g.isNew=!1):(b.box=g=k.rect(0,0,h,e,f.borderRadius,n||0).attr({stroke:f.borderColor,"stroke-width":n||0,fill:p||L}).add(l).shadow(f.shadow),g.isNew=!0),g[m?"show":"hide"]()),b.legendWidth=h,b.legendHeight=e,c(d,function(a){Dd.call(b,a)}),m&&l.align(j({width:h,height:e},f),!0,i.spacingBox),i.isResizing||Bc.call(this)}};var ib=zc.extend({init:function(k,h){var d=this,i=d.guid=n.guid(),c=a[i]={},j=h.dataSeries;h.dataSeries=null,zc.fn.init.apply(d,arguments),d.options.dataSeries=d.initialOptions.dataSeries=j,c.cachedHoverSeries=null;var e=d.options,f=e.margin,g=kb(f)?f:[f,f,f,f];c.optionsMarginTop=b(e.chartMarginTop,g[0]),c.optionsMarginRight=b(e.chartMarginRight,g[1]),c.optionsMarginBottom=b(e.chartMarginBottom,g[2]),c.optionsMarginLeft=b(e.chartMarginLeft,g[3]),c.isResizing=0,c.axes=[],c.dataSeries=[],c.hasCartesianSeries=!1,c.axisX=[],c.axisY=[],c.applyAnimation=U?!1:b(e.applyAnimation,!0),c.pointCount=0,c.counters=new xc,y._initRender.call(d)},_series:function(b){var c=this,e=c.options,a=b.seriesType||e.seriesType;if(!seriesTypes[a])return Sb(n.format("Invalid series type '{0}'",a),1),void 0;var d=new seriesTypes[a];return d.init(c,b),d},redraw:function(q){var h,e,d=this,b=a[d.guid],l=b.axes,f=b.dataSeries,i=b.tracker,n=b.chartLegend,k=b.isDirtyLegend,j=b.isDirtyBox,m=f.length,g=m,o=b.renderer,p=o.isHidden(),r=[];for(yb(q,d),p&&y._shiftRendering.call(d);g--;)if(e=f[g],e.isDirty&&e.options.stackMode){h=!0;break}if(h)for(g=m;g--;)e=f[g],e.options.stackMode&&(e.isDirty=!0);c(f,function(a){a.isDirty&&"point"===a.options.legendType&&(k=!0)}),k&&n.options.enabled&&(n.render(),b.isDirtyLegend=!1),b.hasCartesianSeries&&(b.isResizing||(b.maxTicks=null,c(l,function(a){a._scale()})),y._updateTicks.call(d),d._spacing(),c(l,function(a){a.isDirtyExtremes&&(a.isDirtyExtremes=!1),(a.isDirty||j||h)&&(a.redraw(),j=!0)})),j&&y._renderBox.call(d),c(f,function(a){a.isDirty&&a.visible&&(!a.isCartesian||a.axisX)&&a.redraw()}),i&&i._reset&&i._reset(!0),o.draw(),p&&y._shiftRendering.call(d,!0),c(r,function(a){a.call()})},_axes:function(){var d,g,e=this,f=this.options,a=f.axisX||{},b=f.axisY||{};a=bb(a),c(a,function(a,b){a.index=b,a.isX=!0}),b=bb(b),c(b,function(a,b){a.index=b}),d=a.concat(b),c(d,function(a){g=new Tb(e,a)}),y._updateTicks.call(e)},_zoom:function(d){var f,e=this,g=a[e.guid];d&&!d.resetSelection&&(c(d.axisX.concat(d.axisY),function(a){var b=a.axis;g.tracker[b.isXAxis?"zoomX":"zoomY"]&&(f=b._zoom(a.min,a.max))}),f&&e.redraw(b(e.options.applyAnimation,g.pointCount<100)))},_viewport:function(f,g){var b=this,d=a[b.guid],e=!1;c(d.axes,function(a){var c=a.isXAxis,j=d.isInverted?!c:c,b=nd.call(a,j?f:g,!0);if(0!=b){var h=a.min+b,i=a.max+b;h>a.dataMin&&i<a.dataMax&&(Sc.call(a,h,i,!1),e=!0)}}),e&&b.redraw(!1)},_size:function(){var c=this,b=a[c.guid],d=c.options,e=b.renderToClone||c.element;b.containerWidth=e.width(),b.containerHeight=e.height(),b.chartWidth=d.width||b.containerWidth||600,b.chartHeight=d.height||(b.containerHeight>19?b.containerHeight:400)},_wrapper:function(){var g,d,e,b=this,c=a[b.guid],h=b.options,i=b.element,k=n.strid();i.empty(),i.width()||y._shiftRendering.call(b),b._size(),d=c.chartWidth,e=c.chartHeight,c.container=g=f("<div />").attr("id",k).addClass(Ib+"container"+(h.className?" "+h.className:"")).css(j({position:Ub,overflow:z,width:d+q,height:e+q,textAlignINTERNAL:"left",lineHeight:"normal",zIndex:0},h.style)).appendTo(c.renderToClone||i)[0],c.renderer=h.forExport?new Z(g,d,e,!0):new Pb(g,d,e),U&&c.renderer.create(b,g,d,e)},_spacing:function(){var g,m,h=this,e=a[h.guid],j=h.options,q=j.chartAreaPaddingTop,B=j.chartAreaPaddingRight,A=j.chartAreaPaddingBottom,z=j.chartAreaPaddingLeft,i=e.chartLegend,p=e.optionsMarginTop,x=e.optionsMarginLeft,r=e.optionsMarginRight,s=e.optionsMarginBottom,n=e.chartTitleOptions,o=e.chartSubtitleOptions,f=h.options.chartLegend,l=b(f.chartDistance,10),v=f.x,u=f.y,t=f.align,w=f.verticalAlign;y._marginValues.call(h),g=e.axisOffset,!e.title&&!e.subtitle||d(e.optionsMarginTop)||(m=k(e.title&&!n.ignoreChartLayout&&!n.verticalAlign&&n.y||0,e.subtitle&&!o.ignoreChartLayout&&!o.verticalAlign&&o.y||0),m&&(e.plotTop=k(e.plotTop,m+15+q))),i.display&&!f.ignoreChartLayout&&("right"===t?d(r)||(e.chartMarginRight=k(e.chartMarginRight,i.legendWidth-v+l+B)):"left"===t?d(x)||(e.plotLeft=k(e.plotLeft,i.legendWidth+v+l+z)):"top"===w?d(p)||(e.plotTop=k(e.plotTop,i.legendHeight+u+l+q)):"bottom"===w&&(d(s)||(e.chartMarginBottom=k(e.chartMarginBottom,i.legendHeight-u+l+A)))),e.extraBottomMargin&&(e.chartMarginBottom+=e.extraBottomMargin),e.extraTopMargin&&(e.plotTop+=e.extraTopMargin),e.hasCartesianSeries&&c(e.axes,function(a){a._offset()}),d(x)||(e.plotLeft+=g[3]),d(p)||(e.plotTop+=g[0]),d(s)||(e.chartMarginBottom+=g[2]),d(r)||(e.chartMarginRight+=g[1]),y._saveSize.call(h)},_layout:function(){var b,e,d,f=this,h=a[f.guid],i=f.options,g=f.options.dataSeries;c(["isInverted","angular","enablePolarLayout"],function(a){for(b=seriesTypes[i.seriesType],d=h[a]||i[a]||b&&b.prototype[a],e=g&&g.length;!d&&e--;)b=seriesTypes[g[e].seriesType],b&&b.prototype[a]&&(d=!0);h[a]=d})},_render:function(){var r,d,g=this,b=a[g.guid],l=b.axes,e=b.renderer,u=g.options,i=u.axisTickText;if(d={text:"&#68;&#101;&#109;&#111;&#32;&#86;&#101;&#114;&#115;&#105;&#111;&#110;",isr:0},y.setTitle.call(g),b.chartLegend=new vc(g),c(l,function(a){a._scale()}),g._spacing(),c(l,function(a){return a.radial?(g._spacing(),!1):void 0}),b.maxTicks=null,c(l,function(a){a._ticks(!0),Uc.call(a)}),d.style={cursor:ec,color:"#999999",fontSize:"16px"},y._updateTicks.call(g),g._spacing(),y._renderBox.call(g),b.hasCartesianSeries&&c(l,function(a){a.render()}),d.dest="&#104;&#116;&#116;&#112;&#58;&#47;&#47;&#119;&#119;&#119;&#46;&#115;&#104;&#105;&#101;&#108;&#100;&#117;&#105;&#46;&#99;&#111;&#109;",b.seriesGroup||(b.seriesGroup=e.g().attr({zIndex:3}).add()),c(b.dataSeries,function(a){a.translate(),a.setTooltipPoints(),a.render()}),i&&i.items&&c(i.items,function(c){var a=j(i.style,c.style),d=m(a.left)+b.plotLeft,f=m(a.top)+b.plotTop+12;delete a.left,delete a.top,e.text(c.html,d,f).attr({zIndex:2}).css(a).add()}),d&&!b.dsisf){var o=function(a){return f("<div/>").html(a).text()},s=n.guid();if(P){var k=e.createElement("filter").attr({id:s,height:"120%"}),t=(e.createElement("feGaussianBlur").attr({"in":"SourceAlpha",stdDeviation:3}).add(k),e.createElement("feComponentTransfer"));e.createElement("feFuncA").attr({type:"linear",slope:"0.2"}).add(t),t.add(k);var p=e.createElement("feMerge");e.createElement("feMergeNode").add(p),e.createElement("feMergeNode").attr({"in":"SourceGraphic"}).add(p),p.add(k),k.add(e.defs)}r=o(d.dest),!d.isr&&b.chartWidth<=400&&(d.text=o("&#68;&#101;&#109;&#111;")),d.text=o(d.text);for(var q=[{align:"left",verticalAlign:"top",x:b.plotLeft+5,y:b.plotTop+20},{align:"right",verticalAlign:"top",x:-1*(b.chartWidth-(b.plotLeft+b.plotWidth)+5),y:b.plotTop+20},{align:"left",verticalAlign:"top",x:b.plotLeft+5,y:b.plotTop+b.plotHeight-5},{align:"right",verticalAlign:"top",x:-1*(b.chartWidth-(b.plotLeft+b.plotWidth)+5)+(d.isr?5:0),y:b.plotTop+b.plotHeight-5}],h=0;h<q.length;h++)d.isr&&3!=h||(d.isr&&b.chartWidth<=400&&(d.style.fontSize="13px"),e.text(d.text,0,0).on("click",function(){r&&(location.href=r)}).attr({align:q[h].align,zIndex:8,filter:P?"url(#"+s+")":void 0}).css(d.style).add().align(q[h]));b.dsisf=!0}b.hasRendered=!0},destroy:function(){var b,e=this,c=a[e.guid],f=c.axes,g=c.dataSeries,d=c.container,i=d&&d.parentNode;for(ab(e,"destroy"),I(e),b=f.length;b--;)f[b]=f[b].destroy();for(b=g.length;b--;)g[b]=g[b].destroy();for(var j in c){var h=c[j];h&&typeof h.destroy===Mb&&h.destroy()}d&&(d.innerHTML="",I(d),i&&lb(d));for(b in c)delete c[b];delete a[e.guid]}}),y={_updateTicks:function(){var b=this,d=a[b.guid];b.options.matchTicks!==!1&&c(d.axes,function(a){a._updateTicks()}),d.maxTicks=null},_shiftRendering:function(g){var f=this,c=a[f.guid],e=f.element,d=c.renderToClone,b=c.container;g?d&&(e.append(b),d.remove(),delete c.renderToClone):(b&&e.remove(b),d=c.renderToClone=e.clone().css({position:gb,top:"-9999px",display:"block"}).appendTo(o.body),b&&d.append(b))},_renderBox:function(){var d,g,u=this,b=a[u.guid],c=u.options,f=b.renderer,p=b.chartWidth,s=b.chartHeight,m=b.chartBackground,r=b.plotBackground,n=b.plotBorder,t=b.plotBGImage,e=c.borderWidth||0,v=c.backgroundColor,y=c.chartAreaBackgroundColor,q=c.chartAreaBackgroundImage,o=c.chartAreaBorderWidth||0,h=b.plotLeft,i=b.plotTop,j=b.plotWidth,k=b.plotHeight,w=b.chartAreaBox,x=b.clipRect,l=b.clipBox;d=e+(c.shadow?8:0),(e||v)&&(m?m.animate(m.crisp(null,null,null,p-d,s-d)):(g={fill:v||L},e&&(g.stroke=c.borderColor,g["stroke-width"]=e),b.chartBackground=f.rect(d/2,d/2,p-d,s-d,c.borderRadius,e).attr(g).add().shadow(c.shadow))),y&&(r?r.animate(w):b.plotBackground=f.rect(h,i,j,k,0).attr({fill:y}).add().shadow(c.chartAreaShadow)),q&&(t?t.animate(w):b.plotBGImage=f.image(q,h,i,j,k).add()),x?x.animate({width:l.width,height:l.height}):b.clipRect=f.clipRect(l),o&&(n?n.animate(n.crisp(null,h,i,j,k)):b.plotBorder=f.rect(h,i,j,k,0,o).attr({stroke:c.chartAreaBorderColor,"stroke-width":o,zIndex:1}).add()),b.isDirtyBox=!1},_initRender:function(){function f(e){var a=k.width||l.width(),c=k.height||l.height(),f=e?e.target:H;a&&c&&(f===H||f===o)&&((a!==d.containerWidth||c!==d.containerHeight)&&(clearTimeout(j),d.reflowTimeout=j=setTimeout(function(){d.container&&y._resize.call(b,a,c,!1)},100)),d.containerWidth=a,d.containerHeight=c)}var b=this,d=a[b.guid],e=b.options,g=d.callback,h="onreadystatechange",i="complete";if((!P&&H==H.top&&o.readyState!==i||U&&!H.canvg)&&!U)return o.attachEvent(h,function(){o.readyState===i&&(o.detachEvent(h,arguments.callee),y._initRender.call(b))}),void 0;if(b._wrapper(),b.element.addClass("shield-chart"),ab(b,"init"),y._marginValues.call(b),y._saveSize.call(b),b._layout(),b._axes(),c(e.dataSeries||[],function(a){b._series(a)}),d.tracker=new mc(b,e),b._render(),d.renderer.draw(),g&&g.apply(b,[b]),c(Pc,function(a){a.apply(b,[b])}),y._shiftRendering.call(b,!0),e.enableAutoFit!==!1){var j,b=this,d=a[b.guid],k=b.options,l=b.element;C(H,"resize",f),C(b,"destroy",function(){I(H,"resize",f)})}b.trigger("load")},_selected:function(){var b=[];return c(a[this.guid].dataSeries,function(a){b=b.concat(kd(a.points,function(a){return a.selected}))}),b},_marginValues:function(){var e=this,c=a[e.guid],d=e.options,f=d.chartAreaPaddingTop,g=d.chartAreaPaddingRight,h=d.chartAreaPaddingBottom,i=d.chartAreaPaddingLeft;c.plotTop=b(c.optionsMarginTop,f),c.chartMarginRight=b(c.optionsMarginRight,g),c.chartMarginBottom=b(c.optionsMarginBottom,h),c.plotLeft=b(c.optionsMarginLeft,i),c.axisOffset=[0,0,0,0]},_resize:function(m,l,j){var f,h,i,k,e=this,b=a[e.guid],n=b.title,o=b.subtitle;b.isResizing+=1,k=function(){e&&ab(e,"endResize",null,function(){b.isResizing-=1})},yb(j,e),b.oldChartHeight=b.chartHeight,b.oldChartWidth=b.chartWidth,d(m)&&(b.chartWidth=f=g(m)),d(l)&&(b.chartHeight=h=g(l)),s(b.container,{width:f+q,height:h+q}),b.renderer.setSize(f,h,j),b.plotWidth=f-b.plotLeft-b.chartMarginRight,b.plotHeight=h-b.plotTop-b.chartMarginBottom,b.maxTicks=null,c(b.axes,function(a){a.isDirty=!0,a._scale()}),c(b.dataSeries,function(a){a.isDirty=!0}),b.isDirtyLegend=!0,b.isDirtyBox=!0,e._spacing(),i=b.spacingBox,n&&n.align(null,null,i),o&&o.align(null,null,i),e.redraw(j),b.oldChartHeight=null,ab(e,"resize"),Cb===!1?k():setTimeout(k,Cb&&Cb.duration||500)},_saveSize:function(){var i,j,f,h,d,k=this,b=a[k.guid],p=b.isInverted,l=b.chartWidth,m=b.chartHeight,e=k.options,o=e.chartAreaPaddingTop,q=e.chartAreaPaddingRight,r=e.chartAreaPaddingBottom,n=e.chartAreaPaddingLeft;b.plotLeft=i=g(b.plotLeft),b.plotTop=j=g(b.plotTop),b.plotWidth=f=g(l-i-b.chartMarginRight),b.plotHeight=h=g(m-j-b.chartMarginBottom),b.plotSizeX=p?h:f,b.plotSizeY=p?f:h,b.chartAreaBorderWidth=d=e.chartAreaBorderWidth||0,b.spacingBox={x:n,y:o,width:l-n-q,height:m-o-r},b.chartAreaBox={x:i,y:j,width:f,height:h},b.clipBox={x:d/2,y:d/2,width:b.plotSizeX-d,height:b.plotSizeY-d},c(b.axes,function(a){a._dimensions(),a._arrange()})},setTitle:function(d,e){var f,g,i=this,b=a[i.guid],j=i.options;b.chartTitleOptions=f=h(j.primaryHeader,d),b.chartSubtitleOptions=g=h(j.secondaryHeader,e),c([["title",d,f],["subtitle",e,g]],function(d){var e=d[0],c=b[e],f=d[1],a=d[2];c&&f&&(b[e]=c=c.destroy()),a&&a.text&&!c&&(b[e]=b.renderer.text(a.text,0,0,a.htmlOutput).attr({align:a.align,zIndex:a.zIndex||4}).css(a.style).add().align(a,!1,b.spacingBox))})}},Pc=[];ib.defaults=Y,ib.themes={"default":{}},n.ui.plugin("Chart",ib),function(){function b(a){return{id:a.id,name:a.pointName,x:a.x,y:a.y}}function d(c){return{collectionAlias:c.collectionAlias,color:c.color,axisX:c.axisX?a(c.axisX):null,axisY:c.axisY?a(c.axisY):null,id:c.options.id,points:wb(c.points,function(a){return b(a)})}}function a(a){return{type:a.xOrY,values:a.categoricalValues,min:a.min,max:a.max}}function c(g){if(O(g)||kb(g)){var i=O(g)?{}:[];for(var h in g){var e=g[h];i[h]=e&&e instanceof pb?b(e):e&&(e instanceof v||"dataSeries"===h)?d(e):e&&e instanceof Tb?a(e):e&&n.is.event(e)?f.Event(e):e&&(e instanceof f.Event||"domEvent"===h)?e:c(e)}return i}return g}var e=ib.prototype.trigger;ib.prototype.trigger=function(g,a,b){var d=this,h=c(a),f=e.call(d,g,h);return typeof b!==Mb||f.isDefaultPrevented()||b.call(d,a),f}}();var pb=function(){};pb.prototype={init:function(c,h,i){var d,b=this,e=c.chart,f=a[e.guid],g=f.counters;return b.dataSeries=c,b.setOptions(h,i),b.pointAttr={},c.options.separateColors&&(d=e.options.seriesPalette,b.color=b.color||d[g.color++],g.wrapColor(d.length)),f.pointCount++,b},setOptions:function(a,d){var b=this,c=b.dataSeries,f=typeof a;b.config=a,"number"===f||null===a?b.y=a:"number"==typeof a[0]?(b.x=a[0],b.y=a[1]):"object"===f&&"number"!=typeof a.length?(j(b,a),b.options=a,a.dataPointText&&(c._hasPointLabels=!0),a.pointMark&&(c._hasPointMarkers=!0)):"string"==typeof a[0]&&(b.collectionAlias=a[0],b.y=a[1]),b.x===e&&(b.x=d===e?c.autoIncrement():d)},destroy:function(){if(!this._destroyed){var e,b=this,f=b.dataSeries,c=a[f.chart.guid],d=c.hoverPoints;c.pointCount--,d&&(b.setState(),vb(d,b),d.length||(c.hoverPoints=null)),b===c.hoverPoint&&b._mouseOut(),(b.graphic||b.dataLabel)&&(I(b),uc.call(b)),b.legendItem&&Dc.call(c.chartLegend,b);for(e in b)b[e]=null;b._destroyed=!0}},_selected:function(d,e){var a=this,f=a.dataSeries,g=f.chart;d=b(d,!a.selected),a.trigger(d?"pointSelect":"pointDeselect",{accumulate:e},function(){a._destroyed||(a.selected=d,a.setState(d?$:E),e||c(y._selected.call(g),function(b){b.selected&&b!==a&&(b.selected=!1,b.setState(E),b.trigger("pointDeselect"))}))})},_mouseOver:function(f){var b=this,g=b.dataSeries,c=a[g.chart.guid],d=c.tooltip,e=c.hoverPoint;e&&e!==b&&e._mouseOut(f),b.trigger("seriesMouseOver",f),!d||d.chartBound&&!g.noSharedTooltip||d.refresh(b),b.setState(M),c.hoverPoint=b},_mouseOut:function(d){var b=a[this.dataSeries.chart.guid],c=b.hoverPoints;c&&-1!==ld(this,c)||(this.trigger("seriesMouseOut",d),this.setState(),b.hoverPoint=null)},trigger:function(d,a,e){var b=this,c=b.dataSeries,f=c.options;"seriesClick"===d&&f.enablePointSelection&&(e=function(){b._selected(null,a.ctrlKey||a.metaKey||a.shiftKey)}),ab(b,d,{domEvent:a,dataSeries:c},function(){c.chart.trigger(d,{domEvent:a,point:b,dataSeries:c},e)})},setState:function(b){var c,d=this,l=d.plotX,k=d.plotY,e=d.dataSeries,n=e.options.activeSettings,g=i[e.seriesType].pointMark&&e.options.pointMark,p=g&&!g.enabled,f=g&&g.activeSettings[b],q=f&&f.enabled===!1,j=e.stateMarkerGraphic,o=e.chart,r=a[o.guid],m=d.pointAttr;b=b||E,b===d.state||d.selected&&b!==$||n[b]&&n[b].enabled===!1||b&&(q||p&&!f.enabled)||(d.graphic?(c=g&&d.graphic.symbolName&&m[b].r,d.graphic.attr(h(m[b],c?{x:l-c,y:k-c,width:2*c,height:2*c}:{}))):(b&&f&&(c=f.drawRadius,j?j.attr({x:l-c,y:k-c}):e.stateMarkerGraphic=j=r.renderer.symbol(e.symbol,l-c,k-c,2*c,2*c).attr(m[b]).add(e.markerGroup)),j&&j[b&&Q(o,l,k)?"show":"hide"]()),d.state=b)}};var v=function(){};v.prototype={isCartesian:!0,seriesType:"line",pointClass:pb,sorted:!0,pointAttrToOptions:{stroke:"drawColor","stroke-width":"drawWidth",fill:"innerColor",r:"drawRadius"},init:function(h,b){var g,e,d=this,f=a[h.guid];d.chart=h,d.options=b=d.setOptions(b),d.bindAxes(),j(d,{collectionAlias:b.collectionAlias,state:E,pointAttr:{},visible:b.visible!==!1,selected:b.selected===!0}),U&&(b.applyAnimation=!1),e=b.events;for(g in e)C(d,g,e[g]);(e&&e.click||b.point&&b.point.events&&b.point.events.click||b.enablePointSelection)&&(f.runTrackerClick=!0),d.getColor(),d.getSymbol(),d.setItemSource(b.data,!1),d.isCartesian&&(f.hasCartesianSeries=!0),f.dataSeries.push(d),Oc(f.dataSeries,function(a,b){return(a.options.index||0)-(b.options.index||0)}),c(f.dataSeries,function(a,b){a.index=b,a.collectionAlias=a.collectionAlias||"Series "+(b+1)})},bindAxes:function(){var d,b=this,f=b.options,g=a[b.chart.guid];b.isCartesian&&c(["axisX","axisY"],function(a){c(g[a],function(c){d=c.options,(f[a]===d.index||f[a]===e&&0===d.index)&&(c.dataSeries.push(b),b[a]=c,c.isDirty=!0)})})},autoIncrement:function(){var a=this,d=a.options,c=a.xIncrement;return c=b(c,d.dataStart,0),a.dataStep=b(a.dataStep,d.dataStep,1),a.xIncrement=c+a.dataStep,c},getSegments:function(){var b,f=this,d=-1,e=[],a=f.points,g=a.length;if(g)if(f.options.drawNullValues){for(b=g;b--;)null===a[b].y&&a.splice(b,1);a.length&&(e=[a])}else c(a,function(c,b){null===c.y?(b>d+1&&e.push(a.slice(d+1,b)),d=b):b===g-1&&e.push(a.slice(d+1,b+1))});f.segments=e},setOptions:function(b){var a,c=this.chart,d=c.options,e=d.seriesSettings,f=e[this.seriesType],g=b.data;return b.data=null,a=h(f,e.dataSeries,b),a.data=b.data=g,this.tooltipSettings=h(d.tooltipSettings,a.tooltipSettings,c.initialOptions.tooltipSettings),null===f.pointMark&&delete a.pointMark,a},getColor:function(){var b=this,c=b.options,d=b.chart.options.seriesPalette,e=a[b.chart.guid].counters;b.color=c.color||!c.separateColors&&d[e.color++]||"gray",e.wrapColor(d.length)},getSymbol:function(){var b=this,c=b.options.pointMark,d=b.chart,e=d.options.symbols,f=a[d.guid].counters;b.symbol=c.symbol||e[f.symbol++],/^url/.test(b.symbol)&&(c.drawRadius=0),f.wrapSymbol(e.length)},drawLegendSymbol:function(c,d){var e=this.options,f=(e.pointMark,c.options),b=5,g=f.symbolWidthINTERNAL,h=a[this.chart.guid].renderer,i=d.legendGroup,j=c.baseline;d.legendSymbol=h.symbol("square",g/2-b,j-4-b,2*b,2*b).add(i)},addPointINTERNAL:function(o,i,g,p){var c,a=this,e=a.data,d=a.graph,h=a.area,j=a.chart,k=a.xData,l=a.yData,m=d&&d.shift||0,n=a.options.data,f=a.pointClass.prototype;yb(p,j),d&&g&&(d.shift=m+1),h&&(g&&(h.shift=m+1),h.isArea=!0),i=b(i,!0),c={dataSeries:a},f.setOptions.apply(c,[o]),k.push(c.x),l.push(f.toArray?f.toArray.call(c):c.y),n.push(o),g&&(e[0]&&e[0].remove?zd.call(e[0],!1):(e.shift(),k.shift(),l.shift(),n.shift())),a.getAttribs(),a.isDirty=!0,a.isDirtyData=!0,i&&j.redraw()},setItemSource:function(g,v){var c,e=this,j=e.points,n=e.options,r=e.initialColor,q=e.chart,u=a[q.guid],m=null,l=e.axisX,o=e.pointClass.prototype;e.xIncrement=null,e.pointRange=l&&l.categoricalValues?1:n.pointRange,d(r)&&(u.counters.color=r);var f,k=[],i=[],h=g?g.length:[],w=1e4,s=e.pointArrayMap,t=s&&s.length;if(h>w){for(c=0;null===m&&h>c;)m=g[c],c++;if(ob(m)){var p=b(n.dataStart,0),x=b(n.dataStep,1);for(c=0;h>c;c++)k[c]=p,i[c]=g[c],p+=x;e.xIncrement=p}else if(kb(m))if(t)for(c=0;h>c;c++)f=g[c],k[c]=f[0],i[c]=Tc.call(f,1,t+1);else for(c=0;h>c;c++)f=g[c],k[c]=f[0],i[c]=f[1]}else for(c=0;h>c;c++)f={dataSeries:e},o.setOptions.apply(f,[g[c]]),k[c]=f.x,i[c]=o.toArray?o.toArray.call(f):f.y;if(S(i[0]))return Sb("Data cannot be a string",1),void 0;for(e.data=[],e.options.data=g,e.xData=k,e.yData=i,c=j&&j.length||0;c--;)j[c]&&j[c].destroy&&j[c].destroy();l&&(l.zoomMin=l.customZoomMin),e.isDirty=e.isDirtyData=u.isDirtyBox=!0,b(v,!0)&&q.redraw(!1)},removeSeries:function(d,g){var c=this,e=c.chart,f=a[e.guid];d=b(d,!0),c.isRemoving||(c.isRemoving=!0,c.destroy(),f.isDirtyLegend=f.isDirtyBox=!0,d&&e.redraw(g)),c.isRemoving=!1},processData:function(t){var s,h,f,b,a=this,c=a.xData,i=a.yData,d=c.length,g=0,m=d,n=a.axisX,o=a.options,p=o.pointsLimit,q=a.isCartesian;if(q&&!a.isDirty&&!n.isDirty&&!a.axisY.isDirty&&!t)return!1;if(q&&a.sorted&&(!p||d>p||a.forceCrop)){var r=Jb.call(n),l=r.min,j=r.max;if(c[d-1]<l||c[0]>j)c=[],i=[];else if(c[0]<l||c[d-1]>j){for(b=0;d>b;b++)if(c[b]>=l){g=k(0,b-1);break}for(;d>b;b++)if(c[b]>j){m=b+1;break}c=c.slice(g,m),i=i.slice(g,m),s=!0}}for(b=c.length-1;b>0;b--)h=c[b]-c[b-1],h>0&&(f===e||f>h)&&(f=h);a.cropped=s,a.cropStart=g,a.processedXData=c,a.processedYData=i,null===o.pointRange&&(a.pointRange=f||1),a.closestPointRange=f},generatePoints:function(){var m,d,h,a,b=this,q=b.options,j=q.data,c=b.data,g=b.processedXData,p=b.processedYData,l=b.pointClass,k=g.length,n=b.cropStart||0,f=b.hasGroupedData,i=[];if(!c&&!f){var o=[];o.length=j.length,c=b.data=o}for(a=0;k>a;a++)d=n+a,f?i[a]=(new l).init(b,[g[a]].concat(bb(p[a]))):(c[d]?h=c[d]:j[d]!==e&&(c[d]=h=(new l).init(b,j[d],g[a])),i[a]=h);if(c&&(k!==(m=c.length)||f))for(a=0;m>a;a++)a!==n||f||(a+=k),c[a]&&(uc.call(c[a]),c[a].plotX=e);b.data=c,b.points=i},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var s,f=this,z=f.chart,w=a[z.guid],m=f.options,u=m.stackMode,v=f.axisX,o=v.categoricalValues,l=f.axisY,t=f.points,y=t.length,A=!!f.modifyValue,p=l.dataSeries,j=p.length,x="between"===m.positioningMethod;j--;)if(p[j].visible){p[j]===f&&(s=!0);break}for(j=0;y>j;j++){var n,k,c=t[j],q=c.x,h=c.y,i=c.low,r=l.stacks[(h<m.baseValue?"-":"")+f.stackKey];c.plotX=v.translate(q,0,0,0,1,x),u&&f.visible&&r&&r[q]&&(n=r[q],k=n.total,n.cum=i=n.cum-h,h=i+h,s&&(i=b(m.baseValue,l.min)),l.isLog&&0>=i&&(i=null),"percent"===u&&(i=k?100*i/k:0,h=k?100*h/k:0),c.percentage=k?100*c.y/k:0,c.total=c.stackTotal=k,c.stackY=h),c.yBottom=d(i)?l.translate(i,0,1,0,1):null,A&&(h=f.modifyValue(h,c)),c.plotY="number"==typeof h?g(10*l.translate(h,0,1,0,1))/10:e,c.clientX=w.isInverted?w.plotHeight-c.plotX:c.plotX,c.pointName===e&&(c.pointName=o?o[j]!==e?o[j]:c.x:c.x)
}f.getSegments()},setTooltipPoints:function(o){var l,g,h,i,d,e=this,b=[],f=e.axisX,m=f?f.tooltipLen||f.len:a[e.chart.guid].plotSizeX,n=f&&f.tooltipPosName||"plotX",j=[];if(e.options.mouseInteractions!==!1){for(o&&(e.tooltipPoints=null),c(e.segments||e.points,function(a){b=b.concat(a)}),f&&f.inverseOrder&&(b=b.reverse()),l=b.length,d=0;l>d;d++)for(i=b[d],g=b[d-1]?h+1:0,h=b[d+1]?k(0,K((i[n]+(b[d+1]?b[d+1][n]:m))/2)):m;g>=0&&h>=g;)j[g++]=i;e.tooltipPoints=j}},_mouseOver:function(e){var b=this,c=a[b.chart.guid],d=c.hoverSeries;d&&d!==b&&d._mouseOut(e),b.setState(M),c.cachedHoverSeries=b,c.hoverSeries=b},_mouseOut:function(f){var b=this,g=b.options,c=a[b.chart.guid],d=c.tooltip,e=c.hoverPoint;e&&e._mouseOut(f),!d||g.completeSeriesTrace||d.chartBound||d.hide(),b.setState(),c.hoverSeries=null},animate:function(l){var f,g,d,c=this,b=a[c.chart.guid],h=b.renderer,e=c.options.applyAnimation,m=b.clipBox,k=b.isInverted;e&&!O(e)&&(e=i[c.seriesType].applyAnimation),d="_sharedClip"+e.duration+e.easing,l?(f=b[d],g=b[d+"m"],f||(b[d]=f=h.clipRect(j(m,{width:0})),b[d+"m"]=g=h.clipRect(-99,k?-b.plotLeft:-b.plotTop,99,k?b.chartWidth:b.chartHeight)),c.group.clip(f),c.markerGroup.clip(g),c.sharedClipKey=d):(f=b[d],f&&(f.animate({width:b.plotSizeX},e),b[d+"m"].animate({width:b.plotSizeX+99},e)),c.animate=null,c.animationTimeout=setTimeout(function(){c.afterAnimate()},e.duration))},afterAnimate:function(){var d=this,b=a[d.chart.guid],c=d.sharedClipKey,e=d.group;e&&d.options.clip!==!1&&(e.clip(b.clipRect),d.markerGroup.clip()),setTimeout(function(){c&&b[c]&&(b[c]=b[c].destroy(),b[c+"m"]=b[c+"m"].destroy())},100)},drawPoints:function(){var l,k,g,m,d,c,n,q,f,i,p,o,h=this,r=h.points,s=h.chart,t=a[s.guid],v=h.options,u=v.pointMark,w=h.markerGroup;if(u.enabled||h._hasPointMarkers)for(m=r.length;m--;)d=r[m],k=d.plotX,g=d.plotY,f=d.graphic,i=d.pointMark||{},p=u.enabled&&i.enabled===e||i.enabled,o=Q(s,k,g,t.isInverted),p&&g!==e&&!isNaN(g)?(l=d.pointAttr[d.selected?$:E],c=l.r,n=b(i.symbol,h.symbol),q=0===n.indexOf("url"),f?f.attr({visibility:o?P?"inherit":B:z}).animate(j({x:k-c,y:g-c},f.symbolName?{width:2*c,height:2*c}:{})):o&&(c>0||q)&&(d.graphic=f=t.renderer.symbol(n,k-c,g-c,2*c,2*c).attr(l).add(w))):f&&(d.graphic=f.destroy())},convertAttribs:function(c,d,e,f){var a,g,h=this.pointAttrToOptions,i={};c=c||{},d=d||{},e=e||{},f=f||{};for(a in h)g=h[a],i[a]=b(c[g],d[a],e[a],f[a]);return i},getAttribs:function(){var l,m,f,g,o,p,a=this,b=i[a.seriesType].pointMark?a.options.pointMark:a.options,k=b.activeSettings,e=k[M],n=a.color,s={stroke:n,fill:n},q=a.points||[],h=[],r=a.pointAttrToOptions;for(a.options.pointMark?(e.drawRadius=e.drawRadius||b.drawRadius+2,e.drawWidth=e.drawWidth||b.drawWidth+1):e.color=e.color||fb(e.color||n).brighten(e.brightness).get(),h[E]=a.convertAttribs(b,s),c([M,$],function(b){h[b]=a.convertAttribs(k[b],h[E])}),a.pointAttr=h,m=q.length;m--;){if(f=q[m],b=f.options&&f.options.pointMark||f.options,b&&b.enabled===!1&&(b.drawRadius=0),o=a.options.separateColors,f.options)for(p in r)d(b[r[p]])&&(o=!0);o?(b=b||{},g=[],k=b.activeSettings||{},l=k[M]=k[M]||{},a.options.pointMark||(l.color=fb(l.color||f.color).brighten(l.brightness||e.brightness).get()),g[E]=a.convertAttribs(j({color:f.color},b),h[E]),g[M]=a.convertAttribs(k[M],h[M],g[E]),g[$]=a.convertAttribs(k[$],h[$],g[E])):g=j(!0,{},h),f.pointAttr=g}},destroy:function(){if(!this._destroyed){var g,d,i,e,b=this,f=a[b.chart.guid],j=b.data||[];if(!b._destroyed){for(ab(b,"destroy"),I(b),c(["axisX","axisY"],function(a){e=b[a],e&&(vb(e.dataSeries,b),e.isDirty=!0)}),b.legendItem&&Dc.call(f.chartLegend,b),g=j.length;g--;)d=j[g],d&&d.destroy&&d.destroy();b.points=null,clearTimeout(b.animationTimeout);for(var k in b){var h=b[k];(h instanceof _||nb&&h instanceof nb)&&(b[k]=h.destroy())}f.hoverSeries===b&&(f.hoverSeries=null),vb(f.dataSeries,b);for(i in b)delete b[i];b._destroyed=!0}}},drawDataLabels:function(){var i,k,j,l,g=this,m=g.options,f=m.dataPointText,o=g.points;(f.enabled||g._hasPointLabels)&&(g.dlProcessOptions&&g.dlProcessOptions(f),l=g.plotGroup("dataLabelsGroup","data-axisTickText",g.visible?B:z,6),k=f,c(o,function(c){var p,o,q,r,m=c.dataLabel,s=!0;if(i=c.options&&c.options.dataPointText,p=k.enabled||i&&i.enabled,m&&!p)c.dataLabel=m.destroy();else if(p){if(r=f.textAngle,f=h(k,i),j=S(f.format)?n.format(f.format,{point:c,chart:c.dataSeries.chart}):f.format.call(null,c,c.dataSeries.chart),f.style.color=b(f.color,f.style.color,g.color,"black"),m)m.attr({text:j}),s=!1;else if(d(j)){o={fill:f.backgroundColor,stroke:f.borderColor,"stroke-width":f.borderWidth,r:f.borderRadius||0,textAngle:r,padding:f.padding,zIndex:1};for(q in o)o[q]===e&&delete o[q];m=c.dataLabel=a[g.chart.guid].renderer[r?"text":"label"](j,0,-999,null,null,null,f.htmlOutput).attr(o).css(f.style).add(l).shadow(f.shadow)}m&&g.alignDataLabel(c,m,f,null,s)}}))},alignDataLabel:function(n,f,c,d,p){var e,h=this.chart,k=a[h.guid],l=k.isInverted,m=b(n.plotX,-999),i=b(n.plotY,-999),o=f.getBBox();d=j({x:l?k.plotWidth-i:m,y:g(l?k.plotHeight-m:i),width:0,height:0},d),j(c,{width:o.width,height:o.height}),c.textAngle?(e={align:c.align,x:d.x+c.x+d.width/2,y:d.y+c.y+d.height/2},f[p?"attr":"animate"](e)):(f.align(c,null,d),e=f.alignAttr),f.attr({visibility:c.hideInvisible===!1||Q(h,e.x,e.y)||Q(h,m,i,l)?P?"inherit":B:z})},getSegmentPath:function(b){var d=this,a=[];return c(b,function(c,e){if(d.getPointSpline)a.push.apply(a,d.getPointSpline(b,c,e));else{if(a.push(e?w:x),e&&d.options.step){var f=b[e-1];a.push(c.plotX,f.plotY)}a.push(c.plotX,c.plotY)}}),a},getGraphPath:function(){var d,a=this,b=[],e=[];return c(a.segments,function(c){d=a.getSegmentPath(c),c.length>1?b=b.concat(d):e.push(c[0])}),a.singlePoints=e,a.graphPath=b,b},drawGraph:function(){var d,b=this,c=b.options,e=b.graph,i=b.group,j=c.drawColor||b.color,f=c.drawWidth,g=c.seriesDashStyle,h=b.getGraphPath();e?(Gb(e),e.animate({d:h})):f&&(d={stroke:j,"stroke-width":f,zIndex:1},g&&(d.dashstyle=g),b.graph=a[b.chart.guid].renderer.path(h).attr(d).add(i).shadow(c.shadow))},invertGroups:function(){function b(){var b={width:a.axisY.len,height:a.axisX.len};c(["group","trackerGroup","markerGroup"],function(c){a[c]&&a[c].attr(b).invert()})}var a=this,d=a.chart;C(d,"resize",b),C(a,"destroy",function(){I(d,"resize",b)}),b(),a.invertGroups=b},plotGroup:function(e,k,h,i,j){var b=this,c=b[e],d=a[b.chart.guid],f=b.axisX,g=b.axisY;return c||(b[e]=c=d.renderer.g().attr({visibility:h,zIndex:i||.1}).add(j)),c.translate(f?f.left:d.plotLeft,g?g.top:d.plotTop),c},render:function(){var d,b=this,c=a[b.chart.guid],e=b.options,k=e.applyAnimation,f=k&&!!b.animate,g=b.visible?B:z,h=e.zIndex,i=b.hasRendered,j=c.seriesGroup;d=b.plotGroup("group","dataSeries",g,h,j),b.markerGroup=b.plotGroup("markerGroup","markers",g,h,j),f&&b.animate(!0),b.getAttribs(),d.isInverted=c.isInverted,b.drawGraph&&b.drawGraph(),b.drawPoints(),b.drawDataLabels(),b.options.mouseInteractions!==!1&&b.drawTracker(),c.isInverted&&b.invertGroups(),e.clip===!1||b.sharedClipKey||i||(d.clip(c.clipRect),this.trackerGroup&&this.trackerGroup.clip(c.clipRect)),f?b.animate():i||b.afterAnimate(),b.isDirty=b.isDirtyData=!1,b.hasRendered=!0},redraw:function(){var b=this,c=a[b.chart.guid],d=(b.isDirtyData,b.group);d&&(c.isInverted&&d.attr({width:c.plotWidth,height:c.plotHeight}),d.animate({translateX:b.axisX.left,translateY:b.axisY.top})),b.translate(),b.setTooltipPoints(!0),b.render()},setState:function(a){var b=this,f=b.options,c=b.graph,d=f.activeSettings,e=f.drawWidth;if(a=a||E,b.state!==a){if(b.state=a,d[a]&&d[a].enabled===!1)return;a&&(e=d[a].drawWidth||e+1),c&&!c.dashstyle&&c.attr({"stroke-width":e},a?0:500)}},toggle:function(f,p){var d,i,j,b=this,g=b.chart,k=a[g.guid],s=b.legendItem,l=b.group,m=b.tracker,n=b.dataLabelsGroup,o=b.markerGroup,h=b.points,r=g.options.scaleAxesForHiddenSeries,q=b.visible;if(b.visible=f=f===e?!q:f,d=f?"show":"hide",l&&l[d](),o&&o[d](),m)m[d]();else if(h)for(i=h.length;i--;)j=h[i],j.tracker&&j.tracker[d]();n&&n[d](),s&&kc.call(k.chartLegend,b,f),b.isDirty=!0,b.options.stackMode&&c(k.dataSeries,function(a){a.options.stackMode&&a.visible&&(a.isDirty=!0)}),r||(k.isDirtyBox=!0),p!==!1&&g.redraw(),g.trigger("seriesVisibilityChange",{dataSeries:b})},showDataSeries:function(){this.toggle(!0)},hideDataSeries:function(){this.toggle(!1)},drawTracker:function(){var e,b,c=this,f=c.options,h=f.areaInteractivity,d=[].concat(h?c.areaPath:c.graphPath),j=d.length,o=c.chart,i=a[c.chart.guid],n=i.renderer,g=o.options.tooltipSettings.showDistance,k=c.tracker,l=f.cursor,p=l&&{cursor:l},m=c.singlePoints,q=c.isCartesian&&c.plotGroup("trackerGroup",null,B,f.zIndex||1,i.trackerGroup);if(j&&!h)for(b=j+1;b--;)d[b]===x&&d.splice(b+1,0,d[b+1]-g,d[b+2],w),(b&&d[b]===x||b===j)&&d.splice(b,0,w,d[b-2]+g,d[b-1]);for(b=0;b<m.length;b++)e=m[b],d.push(x,e.plotX-g,e.plotY,w,e.plotX+g,e.plotY);k?k.attr({d:d}):c.tracker=n.path(d).attr({isTracker:!0,"stroke-linejoin":"bevel",visibility:c.visible?B:z,stroke:fc,fill:h?fc:L,"stroke-width":f.drawWidth+(h?0:2*g)}).on(V?"touchstart":"mouseover",function(a){i.hoverSeries!==c&&c._mouseOver(a)}).on("mouseout",function(a){f.completeSeriesTrace||c._mouseOut(a)}).css(p).add(q)}};var Mc=u(v);seriesTypes.line=Mc;var hd=u(Mc,{seriesType:"stepline"});seriesTypes.stepline=hd,i.stepline=h(i.line,{step:"left"}),i.area=h(Ab,{baseValue:0,drawWidth:2,pointMark:{enabled:!1}});var nc=u(v,{seriesType:"area",getSegmentPath:function(a){var b,c=this,d=v.prototype.getSegmentPath.call(c,a),e=[].concat(d),f=c.options,g=d.length;if(3===g&&e.push(w,d[1],d[2]),f.stackMode&&!c.closedStacks)for(b=a.length-1;b>=0;b--)b<a.length-1&&f.step&&e.push(a[b+1].plotX,a[b].yBottom),e.push(a[b].plotX,a[b].yBottom);else c.closeSegment(e,a);return c.areaPath=c.areaPath.concat(e),d},closeSegment:function(c,a){var b=oc.call(this.axisY,this.options.baseValue);c.push(w,a[a.length-1].plotX,b,w,a[0].plotX,b)},drawGraph:function(){var c=this;c.areaPath=[],v.prototype.drawGraph.apply(c);var d=c.areaPath,e=c.options,f=c.area;f?f.animate({d:d}):c.area=a[c.chart.guid].renderer.path(d).attr({fill:b(e.innerColor,fb(c.color).setOpacity(e.fillOpacity||.75).get()),zIndex:0}).add(c.group)}});seriesTypes.area=nc;var jd=u(nc,{seriesType:"steparea"});seriesTypes.steparea=jd,i.steparea=h(i.area,{step:"left"}),i.spline=h(Ab);var Jc=u(v,{seriesType:"spline",getPointSpline:function(r,j,q){var n,c,l,b,m,h=1.5,i=h+1,e=j.plotX,a=j.plotY,d=r[q-1],o=r[q+1];if(d&&o){var p,s=d.plotX,g=d.plotY,t=o.plotX,f=o.plotY;n=(h*e+s)/i,c=(h*a+g)/i,l=(h*e+t)/i,b=(h*a+f)/i,p=(b-c)*(l-e)/(l-n)+a-b,c+=p,b+=p,c>g&&c>a?(c=k(g,a),b=2*a-c):g>c&&a>c&&(c=G(g,a),b=2*a-c),b>f&&b>a?(b=k(f,a),c=2*a-b):f>b&&a>b&&(b=G(f,a),c=2*a-b),j.rightContX=l,j.rightContY=b}return q?(m=["C",d.rightContX||d.plotX,d.rightContY||d.plotY,n||e,c||a,e,a],d.rightContX=d.rightContY=null):m=[x,e,a],m}});seriesTypes.spline=Jc,i.splinearea=h(i.area);var lc=nc.prototype,md=u(Jc,{seriesType:"splinearea",closedStacks:!0,getSegmentPath:lc.getSegmentPath,closeSegment:lc.closeSegment,drawGraph:lc.drawGraph});seriesTypes.splinearea=md,i.bar=h(Ab,{borderColor:"#FFFFFF",borderWidth:0,borderRadius:0,groupPadding:.15,pointMark:null,barOffset:.1,minPointLength:0,pointsLimit:50,pointRange:null,activeSettings:{pointHoveredState:{brightness:.1,shadow:!1},pointSelectedState:{color:"#7AF4F4",shadow:!1}},dataPointText:{align:null,verticalAlign:null,y:null},baseValue:0});var Ec=u(v,{seriesType:"bar",tooltipOutsidePlot:!0,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},isInverted:!1,init:function(){v.prototype.init.apply(this,arguments);var b=this,d=a[b.chart.guid];d.hasRendered&&c(d.dataSeries,function(a){a.seriesType===b.seriesType&&(a.isDirty=!0)})},translate:function(){var n,w,f=this,D=a[f.chart.guid],x=f.enablePolarLayout,g=f.options,H=g.stackMode,t=g.borderWidth,j=0,r=f.axisX,A=r.inverseOrder,u={};v.prototype.translate.apply(f),g.grouping===!1?j=1:c(D.dataSeries,function(a){var b=a.options;a.seriesType===f.seriesType&&a.visible&&f.options.group===b.group&&(b.stackMode?(n=a.stackKey,u[n]===e&&(u[n]=j++),w=u[n]):b.grouping!==!1&&(w=j++),a.columnIndex=w)});var F=f.points,z=N(r.transA)*(r.ordinalSlope||g.pointRange||r.closestPointRange||1),C=z*g.groupPadding,E=z-2*C,s=E/j,y=g.dataPointWidth,p=d(y)?(s-y)/2:s*g.barOffset,p=x?p:m(p),o=b(y,s-2*p),o=x?o:m(o),B=rb(k(o,1+2*t)),I=(A?j-f.columnIndex:f.columnIndex)||0,l=p+(C+I*s-z/2)*(A?-1:1),l=x?l:m(l),J=g.baseValue,q=f.translatedThreshold=oc.call(f.axisY,J),i=b(g.minPointLength,5);c(F,function(a){var e,g=a.plotY,j=b(a.yBottom,q),n=a.plotX+l,c=rb(G(g,j)),d=rb(k(g,j)-c),m=f.axisY.stacks[(a.y<0?"-":"")+f.stackKey];H&&f.visible&&m&&m[a.x]&&m[a.x]._offset(l,B),N(d)<i&&i&&(d=i,c=N(c-q)>i?j-i:q-(q>=g?i:0)),a.barX=n,a.dataPointWidth=o,a.shapeType="rect",a.shapeArgs=e=D.renderer.Element.prototype.crisp.call(0,t,n,c,B,d),t%2&&(e.y-=1,e.height+=1),a.trackerArgs=N(d)<3&&h(a.shapeArgs,{height:6,y:c-3})})},getSymbol:W,drawGraph:W,drawPoints:function(){var d,b=this,f=b.options,g=a[b.chart.guid].renderer;c(b.points,function(a){var i=a.plotY,c=a.graphic;i===e||isNaN(i)||null===a.y?c&&(a.graphic=c.destroy()):(d=a.shapeArgs,c?(Gb(c),c.animate(h(d))):a.graphic=c=g[a.shapeType](d).attr(a.pointAttr[a.selected?$:E]).add(b.group).shadow(f.shadow,null,f.stackMode&&!f.borderRadius))})},drawTracker:function(){var d,j,f,g,l,b=this,i=a[b.chart.guid],n=i.renderer,k=+new Date,h=b.options,m=h.cursor,o=m&&{cursor:m},q=b.isCartesian&&b.plotGroup("trackerGroup",null,B,h.zIndex||1,i.trackerGroup);c(b.points,function(a){j=a.tracker,d=a.trackerArgs||a.shapeArgs,g=a.plotY,l=!b.isCartesian||g!==e&&!isNaN(g),delete d.strokeWidth,null!==a.y&&l&&(j?j.attr(d):a.tracker=n[a.shapeType](d).attr({isTracker:k,fill:fc,visibility:b.visible?B:z}).on(V?"touchstart":"mouseover",function(c){f=c.relatedTarget||c.fromElement,i.hoverSeries!==b&&p(f,"isTracker")!==k&&b._mouseOver(c),a._mouseOver(c)}).on("mouseout",function(a){h.completeSeriesTrace||(f=a.relatedTarget||a.toElement,p(f,"isTracker")!==k&&b._mouseOut(a))}).css(o).add(a.group||q))})},alignDataLabel:function(e,l,d,c,m){var f=this,g=a[f.chart.guid],i=g.isInverted,j=e.below||e.plotY>(f.translatedThreshold||g.plotSizeY),k=f.options.stackMode||d.inside;e.shapeArgs&&(c=h(e.shapeArgs),i&&(c={x:g.plotWidth-c.y-c.height,y:g.plotHeight-c.x-c.width,width:c.height,height:c.width}),k||(i?(c.x+=j?0:c.width,c.width=0):(c.y+=j?c.height:0,c.height=0))),d.align=b(d.align,!i||k?"center":j?"right":"left"),d.verticalAlign=b(d.verticalAlign,i||k?"middle":j?"top":"bottom"),v.prototype.alignDataLabel.call(f,e,l,d,c,m)},animate:function(e){var a=this,f=a.points,b=a.options;e||(c(f,function(f){var c=f.graphic,g=f.shapeArgs,e=a.axisY,h=b.baseValue;c&&(c.attr({height:0,y:d(h)?oc.call(e,h):e.translate(Jb.call(e).min,0,1,0,1)}),c.animate({height:g.height,y:g.y},b.applyAnimation))}),a.animate=null)},remove:function(){var b=this,d=a[b.chart.guid];d.hasRendered&&c(d.dataSeries,function(a){a.seriesType===b.seriesType&&(a.isDirty=!0)}),v.prototype.remove.apply(b,arguments)}});seriesTypes.bar=Ec,i.scatter=h(Ab,{drawWidth:0,activeSettings:{pointHoveredState:{drawWidth:0}},tooltipSettings:{customHeaderText:"{point.pointName}",customPointText:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b>"}});var ic=u(v,{seriesType:"scatter",sorted:!1,translate:function(){var a=this;v.prototype.translate.apply(a),c(a.points,function(b){b.shapeType="circle",b.shapeArgs={x:b.plotX,y:b.plotY,r:a.chart.options.tooltipSettings.showDistance}})},drawTracker:function(){for(var b,a=this,f=a.options.cursor,g=f&&{cursor:f},c=a.points,d=c.length;d--;)b=c[d].graphic,b&&(b.element._i=d);a._hasTracking?a._hasTracking=!0:a.markerGroup.attr({isTracker:!0}).on(V?"touchstart":"mouseover",function(b){a._mouseOver(b),b.target._i!==e&&c[b.target._i]._mouseOver(b)}).on("mouseout",function(b){a.options.completeSeriesTrace||a._mouseOut(b)}).css(g)}});seriesTypes.scatter=ic,i.bubble=h(i.scatter,{pointMark:{drawWidth:1,activeSettings:{pointHoveredState:{innerColor:null},pointSelectedState:{innerColor:null}}},tooltipSettings:{customHeaderText:"{point.pointName}",customPointText:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>size: <b>{point.size}</b>"}});var pd=u(ic,{seriesType:"bubble",translate:function(){var b,f,h,d,j,g=this,p=g.chart,n=a[p.guid],i=10,q=k(10,m(G(n.plotHeight,n.plotWidth)/5)),o=q-i;ic.prototype.translate.apply(g),c(g.points,function(a){a._rad=d=l.sqrt(a.size/t),(b===e||b>d)&&(b=d),(f===e||d>f)&&(f=d)}),h=f-b,i>b&&(j=b,b=f=e,c(g.points,function(a){a._rad=d=a._rad*i/j,(b===e||b>d)&&(b=d),(f===e||d>f)&&(f=d)}),h=f-b),h>=o&&c(g.points,function(a){a._rad=i+(a._rad-b)*o/h})},drawPoints:function(){var a=this;c(a.points,function(a){c([E,M,$],function(b){j(a.pointAttr[b],{r:a._rad,fill:fb(a.pointAttr[b].fill).setOpacity(b==E?.75:1).get()})})}),v.prototype.drawPoints.apply(a)}});seriesTypes.bubble=pd,i.pie=h(Ab,{borderColor:"#FFFFFF",borderWidth:0,center:["50%","50%"],separateColors:!0,dataPointText:{distance:30,enabled:!0,format:function(b,a){return a&&a.options&&a.options.axisX&&a.options.axisX.categoricalValues&&a.options.axisX.categoricalValues[b.x]!==e?a.options.axisX.categoricalValues[b.x]:b.y}},legendType:"point",pointMark:null,size:"75%",addToLegend:!1,slicedOffset:10,activeSettings:{pointHoveredState:{brightness:.1,shadow:!1}},tooltipSettings:{customHeaderText:"{point.dataSeries.collectionAlias}",customPointText:function(a,b){var c;return c=b&&b.options&&b.options.axisX&&b.options.axisX.categoricalValues&&b.options.axisX.categoricalValues[a.x]!==e?b.options.axisX.categoricalValues[a.x]:a.pointName?a.pointName:a.collectionAlias?a.collectionAlias:a.dataSeries.collectionAlias,"<span>"+c+"</span>: "+a.y}}});var qd=u(pb,{init:function(){pb.prototype.init.apply(this,arguments);var c,a=this;return j(a,{visible:a.visible!==!1,collectionAlias:b(a.collectionAlias,"Sector")}),d(a.selected)?a.selected=a.sliced=!!a.selected:d(a.sliced)&&(a.selected=a.sliced=!!a.sliced),c=function(){Tc.call(a)},C(a,"pointSelect",c),C(a,"pointDeselect",c),a},toggle:function(d){var c,b=this,f=b.dataSeries,k=f.chart,l=a[f.chart.guid],g=b.tracker,h=b.dataLabel,i=b.connector,j=b.shadowGroup;b.visible=d=d===e?!b.visible:d,c=d?"show":"hide",b.group[c](),g&&g[c](),h&&h[c](),i&&i[c](),j&&j[c](),b.legendItem&&kc.call(l.chartLegend,b,d),!f.isDirty&&f.options.ignoreHiddenPoint&&(f.isDirty=!0,k.redraw())}}),Ob={seriesType:"pie",isCartesian:!1,pointClass:qd,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:function(){this.initialColor=a[this.chart.guid].counters.color},animate:function(){var a=this,b=a.points;c(b,function(d){var b=d.graphic,c=d.shapeArgs,e=-t/2;b&&(b.attr({r:0,start:e,end:e}),b.animate({r:c.r,start:c.start,end:c.end},a.options.applyAnimation))}),a.animate=null},setItemSource:function(c,d){var a=this;v.prototype.setItemSource.call(a,c,!1),a.processData(),a.generatePoints(),b(d,!0)&&a.chart.redraw()},getCenter:function(){var c,b=this.options,d=a[this.chart.guid],e=d.plotWidth,f=d.plotHeight,h=b.center.concat([b.size,b.innerSize||0]),g=G(e,f);return wb(h,function(a,b){return c=/%$/.test(a),c?[e,f,g,g][b]*m(a)/100:a})},translate:function(){this.generatePoints();var b,o,p,d,s,i,h,e,c,k=0,f=this,q=-.25,m=1e3,n=f.options,r=n.slicedOffset,x=r+n.borderWidth,w=a[f.chart.guid],v=f.points,u=2*t,j=n.dataPointText.distance,y=n.ignoreHiddenPoint,z=v.length;for(f.center=b=f.getCenter(),f.getX=function(a,c){return d=l.asin((a-b[1])/(b[2]/2+j)),b[0]+(c?-1:1)*A(d)*(b[2]/2+j)},e=0;z>e;e++)c=v[e],k+=y&&!c.visible?0:c.y;for(e=0;z>e;e++)c=v[e],s=k?c.y/k:0,o=g(q*u*m)/m,(!y||c.visible)&&(q+=s),p=g(q*u*m)/m,c.shapeType="arc",c.shapeArgs={x:b[0],y:b[1],r:b[2]/2,innerR:b[3]/2,start:o,end:p},d=(p+o)/2,c.slicedTranslation=wb([A(d)*r+w.plotLeft,F(d)*r+w.plotTop],g),i=A(d)*b[2]/2,h=F(d)*b[2]/2,c.tooltipPos=[b[0]+.7*i,b[1]+.7*h],c.labelPos=[b[0]+i+A(d)*j,b[1]+h+F(d)*j,b[0]+i+A(d)*x,b[1]+h+F(d)*x,b[0]+i,b[1]+h,0>j?"center":u/4>d?"left":"right",d],c.percentage=100*s,c.total=k;f.setTooltipPoints()},render:function(){var a=this;a.getAttribs(),a.drawPoints(),a.options.mouseInteractions!==!1&&a.drawTracker(),a.drawDataLabels(),a.options.applyAnimation&&a.animate&&a.animate(),a.isDirty=!1},drawPoints:function(){var d,e,f,b,h,g=this,i=a[g.chart.guid],k=i.renderer,l=g.options.shadow;c(g.points,function(a){e=a.graphic,h=a.shapeArgs,f=a.group,b=a.shadowGroup,l&&!b&&(b=a.shadowGroup=k.g().attr({zIndex:4}).add()),f||(f=a.group=k.g().attr({zIndex:5}).add()),d=a.sliced?a.slicedTranslation:[i.plotLeft,i.plotTop],f.translate(d[0],d[1]),b&&b.translate(d[0],d[1]),e?e.animate(h):a.graphic=e=k.arc(h).setRadialReference(g.center).attr(j(a.pointAttr[E],{"stroke-linejoin":"round"})).add(a.group).shadow(l,b),a.visible===!1&&a.toggle(!1)})},drawDataLabels:function(){var h,r,E,y,g,S,L,k,C,I,K,d,l=this,W=l.data,G=a[l.chart.guid],j=l.options.dataPointText,Q=b(j.connectorPadding,10),P=b(j.connectorWidth,1),p=j.distance,H=l.center,D=H[2]/2,O=H[1],V=p>0,o=[[],[]],u=2;if(j.enabled||l._hasPointLabels)for(v.prototype.drawDataLabels.apply(l),c(W,function(a){a.dataLabel&&o[a.labelPos[7]<t/2?0:1].push(a)}),o[1].reverse(),K=function(a,b){return b.y-a.y},S=o[0][0]&&o[0][0].dataLabel&&(o[0][0].dataLabel.getBBox().height||21);u--;){var n,A,e,f=[],M=[],m=o[u],i=m.length;if(p>0){for(A=O-D-p;O+D+p>=A;A+=S)f.push(A);if(n=f.length,i>n){for(I=[].concat(m),I.sort(K),d=i;d--;)I[d].rank=d;for(d=i;d--;)m[d].rank>=n&&m.splice(d,1);i=m.length}for(d=0;i>d;d++){h=m[d],g=h.labelPos;var J,s,R=9999;for(s=0;n>s;s++)J=N(f[s]-g[1]),R>J&&(R=J,e=s);if(d>e&&null!==f[d])e=d;else if(i-d+e>n&&null!==f[d])for(e=n-i+d;null===f[e];)e++;else for(;null===f[e];)e++;M.push({i:e,y:f[e]}),f[e]=null}M.sort(K)}for(d=0;i>d;d++){var F,q;if(h=m[d],g=h.labelPos,y=h.dataLabel,C=h.visible===!1?z:B,q=g[1],p>0?(F=M.pop(),e=F.i,k=F.y,(q>k&&null!==f[e+1]||k>q&&null!==f[e-1])&&(k=q)):k=q,L=j.justify?H[0]+(u?-1:1)*(D+p):l.getX(0===e||e===f.length-1?q:k,u),y.attr({visibility:C,align:g[6]})[y.moved?"animate":"attr"]({x:L+j.x+({left:Q,right:-Q}[g[6]]||0),y:k+j.y-10}),y.moved=!0,V&&P){r=h.connector;var T=L+("left"===g[6]?8:-8),U=k;E=[x,T,U,w,T+("left"===g[6]?-10:10),U,w,g[4],g[5]],r?(r.animate({d:E}),r.attr("visibility",C)):h.connector=r=G.renderer.path(E).attr({"stroke-width":P,stroke:j.connectorColor||h.color||"#606060",visibility:C,zIndex:3}).translate(G.plotLeft,G.plotTop).add()}}}},alignDataLabel:W,drawTracker:Ec.prototype.drawTracker,getSymbol:W};Ob=u(v,Ob),seriesTypes.pie=Ob,i.donut=h(i.pie,{innerSize:"45%"});var sd=u(Ob,{seriesType:"donut"});seriesTypes.donut=sd;var td={_init:function(){var a=this;a.container=f("<div class='shield-lightbox' />"),a.mask=f("<div class='shield-lightbox-mask' />").appendTo(a.container),a.imageBox=f("<div class='shield-lightbox-imagebox' />").appendTo(a.container),a.image=f("<img />").appendTo(a.imageBox),a.caption=f("<p>Right-click and save image to disk. Left-click to dismiss.</p>").appendTo(a.imageBox),a.window=f(window),a.document=f(o),a.body=f(o.body)},show:function(b){function c(){a.visible&&(a.container.appendTo(a.body),a.window.on("resize"+a.ns,d),a.window.on("keydown"+a.ns,function(b){27===b.keyCode&&a.hide()}),a.container.on("click"+a.ns,f.proxy(a.hide,a)),setTimeout(d,1e3/60))}function d(){a.mask.css({height:a.document.innerHeight()}),a.image.css({maxWidth:a.mask.width()-(a.image.outerWidth()-a.image.width())-2*a.margin,maxHeightINTERNAL:a.mask.height()-(a.image.outerHeight()-a.image.height())-2*a.margin}),a.imageBox.css({left:(a.document.innerWidth()-a.imageBox.outerWidth())/2,top:(a.window.innerHeight()-a.imageBox.outerHeight())/2+a.document.scrollTop()}),a.caption.css({left:(a.imageBox.width()-a.caption.outerWidth())/2+"px"})}var a=this;a.visible||(a.visible=!0,a.container||a._init(),a.image.attr("src")===b?c():a.image.on("load"+a.ns,c).attr("src",b).attr("alt","Right-click and save image to disk"))},hide:function(){var a=this;a.container.detach(),a.window.off(a.ns),a.visible=!1},ns:".shield",visible:!1,container:null,mask:null,imageBox:null,image:null,caption:null,window:null,document:null,body:null,margin:40};ib.defaults.exportOptions={image:!0,print:!0,exportTooltip:"Export the chart to an image",printTooltip:"Print the chart"},j(ib.prototype,{exportToImage:function(){if(Vb){var e=this,c=f(a[e.guid].container),b=c.html().replace(/(xmlns=".*?")(.*?)\1/,"$1$2"),d=f("<canvas />").attr("width",c.width()).attr("height",c.height())[0];if(typeof canvg!==Mb)throw"Export requires canvg: https://code.google.com/p/canvg/";b=b.replace(/<(filter)\b[^>]*>.*?<\/\1>/gim,""),b=b.replace(/\bfilter\b=(["']).*?\1/gim,""),canvg(d,b),td.show(d.toDataURL())}},print:function(){var d=this,b=f("<iframe />").css({position:"absolute",left:"-10000px",top:"-10000px"}).appendTo(o.body)[0],c=b.contentWindow.document;c.open("text/html","replace"),c.write(a[d.guid].container.innerHTML),c.close(),b.contentWindow.print(),setTimeout(function(){o.body.removeChild(b),b=null},100)}}),Pc.push(function(a){var c,b=a.options.exportOptions,d=[];b!==!1&&((b.image&&Vb||b.print)&&(c=f("<div />").addClass("shield-buttons").appendTo(a.element)),b.image&&Vb&&d.push(f("<button />").addClass("shield-export-button").attr("title",b.exportTooltip).attr("type","button").on("click.shield",f.proxy(a.exportToImage,a)).appendTo(c)),b.print&&d.push(f("<button />").addClass("shield-print-button").attr("title",b.printTooltip).attr("type","button").on("click.shield",f.proxy(a.print,a)).appendTo(c)),f(a).bind("destroy",function(){f(d).each(function(b,a){a.off(".shield").remove()})}))});var ud=v,db=seriesTypes.bar.prototype;j(Rc.prototype,{init:function(d,f,i){var e,b=this,g=b.defaults;b.chart=f,a[f.guid].angular&&(g.background={}),b.options=d=h(g,d),e=d.background,e&&c([].concat(bb(e)).reverse(),function(a){var c=a.backgroundColor;a=h(b.defaultBackgroundOptions,a),c&&(a.backgroundColor=c),a.color=a.backgroundColor,i.options.plotBands.unshift(a)})},defaults:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"silver",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#DDD"]]},from:Number.MIN_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}});var Wb=Tb.prototype,Xb=zb.prototype,yd={_offset:W,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},_scale:W,_points:W,_title:W},dc={radialGauge:{axisTickText:{align:"center",x:0,y:null},minorPlotStripWidth:0,minorTicksRepeat:"auto",minorTicksHeight:10,minorTicksPlacementINTERNAL:"inside",minorTickWidth:1,plotBands:[],tickLength:10,tickPosition:"inside",tickWidth:2,title:{textAngle:0},zIndex:2},radialX:{plotStripWidth:1,axisTickText:{align:null,distance:15,x:0,y:null},endOffset:0,startOffset:0,plotBands:[],lastTickTextVisible:!1,tickLength:0},radialY:{gridLineInterpolationINTERNAL:"circle",axisTickText:{align:"right",x:-3,y:-2},plotBands:[],lastTickTextVisible:!1,title:{x:4,text:null,textAngle:90}}},tc={radial:!0,setOptions:function(b,a){this.options=h(hb.defaults,b,this.defaultRadialOptions,this.isXAxis?a.initialOptions.axisX:a.initialOptions.axisY)},_offset:function(){var b=this;Wb._offset.call(b),a[b.chart.guid].axisOffset[b.side]=0,b.center=b.pane.center=seriesTypes.pie.prototype.getCenter.call(b.pane)},_path:function(f,d){var c=this,e=c.center;return d=b(d,e[2]/2-c.offset),a[c.chart.guid].renderer.symbols.arc(c.left+e[0],c.top+e[1],d,d,{start:c.startAngleRad,end:c.endAngleRad,open:!0,innerR:0})},_arrange:function(){var a=this;Wb._arrange.call(a),a.center&&(a.transA=a.isCircular?(a.endAngleRad-a.startAngleRad)/(a.max-a.min||1):a.center[2]/2/(a.max-a.min||1),a.isXAxis&&(a.minPixelPadding=a.transA*a.minPointOffset+(a.inverseOrder?(a.endAngleRad-a.startAngleRad)/4:0)))},_preTicks:function(){var a=this;a.autoConnect&&(a.max+=a.categoricalValues&&1||a.pointRange||a.closestPointRange)},_dimensions:function(){var a=this;Wb._dimensions.call(a),a.center&&(a.len=a.width=a.height=a.isCircular?a.center[2]*(a.endAngleRad-a.startAngleRad)/2:a.center[2]/2)},_position:function(c,d){var a=this;return a.isCircular||(d=a.translate(c),c=a.min),a.postTranslate(a.translate(c),b(d,a.center[2]/2)-a.offset)},postTranslate:function(b,d){var c=this,e=a[c.chart.guid],f=c.center;return b=c.startAngleRad+b,{x:e.plotLeft+f[0]+A(b)*d,y:e.plotTop+f[1]+F(b)*d}},_bandPath:function(h,j,e){var f,g,n,i,c=this,k=c.center,l=c.startAngleRad,p=k[2]/2,d=[b(e.outerRadius,"100%"),e.innerRadius,b(e.thickness,10)],q=/%$/,o=c.isCircular;return"polygon"===c.options.gridLineInterpolationINTERNAL?i=c._linePath(h).concat(c._linePath(j,!0)):(o||(d[0]=c.translate(h),d[1]=c.translate(j)),d=wb(d,function(a){return q.test(a)&&(a=m(a,10)*p/100),a}),"circle"!==e.shape&&o?(f=l+c.translate(h),g=l+c.translate(j)):(f=-t/2,g=1.5*t,n=!0),i=a[c.chart.guid].renderer.symbols.arc(c.left+k[0],c.top+k[1],d[0],d[0],{start:f,end:g,innerR:b(d[1],d[0]-d[2]),open:n})),i},_linePath:function(b,l){var g,h,e,f,d=this,j=d.center,i=a[d.chart.guid],k=d._position(b);return d.isCircular?f=["M",j[0]+i.plotLeft,j[1]+i.plotTop,"L",k.x,k.y]:"circle"===d.options.gridLineInterpolationINTERNAL?(b=d.translate(b),b&&(f=d._path(0,b))):(g=i.axisX[0],f=[],b=d.translate(b),e=g.tickPositions,g.autoConnect&&(e=e.concat([e[0]])),l&&(e=[].concat(e).reverse()),c(e,function(a,c){h=g._position(a,b),f.push(c?"L":"M",h.x,h.y)})),f},_titlePos:function(){var b=this,c=b.center,e=a[b.chart.guid],d=b.options.title;return{x:e.plotLeft+c[0]+(d.x||0),y:e.plotTop+c[1]-{high:.5,middle:.25,low:0}[d.align]*c[2]+(d.y||0)}}};seriesTypes.polarline=u(seriesTypes.line,{seriesType:"polarline",enablePolarLayout:!0}),i.polarline=h(i.line,i.polarline),seriesTypes.polararea=u(seriesTypes.area,{seriesType:"polararea",enablePolarLayout:!0}),i.polararea=h(i.area,i.polararea),seriesTypes.polarbar=u(seriesTypes.bar,{seriesType:"polarbar",enablePolarLayout:!0}),i.polarbar=h(i.bar,i.polarbar,{pointRange:0}),seriesTypes.polarspline=u(seriesTypes.spline,{seriesType:"polarspline",enablePolarLayout:!0}),i.polarspline=h(i.spline,i.polarspline),seriesTypes.polarsplinearea=u(seriesTypes.splinearea,{seriesType:"polarsplinearea",enablePolarLayout:!0}),i.polarsplinearea=h(i.splinearea,i.polarsplinearea),seriesTypes.polarscatter=u(seriesTypes.scatter,{seriesType:"polarscatter",enablePolarLayout:!0}),i.polarscatter=h(i.scatter,i.polarscatter),D(Wb,"init",function(w,k,i){var f,o,p,q,s,g,c=this,d=a[k.guid],m=d.angular,r=d.enablePolarLayout,l=i.isX,u=m&&l,v=k.options,n=i.pane||0;m?(j(c,u?yd:tc),f=!l,f&&(c.defaultRadialOptions=dc.radialGauge)):r&&(j(c,tc),f=l,c.defaultRadialOptions=l?dc.radialX:h(hb.y,dc.radialY)),w.call(c,k,i),u||!m&&!r||(q=c.options,d.panes||(d.panes=[]),c.pane=d.panes[n]=s=new Rc(bb(v.pane)[n],k,c),g=s.options,d.inverted=!1,v.zoomType=null,c.startAngleRad=o=(g.startAngle-90)*t/180,c.endAngleRad=p=(b(g.endAngle,g.startAngle+360)-90)*t/180,c.offset=q.offset||0,c.isCircular=f,f&&i.max===e&&p-o===2*t&&(c.autoConnect=!0))}),D(Xb,"_position",function(c,d,a,e,f){var b=this.axis;return b._position?b._position(a):c.call(this,d,a,e,f)}),D(Xb,"_labelPos",function(k,i,n,e,l,a,o,p,j){var f,c=this.axis,g=a.y,h=a.align,d=(c.translate(this.pos)+c.startAngleRad+t/2)/t*180;return c.radial?(f=c._position(this.pos,c.center[2]/2+b(a.distance,-25)),"auto"===a.textAngle?e.attr({textAngle:d}):null===g&&(g=.9*m(e.styles.lineHeight)-e.getBBox().height/2),null===h&&(h=c.isCircular?d>20&&160>d?"left":d>200&&340>d?"right":"center":"center",e.attr({align:h})),f.x+=a.x,f.y+=g):f=k.call(this,i,n,e,l,a,o,p,j),f}),D(Xb,"_markPath",function(g,d,e,f,h,i,j){var a,b,c=this.axis;return c.radial?(a=c._position(this.pos,c.center[2]/2+f),b=["M",d,e,"L",a.x,a.y]):b=g.call(this,d,e,f,h,i,j),b}),i.rangearea=h(i.area,{drawWidth:1,pointMark:null,baseValue:null,tooltipSettings:{customPointText:'<span style="color:{point.dataSeries.color}">{point.dataSeries.collectionAlias}</span>: <b>{point.low}</b> - <b>{point.high}</b><br/>'},areaInteractivity:!0,dataPointText:{verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},shadow:!1});var Bd=u(pb,{setOptions:function(a,d){var b=this,c=b.dataSeries,f=c.pointArrayMap,g=0,h=0,i=f.length;if("object"==typeof a&&"number"!=typeof a.length)j(b,a),b.options=a;
else if(a.length)for(a.length>i&&("string"==typeof a[0]?b.collectionAlias=a[0]:"number"==typeof a[0]&&(b.x=a[0]),g++);i>h;)b[f[h++]]=a[g++];return b.y=b[c.pointValKey],b.x===e&&c&&(b.x=d===e?c.autoIncrement():d),b},toArray:function(){return[this.low,this.high]}});seriesTypes.rangearea=u(seriesTypes.area,{seriesType:"rangearea",pointArrayMap:["low","high"],pointClass:Bd,pointValKey:"low",translate:function(){var a=this,b=a.axisY;seriesTypes.area.prototype.translate.apply(a),c(a.points,function(a){null!==a.y&&(a.plotLow=a.plotY,a.plotHigh=b.translate(a.high,0,1,0,1))})},getSegmentPath:function(g){for(var e,h,d,c,a=this,i=[],j=g.length,k=v.prototype.getSegmentPath,f=a.options,b=f.step;j--;)e=g[j],i.push({plotX:e.plotX,plotY:e.plotHigh});return d=k.call(a,g),b&&(b===!0&&(b="left"),f.step={left:"right",center:"center",right:"left"}[b]),c=k.call(a,i),f.step=b,h=[].concat(d,c),c[0]="L",a.areaPath=a.areaPath.concat(d,c),h},drawDataLabels:function(){var d,b,e=this,f=e.data,g=f.length,h=[],i=v.prototype,c=e.options.dataPointText,j=a[e.chart.guid].inverted;if(c.enabled||e._hasPointLabels){for(d=g;d--;)b=f[d],b.y=b.high,b.plotY=b.plotHigh,h[d]=b.dataLabel,b.dataLabel=b.dataLabelUpper,b.below=!1,j?(c.align="left",c.x=c.xHigh):c.y=c.yHigh;for(i.drawDataLabels.apply(e,arguments),d=g;d--;)b=f[d],b.dataLabelUpper=b.dataLabel,b.dataLabel=h[d],b.y=b.low,b.plotY=b.plotLow,b.below=!0,j?(c.align="right",c.x=c.xLow):c.y=c.yLow;i.drawDataLabels.apply(e,arguments)}},alignDataLabel:seriesTypes.bar.prototype.alignDataLabel,getSymbol:seriesTypes.bar.prototype.getSymbol,drawPoints:W}),i.rangesplinearea=h(i.rangearea),seriesTypes.rangesplinearea=u(seriesTypes.rangearea,{seriesType:"rangesplinearea",getPointSpline:seriesTypes.spline.prototype.getPointSpline}),i.rangebar=h(i.bar,i.rangearea,{drawWidth:1,pointRange:null}),seriesTypes.rangebar=u(seriesTypes.rangearea,{seriesType:"rangebar",translate:function(){var a,b=this,d=b.axisY;db.translate.apply(b),c(b.points,function(b){var c=b.shapeArgs;b.plotHigh=a=d.translate(b.high,0,1,0,1),b.plotLow=b.plotY,c.y=a,c.height=b.plotY-a,b.trackerArgs=c})},drawGraph:W,pointAttrToOptions:db.pointAttrToOptions,drawPoints:db.drawPoints,drawTracker:db.drawTracker,animate:db.animate});var qb=v.prototype,Wc=mc.prototype;qb.toXY=function(b){var c,d=this,e=a[d.chart.guid],f=b.plotX,g=b.plotY;b.rectPlotX=f,b.rectPlotY=g,b.deg=f/t*180,c=d.axisX.postTranslate(b.plotX,d.axisY.len-g),b.plotX=b.polarPlotX=c.x-e.plotLeft,b.plotY=b.polarPlotY=c.y-e.plotTop},D(seriesTypes.area.prototype,"init",Qc),D(seriesTypes.splinearea.prototype,"init",Qc),D(seriesTypes.spline.prototype,"getPointSpline",function(B,g,k,p){var o,b,c,d,f,z,v,w,y,h,m,n,i,r,s,u,x,e,j=1.5,q=j+1;return a[this.chart.guid].enablePolarLayout?(b=k.plotX,c=k.plotY,d=g[p-1],f=g[p+1],this.connectEnds&&(d||(d=g[g.length-2]),f||(f=g[1])),d&&f&&(z=d.plotX,v=d.plotY,w=f.plotX,y=f.plotY,h=(j*b+z)/q,m=(j*c+v)/q,n=(j*b+w)/q,i=(j*c+y)/q,r=l.sqrt(l.pow(h-b,2)+l.pow(m-c,2)),s=l.sqrt(l.pow(n-b,2)+l.pow(i-c,2)),u=l.atan2(m-c,h-b),x=l.atan2(i-c,n-b),e=t/2+(u+x)/2,N(u-e)>t/2&&(e-=t),h=b+A(e)*r,m=c+F(e)*r,n=b+A(t+e)*s,i=c+F(t+e)*s,k.rightContX=n,k.rightContY=i),p?(o=["C",d.rightContX||d.plotX,d.rightContY||d.plotY,h||b,m||c,b,c],d.rightContX=d.rightContY=null):o=["M",b,c]):o=B.call(this,g,k,p),o}),D(qb,"translate",function(e){var b=this;if(e.call(b),a[b.chart.guid].enablePolarLayout&&!b.preventPostTranslate)for(var c=b.points,d=c.length;d--;)b.toXY(c[d])}),D(qb,"getSegmentPath",function(e,b){var c=this,d=c.points;return a[c.chart.guid].enablePolarLayout&&c.options.connectEnds!==!1&&b[b.length-1]===d[d.length-1]&&null!==d[0].y&&(c.connectEnds=!0,b=[].concat(b,[d[0]])),e.call(c,b)}),D(qb,"animate",Kc),D(db,"animate",Kc),D(qb,"setTooltipPoints",function(c,d){var b=this;return a[b.chart.guid].enablePolarLayout&&j(b.axisX,{tooltipLen:360,tooltipPosName:"deg"}),c.call(b,d)}),D(db,"translate",function(k){var g,e,c,f,d=this,h=d.axisX,i=d.axisY.len,j=h.center,l=h.startAngleRad,m=a[d.chart.guid].renderer;if(d.preventPostTranslate=!0,k.call(d),h.radial)for(e=d.points,f=e.length;f--;)c=e[f],g=c.barX+l,c.shapeType="path",c.shapeArgs={d:m.symbols.arc(j[0],j[1],i-c.plotY,null,{start:g,end:g+c.dataPointWidth,innerR:i-b(c.yBottom,i)})},d.toXY(c)}),D(db,"alignDataLabel",function(k,d,f,c,g,h){var e=this;if(a[e.chart.guid].enablePolarLayout){var i,j,b=d.rectPlotX/t*180;null===c.align&&(i=b>20&&160>b?"left":b>200&&340>b?"right":"center",c.align=i),null===c.verticalAlign&&(j=45>b||b>315?"bottom":b>135&&225>b?"top":"middle",c.verticalAlign=j),qb.alignDataLabel.call(e,d,f,c,g,h)}else k.call(e,d,f,c,g,h)}),D(Wc,"_index",function(j,c){var d,e,f,h,i=this,b=a[i.chart.guid];return b.enablePolarLayout?(e=b.axisX[0].center,f=c.chartX-e[0]-b.plotLeft,h=c.chartY-e[1]-b.plotTop,d=180-g(l.atan2(f,h)/t*180)):d=j.call(i,c),d}),D(Wc,"_coord",function(f,d){var b=a[this.chart.guid],e={axisX:[],axisY:[]};return b.enablePolarLayout?c(b.axes,function(a){var c=a.isXAxis,f=a.center,g=d.chartX-f[0]-b.plotLeft,h=d.chartY-f[1]-b.plotTop;e[c?"axisX":"axisY"].push({axis:a,value:a.translate(c?t-l.atan2(g,h):l.sqrt(l.pow(g,2)+l.pow(h,2)),!0)})}):e=f.call(this,d),e})}(jQuery,shield,function(){return this}()),function(a){a.ui.Chart.themes.bootstrap={seriesPalette:["#428BCA","#F0AD4E","#5CB85C","#D9534F","#5BC0DE","#474949","#84B3DC","#DDC01A","#878989","#DFF0D8"],primaryHeader:{style:{color:"#333333"}},secondaryHeader:{style:{color:"#333333"}},backgroundColor:"",borderWidth:0,chartAreaBackgroundColor:"",chartAreaShadow:!1,chartAreaBorderWidth:0,seriesSettings:{scatter:{activeSettings:{pointHoveredState:{drawWidth:4}},pointMark:{enabled:!0,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:null,activeSettings:{pointHoveredState:{innerColor:"#FFFFFF"}}}},area:{drawWidth:2,pointMark:{enabled:!1,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#FFFFFF",activeSettings:{pointHoveredState:{innerColor:null}}}},splinearea:{drawWidth:2,pointMark:{enabled:!1,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#FFFFFF",activeSettings:{pointHoveredState:{innerColor:null}}}},line:{drawWidth:3,shadow:!1,mouseInteractions:!0,pointMark:{enabled:!0,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#FFFFFF",activeSettings:{pointHoveredState:{innerColor:null}}}},spline:{drawWidth:3,shadow:!1,activeSettings:{pointHoveredState:{drawWidth:4}},pointMark:{enabled:!0,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#FFFFFF",activeSettings:{pointHoveredState:{innerColor:null}}}},pie:{dataPointText:{style:{color:"#333333"}}},donut:{dataPointText:{style:{color:"#333333"}}}},axisX:{drawWidth:1,drawColor:"#888888",ticksColor:"#888888",axisTickText:{style:{color:"#333333"},y:17},title:{style:{color:"#333333"}}},axisY:{drawColor:"#888888",ticksColor:"#888888",plotStripColor:"#888888",axisTickText:{style:{color:"#333333"}},title:{style:{color:"#333333"}}},chartLegend:{legendItemSettings:{elementStyle:{color:"#333333"},mouseOverStyle:{color:"#000"},disabledStyle:{color:"#aaaaaa"}}}}}(shield),function(a){a.ui.Chart.themes.dark={seriesPalette:["#1E97E3","#FF8000","#00FF9C","#FF2A00","#FFC500","#C9C9C9","#FC2150","#0077C6","#99c900","#cc6e38"],primaryHeader:{style:{color:"#FFFFFF"}},secondaryHeader:{style:{color:"#F2F2F2"}},backgroundColor:"#2D2D2D",borderWidth:0,chartAreaBackgroundColor:"#2D2D2D",chartAreaShadow:!1,chartAreaBorderWidth:0,seriesSettings:{scatter:{activeSettings:{pointHoveredState:{drawWidth:4}},pointMark:{enabled:!0,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#2D2D2D",activeSettings:{pointHoveredState:{innerColor:null}}}},area:{drawWidth:2,pointMark:{enabled:!1,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#2D2D2D",activeSettings:{pointHoveredState:{enabled:!1,drawRadius:4}}}},splinearea:{drawWidth:2,pointMark:{enabled:!1,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#2D2D2D",activeSettings:{pointHoveredState:{innerColor:null}}}},line:{drawWidth:3,shadow:!1,mouseInteractions:!0,pointMark:{enabled:!0,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#2D2D2D",activeSettings:{pointHoveredState:{innerColor:null}}}},spline:{drawWidth:3,shadow:!1,activeSettings:{pointHoveredState:{drawWidth:4}},pointMark:{enabled:!0,drawWidth:2,drawRadius:2.5,drawColor:null,innerColor:"#2D2D2D",activeSettings:{pointHoveredState:{innerColor:null}}}},pie:{dataPointText:{style:{color:"#7E7E7E"}}},donut:{dataPointText:{style:{color:"#7E7E7E"}}}},axisX:{drawColor:"#7E7E7E",ticksColor:"#7E7E7E",axisTickText:{style:{color:"#7E7E7E"},y:17},title:{style:{color:"#7E7E7E"}}},axisY:{drawColor:"#7E7E7E",ticksColor:"#7E7E7E",plotStripColor:"#7E7E7E",plotStripDashStyle:"LongDash",axisTickText:{style:{color:"#7E7E7E"}},title:{style:{color:"#7E7E7E"}}},chartLegend:{legendItemSettings:{elementStyle:{color:"#A5A5A5"},mouseOverStyle:{color:"#FFFFFF"},disabledStyle:{color:"#7E7E7E"}}}}}(shield);
!function(o,d){var j=d.ui.Widget,bb=d.Constants,D=d.Class,g=document,H=bb.SVG_NS,e=!!g.createElementNS&&!!g.createElementNS(H,"svg").createSVGRect,E=o.map,b=d.to.int,k=d.error,J="CODABAR",K="CODE-11",M="CODE-39",N="CODE-93",p="CODE-128",q="CODE-128-A",r="CODE-128-B",s="CODE-128-C",t="CODE-25-STANDARD",u="CODE-25-INTERLEAVED",v="EAN-8",w="EAN-13",x="UPC-A",y="UPC-E",z="MSI-10",A="MSI-10-10",B="MSI-11",C="MSI-11-10",eb="POSTNET",a={types:[],addType:function(a){this.types[a.prototype.type]=a},byType:function(a){return this.types[a]?new this.types[a]:null}},c=D.extend({type:null,validate_regex:null,validate:function(a){return this.validate_regex?new RegExp(this.validate_regex).test(a):!0},encode:null,checksum:null}),ab=c.extend({type:K,validate_regex:"^[\\d\\-]+$",encode:function(a,d){d&&(a+=this.checksum(a)),a="*"+a+"*";var b,c="",e={0:"101011",1:"1101011",2:"1001011",3:"1100101",4:"1011011",5:"1101101",6:"1001101",7:"1010011",8:"1101001",9:"110101","-":"101101","*":"1011001"};for(b=0;b<a.length;b++)c.length>0&&(c+="0"),c+=e[a.charAt(b)];return[c]},checksum:function(a){var b=this._checksum(a,10,11);return a.length>10&&(b+=this._checksum(a+b,9,11)+""),b},_checksum:function(d,f,g){var a,e=0,c=1;for(a=d.length-1;a>=0;a--)e+=c*("-"==d.charAt(a)?10:b(d.charAt(a))),c=c>=f?1:c+1;return e%g+""}});a.addType(ab);var f=c.extend({type:w,validate_regex:"^[\\d]{12}$",encoding_table:{0:{lo:"0001101",le:"0100111",r:"1110010"},1:{lo:"0011001",le:"0110011",r:"1100110"},2:{lo:"0010011",le:"0011011",r:"1101100"},3:{lo:"0111101",le:"0100001",r:"1000010"},4:{lo:"0100011",le:"0011101",r:"1011100"},5:{lo:"0110001",le:"0111001",r:"1001110"},6:{lo:"0101111",le:"0000101",r:"1010000"},7:{lo:"0111011",le:"0010001",r:"1000100"},8:{lo:"0110111",le:"0001001",r:"1001000"},9:{lo:"0001011",le:"0010111",r:"1110100"}},parity_table:{0:["lo","lo","lo","lo","lo","lo"],1:["lo","lo","le","lo","le","le"],2:["lo","lo","le","le","lo","le"],3:["lo","lo","le","le","le","lo"],4:["lo","le","lo","lo","le","le"],5:["lo","le","le","lo","lo","le"],6:["lo","le","le","le","lo","lo"],7:["lo","le","lo","le","lo","le"],8:["lo","le","lo","le","le","lo"],9:["lo","le","le","lo","le","lo"]},encode:function(d,i){i&&(d+=this.checksum(d));var b,j=d.substring(0,1),h=d.substring(1,7),f=d.substring(7),c="",e=[],a=0,g=this.encoding_table,k=this.parity_table;for(c+="101",e.push(0,1,2),b=0;b<h.length;b++)c+=g[h.charAt(b)][k[j][b]];for(c+="01010",a=c.length,e.push(a-5,a-4,a-3,a-2,a-1),b=0;b<f.length;b++)c+=g[f.charAt(b)].r;return c+="101",a=c.length,e.push(a-3,a-2,a-1),[c,e]},checksum:function(c){var a,d=0,e=1;for(a=c.length-1;a>=0;a--)d+=b(c.charAt(a))*(e++%2?3:1);return 10-d%10+""}});a.addType(f);var _=f.extend({type:v,validate_regex:"^[\\d]{7}$",encode:function(d,i){i&&(d+=this.checksum(d));{var b,f=d.substring(0,4),g=d.substring(4),c="",e=[],a=0,h=this.encoding_table;this.parity_table}for(c+="101",e.push(0,1,2),b=0;b<f.length;b++)c+=h[f.charAt(b)].lo;for(c+="01010",a=c.length,e.push(a-5,a-4,a-3,a-2,a-1),b=0;b<g.length;b++)c+=h[g.charAt(b)].r;return c+="101",a=c.length,e.push(a-3,a-2,a-1),[c,e]}});a.addType(_);var l=f.extend({type:x,validate_regex:"^\\d{11}$",encode:function(c,d){var b=f.prototype.encode.call(this,"0"+c,d),a=b[0].length;return b[1].push(3,4,5,6,7,8,9,a-4,a-5,a-6,a-7,a-8,a-9,a-10),b},checksum:function(a){return 11==a.length&&(a="0"+a),f.prototype.checksum.call(this,a)}});a.addType(l);var $=l.extend({type:y,validate_regex:"^[0|1]\\d{6}$",_upce2upca:function(a){var b=a.substring(a.length-1);return"0"==b||"1"==b||"2"==b?a.substring(0,2)+a.charAt(5)+"0000"+a.substring(2,5):"3"==b?a.substring(0,3)+"00000"+a.substring(4,6):"4"==b?a.substring(0,4)+"00000"+a.charAt(4):a.substring(0,5)+"0000"+b},encode:function(c){var a,f=this.checksum(c),d="",g=c.charAt(0),e=c.substring(1),h=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],i=h[b(f)][b(g)];for(a=0;a<e.length;a++)d+=this.encoding_table[e.charAt(a)]["O"==i.charAt(a)?"lo":"le"];return["101"+d+"010101",[0,1,2,45,46,47,48,49,50]]},checksum:function(a){var b=a.charAt(0),c=a.substring(1);return l.prototype.checksum.call(this,b+this._upce2upca(c))}});a.addType($);var Y=c.extend({type:M,validate_regex:"^[0-9A-Z\\-\\. \\$\\/\\+\\%\\*]+$",encode:function(a,d){d&&(a+=this.checksum(a)),a="*"+a+"*";var b,c="",e={0:"101001101101",1:"110100101011",2:"101100101011",3:"110110010101",4:"101001101011",5:"110100110101",6:"101100110101",7:"101001011011",8:"110100101101",9:"101100101101",A:"110101001011",B:"101101001011",C:"110110100101",D:"101011001011",E:"110101100101",F:"101101100101",G:"101010011011",H:"110101001101",I:"101101001101",J:"101011001101",K:"110101010011",L:"101101010011",M:"110110101001",N:"101011010011",O:"110101101001",P:"101101101001",Q:"101010110011",R:"110101011001",S:"101101011001",T:"101011011001",U:"110010101011",V:"100110101011",W:"110011010101",X:"100101101011",Y:"110010110101",Z:"100110110101","-":"100101011011",".":"110010101101"," ":"100110101101",$:"100100100101","/":"100100101001","+":"100101001001","%":"101001001001","*":"100101101101"};for(b=0;b<a.length;b++)b>0&&(c+="0"),c+=e[a.charAt(b)];return[c]},checksum:function(b){var a,c="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%*",d=0;for(a=0;a<b.length;a++)d+=c.indexOf(b.charAt(a));return c.charAt(d%43)}});a.addType(Y);var U=c.extend({type:N,validate_regex:"^[0-9A-Z\\-\\. \\$\\/\\+\\%\\*]+$",encode:function(a,d){d&&(a+=this.checksum(a)),a="*"+a+"*";var b,c="",e={0:"100010100",1:"101001000",2:"101000100",3:"101000010",4:"100101000",5:"100100100",6:"100100010",7:"101010000",8:"100010010",9:"100001010",A:"110101000",B:"110100100",C:"110100010",D:"110010100",E:"110010010",F:"110001010",G:"101101000",H:"101100100",I:"101100010",J:"100110100",K:"100011010",L:"101011000",M:"101001100",N:"101000110",O:"100101100",P:"100010110",Q:"110110100",R:"110110010",S:"110101100",T:"110100110",U:"110010110",V:"110011010",W:"101101100",X:"101100110",Y:"100110110",Z:"100111010","-":"100101110",".":"111010100"," ":"111010010",$:"111001010","/":"101101110","+":"101110110","%":"110101110","@":"100100110","#":"111011010","&":"111010110","~":"100110010","*":"101011110"};for(b=0;b<a.length;b++)c+=e[a.charAt(b)];return c+="1",[c]},checksum:function(a){var b=a.length;return a+=this._checksum(a,20,47),a+=this._checksum(a,15,47),a.substring(b,b+2)},_checksum:function(c,g,h){var d,a,e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%@#&~*",f=0,b=1;for(a=c.length-1;a>=0;a--)d=e.indexOf(c.charAt(a)),f+=d*b++,b>g&&(b=1);return e.charAt(f%h)}});a.addType(U);var P=c.extend({type:eb,validate:function(a){return/^\d+$/.test(a)&&(5==a.length||9==a.length||11==a.length)},encode:function(a,d){d&&(a+=this.checksum(a));var b,c="",e=["11000","00011","00101","00110","01001","01010","01100","10001","10010","10100"];for(b=0;b<a.length;b++)c+=e[a.charAt(b)];return["1"+c+"1"]},checksum:function(c){var a,d=0;for(a=0;a<c.length;a++)d+=b(c.charAt(a));return 10-d%10+""}});a.addType(P);var h=c.extend({validate_regex:"^\\d+$",encode:function(a,d){d&&(a+=this.checksum(a));var b,c="",e=["100100100100","100100100110","100100110100","100100110110","100110100100","100110100110","100110110100","100110110110","110100100100","110100100110"];for(b=0;b<a.length;b++)c+=e[a.charAt(b)];return["110"+c+"1001"]},_mod_10_checksum:function(e){var c,d=0,f=0;for(c=e.length-1;c>=0;c--){var a=b(e.charAt(c))*(f%2?1:2);a>9?(a+="",d+=b(a.charAt(0))+b(a.charAt(1))):d+=a,f++}return 9*d%10+""},_mod_11_checksum:function(d){var a,e=0,c=2;for(a=d.length-1;a>=0;a--)e+=b(d.charAt(a))*c,c=c>=7?2:c+1;return 11-e%11+""}}),X=h.extend({type:z,checksum:function(a){return this._mod_10_checksum(a)}});a.addType(X);var Q=h.extend({type:A,checksum:function(a){var b=this._mod_10_checksum(a);return b+this._mod_10_checksum(a+b)}});a.addType(Q);var R=h.extend({type:B,checksum:function(a){return this._mod_11_checksum(a)}});a.addType(R);var S=h.extend({type:C,checksum:function(a){var b=this._mod_11_checksum(a);return b+this._mod_10_checksum(a+b)}});a.addType(S);var T=c.extend({type:J,validate_regex:"^[A|B|C|D][\\d\\-\\$\\:\\/\\.\\+]+[A|B|C|D]$",encode:function(c){var a,b="",d={0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"101100110011",A:"1011001001",B:"1010010011",C:"1001001011",D:"1010011001"};for(a=0;a<c.length;a++)a>0&&(b+="0"),b+=d[c.charAt(a)];return[b]},checksum:function(){return""}});a.addType(T);var i=c.extend({type:p,encoding_table:[{A:" ",B:" ",C:"00",E:"11011001100"},{A:"!",B:"!",C:"01",E:"11001101100"},{A:'"',B:'"',C:"02",E:"11001100110"},{A:"#",B:"#",C:"03",E:"10010011000"},{A:"$",B:"$",C:"04",E:"10010001100"},{A:"%",B:"%",C:"05",E:"10001001100"},{A:"&",B:"&",C:"06",E:"10011001000"},{A:"'",B:"'",C:"07",E:"10011000100"},{A:"(",B:"(",C:"08",E:"10001100100"},{A:")",B:")",C:"09",E:"11001001000"},{A:"*",B:"*",C:"10",E:"11001000100"},{A:"+",B:"+",C:"11",E:"11000100100"},{A:",",B:",",C:"12",E:"10110011100"},{A:"-",B:"-",C:"13",E:"10011011100"},{A:".",B:".",C:"14",E:"10011001110"},{A:"/",B:"/",C:"15",E:"10111001100"},{A:"0",B:"0",C:"16",E:"10011101100"},{A:"1",B:"1",C:"17",E:"10011100110"},{A:"2",B:"2",C:"18",E:"11001110010"},{A:"3",B:"3",C:"19",E:"11001011100"},{A:"4",B:"4",C:"20",E:"11001001110"},{A:"5",B:"5",C:"21",E:"11011100100"},{A:"6",B:"6",C:"22",E:"11001110100"},{A:"7",B:"7",C:"23",E:"11101101110"},{A:"8",B:"8",C:"24",E:"11101001100"},{A:"9",B:"9",C:"25",E:"11100101100"},{A:":",B:":",C:"26",E:"11100100110"},{A:";",B:";",C:"27",E:"11101100100"},{A:"<",B:"<",C:"28",E:"11100110100"},{A:"=",B:"=",C:"29",E:"11100110010"},{A:">",B:">",C:"30",E:"11011011000"},{A:"?",B:"?",C:"31",E:"11011000110"},{A:"@",B:"@",C:"32",E:"11000110110"},{A:"A",B:"A",C:"33",E:"10100011000"},{A:"B",B:"B",C:"34",E:"10001011000"},{A:"C",B:"C",C:"35",E:"10001000110"},{A:"D",B:"D",C:"36",E:"10110001000"},{A:"E",B:"E",C:"37",E:"10001101000"},{A:"F",B:"F",C:"38",E:"10001100010"},{A:"G",B:"G",C:"39",E:"11010001000"},{A:"H",B:"H",C:"40",E:"11000101000"},{A:"I",B:"I",C:"41",E:"11000100010"},{A:"J",B:"J",C:"42",E:"10110111000"},{A:"K",B:"K",C:"43",E:"10110001110"},{A:"L",B:"L",C:"44",E:"10001101110"},{A:"M",B:"M",C:"45",E:"10111011000"},{A:"N",B:"N",C:"46",E:"10111000110"},{A:"O",B:"O",C:"47",E:"10001110110"},{A:"P",B:"P",C:"48",E:"11101110110"},{A:"Q",B:"Q",C:"49",E:"11010001110"},{A:"R",B:"R",C:"50",E:"11000101110"},{A:"S",B:"S",C:"51",E:"11011101000"},{A:"T",B:"T",C:"52",E:"11011100010"},{A:"U",B:"U",C:"53",E:"11011101110"},{A:"V",B:"V",C:"54",E:"11101011000"},{A:"W",B:"W",C:"55",E:"11101000110"},{A:"X",B:"X",C:"56",E:"11100010110"},{A:"Y",B:"Y",C:"57",E:"11101101000"},{A:"Z",B:"Z",C:"58",E:"11101100010"},{A:"[",B:"[",C:"59",E:"11100011010"},{A:"\\",B:"\\",C:"60",E:"11101111010"},{A:"]",B:"]",C:"61",E:"11001000010"},{A:"^",B:"^",C:"62",E:"11110001010"},{A:"_",B:"_",C:"63",E:"10100110000"},{A:"NUL",B:"`",C:"64",E:"10100001100"},{A:"SOH",B:"a",C:"65",E:"10010110000"},{A:"STX",B:"b",C:"66",E:"10010000110"},{A:"ETX",B:"c",C:"67",E:"10000101100"},{A:"EOT",B:"d",C:"68",E:"10000100110"},{A:"ENQ",B:"e",C:"69",E:"10110010000"},{A:"ACK",B:"f",C:"70",E:"10110000100"},{A:"BEL",B:"g",C:"71",E:"10011010000"},{A:"BS",B:"h",C:"72",E:"10011000010"},{A:"HT",B:"i",C:"73",E:"10000110100"},{A:"LF",B:"j",C:"74",E:"10000110010"},{A:"VT",B:"k",C:"75",E:"11000010010"},{A:"FF",B:"l",C:"76",E:"11001010000"},{A:"CR",B:"m",C:"77",E:"11110111010"},{A:"SO",B:"n",C:"78",E:"11000010100"},{A:"SI",B:"o",C:"79",E:"10001111010"},{A:"DLE",B:"p",C:"80",E:"10100111100"},{A:"DC1",B:"q",C:"81",E:"10010111100"},{A:"DC2",B:"r",C:"82",E:"10010011110"},{A:"DC3",B:"s",C:"83",E:"10111100100"},{A:"DC4",B:"t",C:"84",E:"10011110100"},{A:"NAK",B:"u",C:"85",E:"10011110010"},{A:"SYN",B:"v",C:"86",E:"11110100100"},{A:"ETB",B:"w",C:"87",E:"11110010100"},{A:"CAN",B:"x",C:"88",E:"11110010010"},{A:"EM",B:"y",C:"89",E:"11011011110"},{A:"SUB",B:"z",C:"90",E:"11011110110"},{A:"ESC",B:"{",C:"91",E:"11110110110"},{A:"FS",B:"|",C:"92",E:"10101111000"},{A:"GS",B:"}",C:"93",E:"10100011110"},{A:"RS",B:"~",C:"94",E:"10001011110"},{A:"US",B:"DEL",C:"95",E:"10111101000"},{A:"FNC3",B:"FNC3",C:"96",E:"10111100010"},{A:"FNC2",B:"FNC2",C:"97",E:"11110101000"},{A:"SHIFT",B:"SHIFT",C:"98",E:"11110100010"},{A:"CodeC",B:"CodeC",C:"99",E:"10111011110"},{A:"CodeB",B:"FNC4",C:"CodeB",E:"10111101110"},{A:"FNC4",B:"CodeA",C:"CodeA",E:"11101011110"},{A:"FNC1",B:"FNC1",C:"FNC1",E:"11110101110"},{A:"StartA",B:"StartA",C:"StartA",E:"11010000100"},{A:"StartB",B:"StartB",C:"StartB",E:"11010010000"},{A:"StartC",B:"StartC",C:"StartC",E:"11010011100"},{A:"Stop",B:"Stop",C:"Stop",E:"11000111010"}],validate:function(b){for(var a=0;a<b.length;a++)if(!this._get_enc_info(b.charAt(a)))return!1;return!0},_encode:function(g,f){var b=this,f=f||!1,a=[],c=b._find_prefix(g),d=c[0][0],h=c[1],e=c[2],i=f?"Start"+d:"Code"+d;return a=a.concat(b._encode_codeset(h,i,d)),e&&e.length>0&&(a=a.concat(b._encode(e,!1))),a&&a.length>0&&(a[0]=a[0].replace("Code","Start")),a},_find_prefix:function(e){var g,c,b,d=this,f="",a="";for(c=0;c<e.length;c++)if(b=e.charAt(c),0!=c){if(g=a,d._get_enc_info(b,"A")||(a=a.replace("A","")),d._get_enc_info(b,"B")||(a=a.replace("B","")),d._get_enc_info(b,"C")||(a=a.replace("C","")),a.length<=0)return[g.split(""),f,e.substring(c)];f+=b}else d._get_enc_info(b,"A")&&(a+="A"),d._get_enc_info(b,"B")&&(a+="B"),d._get_enc_info(b,"C")&&(a+="C"),f+=b;return[a.split(""),e,""]},_encode_optimized:function(c){var b=this,a=b._encode(c,!0);return a=b._optimize_for_c(a),a=b._optimize_shifts(a),a&&a.length>0&&(a[0]=a[0].replace("Code","Start")),a},_optimize_for_c:function(g){var c,d=this._split_optimize_for_c(g),e=d[0],b=d[1],f=d[2],a=[];if(e&&e.length>0&&(a=a.concat(e)),b&&b.length>0)for(a.push(b[0]),c=1;c<b.length;c+=2)a.push(b[c]+""+b[c+1]);return f&&f.length>0&&(a=a.concat(this._optimize_for_c(f))),a},_split_optimize_for_c:function(a){if(!a||a.length<=0)return[[],[],[]];if(!/^(Code|Start)[A|B|C]$/.test(a[0]))return[a,[],[]];if(3==a.length&&/^\d$/.test(a[1])&&/^\d$/.test(a[2]))return[[],["CodeC",a[1],a[2]],[]];var b,h,e,g,i=[],f=[],j=[],c=-1,d=-1;for(b=0;b<a.length;b++)if(/^(Code|Start)[A|B|C]$/.test(a[b])&&(h=a[b].substring(a[b].length-1)),/^\d$/.test(a[b])&&-1==c&&(c=b,d=-1),c>-1&&!/^\d$/.test(a[b])&&(d=b-1),c>-1&&b>=a.length-1&&(d=b),c>-1&&d>-1){if(g=d-c+1,g>=4)return i=1==c?[]:a.slice(0,c),f=["CodeC"],e=d+(g%2==0?1:0),f=f.concat(a.slice(c,e)),e<a.length&&(j=["Code"+h].concat(a.slice(e))),[i,f,j];c=d=-1}return[a,[],[]]},_optimize_shifts:function(a){return a},_encode_codeset:function(a,b,c){var d=this;return"A"==c?d._encode_a(a,b):"B"==c?d._encode_b(a,b):"C"==c?d._encode_c(a,b):null},_encode_a:function(a,b){return[b].concat(a.split(""))},_encode_b:function(a,b){return[b].concat(a.split(""))},_encode_c:function(b,d){var a,c=[d];for(a=0;a<b.length;a+=2)c.push(b.charAt(a)+b.charAt(a+1));return c},_get_enc_info:function(c,f){var a,d=this.encoding_table,f=f||null;for(a=0;a<d.length;a++)if(f){if(d[a][f]==c){var e=d[a];return e.pos=a,e}if("100"==c||"101"==c||"102"==c){var e=d[b(c)];return e.pos=a,e}}else if(d[a].A==c||d[a].B==c||d[a].C==c){var e=d[a];return e.pos=a,e}return null},encode:function(e){var a,c=this,d="",g=c.checksum(e),b=c._encode_optimized(e),f=b[0].charAt(b[0].length-1);for(a=0;a<b.length;a++)d+=c._get_enc_info(b[a],f).E,/^(Start|Code)[A|B|C]$/.test(b[a])&&(f=b[a].charAt(b[a].length-1));return d+=c._get_enc_info(g,"C").E+c.encoding_table[106].E+"11",[d]},checksum:function(f){var b,a,c=this,d=c._encode_optimized(f),e=c._get_enc_info(d[0]).pos;for(a=1;a<d.length;a++)e+=c._get_enc_info(d[a]).pos*a;return b=e%103,b>10?b+"":"0"+b}});a.addType(i);var V=i.extend({type:q,validate:function(b){for(var a=0;a<b.length;a++)if(!this._get_enc_info(b.charAt(a),"A"))return!1;return!0},_encode_optimized:function(a){return this._encode_a(a,"StartA")}});a.addType(V);var W=i.extend({type:r,validate:function(b){for(var a=0;a<b.length;a++)if(!this._get_enc_info(b.charAt(a),"B"))return!1;return!0},_encode_optimized:function(a){return this._encode_b(a,"StartB")}});a.addType(W);var O=i.extend({type:s,validate:function(a){return/^\d+$/.test(a)&&a.length%2==0},_encode_optimized:function(a){return this._encode_c(a,"StartC")}});a.addType(O);var L=c.extend({type:t,validate_regex:"^[\\d\\-]+$",encode:function(a,d){d&&(a+=this.checksum(a)),a="["+a+"]";var b,c="",e={0:"10101110111010",1:"11101010101110",2:"10111010101110",3:"11101110101010",4:"10101110101110",5:"11101011101010",6:"10111011101010",7:"10101011101110",8:"11101010111010",9:"10111010111010","[":"11011010","]":"1101011"};for(b=0;b<a.length;b++)c+=e[a.charAt(b)];return[c]},checksum:function(a){return this._checksum(a,3,1,10)},_checksum:function(e,c,h,f){var b,g="0123456789",a=0,d=c;for(b=e.length-1;b>=0;b--)number=g.indexOf(e.charAt(b)),a+=number*d,d=d==c?h:c;return a%=f,0!=a&&(a=f-a),g.charAt(a)}});a.addType(L);var Z=L.extend({type:u,encode:function(a,e){e&&(a+=this.checksum(a)),a.length%2!=0&&(a="0"+a),a="["+a+"]";var b,c,d="",f={"00":"10101100110010","01":"10010110110100","02":"10100110110100","03":"10010011011010","04":"10101100110100","05":"10010110011010","06":"10100110011010","07":"10101101100100","08":"10010110110010","09":"10100110110010",10:"11010100100110",11:"11001010101100",12:"11010010101100",13:"11001001010110",14:"11010100101100",15:"11001010010110",16:"11010010010110",17:"11010101001100",18:"11001010100110",19:"11010010100110",20:"10110100100110",21:"10011010101100",22:"10110010101100",23:"10011001010110",24:"10110100101100",25:"10011010010110",26:"10110010010110",27:"10110101001100",28:"10011010100110",29:"10110010100110",30:"11011010010010",31:"11001101010100",32:"11011001010100",33:"11001100101010",34:"11011010010100",35:"11001101001010",36:"11011001001010",37:"11011010100100",38:"11001101010010",39:"11011001010010",40:"10101100100110",41:"10010110101100",42:"10100110101100",43:"10010011010110",44:"10101100101100",45:"10010110010110",46:"10100110010110",47:"10101101001100",48:"10010110100110",49:"10100110100110",50:"11010110010010",51:"11001011010100",52:"11010011010100",53:"11001001101010",54:"11010110010100",55:"11001011001010",56:"11010011001010",57:"11010110100100",58:"11001011010010",59:"11010011010010",60:"10110110010010",61:"10011011010100",62:"10110011010100",63:"10011001101010",64:"10110110010100",65:"10011011001010",66:"10110011001010",67:"10110110100100",68:"10011011010010",69:"10110011010010",70:"10101001100110",71:"10010101101100",72:"10100101101100",73:"10010010110110",74:"10101001101100",75:"10010100110110",76:"10100100110110",77:"10101011001100",78:"10010101100110",79:"10100101100110",80:"11010100110010",81:"11001010110100",82:"11010010110100",83:"11001001011010",84:"11010100110100",85:"11001010011010",86:"11010010011010",87:"11010101100100",88:"11001010110010",89:"11010010110010",90:"10110100110010",91:"10011010110100",92:"10110010110100",93:"10011001011010",94:"10110100110100",95:"10011010011010",96:"10110010011010",97:"10110101100100",98:"10011010110010",99:"10110010110010","[":"1010","]":"1101"};for(b=0;b<a.length;b+=c)c=isNaN(a.charAt(b))?1:2,d+=f[a.substr(b,c)];return[d]}});a.addType(Z);for(var m={types:[],addType:function(a){this.types[a.prototype.type]=a},byType:function(a,b){return this.types[a]?new this.types[a](b):null}},I=D.extend({type:null,init:function(a){var c=this,b=a.style;c.options=a,c.width=a.width-b.paddingLeft-b.paddingRight,c.height=a.height-b.paddingTop-b.paddingBottom,e||g.namespaces.scvbarcode||g.namespaces.add("scvbarcode","urn:schemas-microsoft-com:vml","#default#VML")},all:function(j,l){var a=this,g=a.options,b=g.style,p=g.text,i=p.style,c="",h=function(a){return o("<div/>").html(a).text()},f="",m=a.width>100?h("&#68;&#101;&#109;&#111;&#32;&#86;&#101;&#114;&#115;&#105;&#111;&#110;"):h("&#68;&#101;&#109;&#111;"),k=h("&#104;&#116;&#116;&#112;&#58;&#47;&#47;&#119;&#119;&#119;&#46;&#115;&#104;&#105;&#101;&#108;&#100;&#117;&#105;&#46;&#99;&#111;&#109;"),n=d.guid();return b.paddingLeft&&(c+="margin-left:"+b.paddingLeft+"px;"),b.paddingTop&&(c+="margin-top:"+b.paddingTop+"px;"),b.paddingBottom&&(c+="margin-bottom:"+b.paddingBottom+"px;"),b.paddingRight&&(c+="margin-right:"+b.paddingRight+"px;"),e?(f+='<filter id="'+n+'" height="130%"><feGaussianBlur in="SourceAlpha" stdDeviation="3"/><feOffset dx="2" dy="2" result="offsetblur"/><feComponentTransfer><feFuncA type="linear" slope="0.2"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge><feFlood flood-color="#ffffff"/><feComposite in="SourceGraphic"/></filter>',f+='<text x="'+a.width+'" y="'+(a.height-i.paddingBottom)+'" fill="#999999" filter="url(#'+n+')" text-anchor="end" font-size="12" style="cursor:pointer; z-index:150; font-size:12px;" onClick="javascript: location.href = \''+k+"';\">"+m+"</text>"):f+='<div style="position:absolute; width:'+(a.width+2)+"px; text-align:right; color:#999999; cursor:pointer; z-index:150; top:"+(g.height-12-i.paddingBottom)+'px; font-size:12px;"><a href="'+k+'" style="color:#999999; text-decoration:none; background-color:#fdfdfd; font-size:12px;">'+m+"</a></div>",e?'<svg xmlns="'+H+'" version="1.1" width="'+a.width+'" height="'+a.height+'" shape-rendering="crispEdges"'+(c?' style="'+c+'" ':"")+">"+j+l+f+"</svg>":'<scvbarcode:group style="position:relative; width:'+a.width+"px; height:"+a.height+"px; "+c+'" coordsize="'+a.width+","+a.height+'">'+j+l+f+"</scvbarcode:group>"},barcode:function(l){for(var m,a,d=this,v=d.options,q=v.style,r=d.options.text,g=r.style,h=l[0],i=l[1]||[],w=r.enabled?g.fontSize+g.paddingTop+g.paddingBottom:0,j=d.width/h.length,o=d.height-w-(i.length>0?5:0),u=o+5,k=[],c=0;c<h.length;c++){var s=h.charAt(c);if("1"==s){for(var t=c*j,p=o,f=0;f<i.length;f++)if(i[f]==c){p=u;break}var n={x1:t,y1:0,x2:t,y2:p,w:j};1==b(m)&&(a=k.pop(),n={x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2,w:a.w+j}),k.push(n)}m=s}return E(k,function(a){return e?'<line x1="'+(a.x1+a.w/2)+'" y1="'+a.y1+'" x2="'+(a.x2+a.w/2)+'" y2="'+a.y2+'" style="stroke:'+q.color+"; stroke-width:"+a.w+'" />':'<scvbarcode:line from="'+(a.x1+a.w/2)+","+a.y1+'" to="'+(a.x2+a.w/2)+","+a.y2+'" strokecolor="'+q.color+'" strokeweight="'+a.w+'px;" stroke="true" />'}).join("")},text:function(d){var b=this,c=b.options.text,a=c.style,f=c.enabled?a.fontSize+a.paddingTop+a.paddingBottom:0;return c.enabled?e?'<text x="'+b.width/2+'" y="'+(b.height-a.paddingBottom)+'" fill="'+a.color+'" text-anchor="middle" font-size="'+a.fontSize+'" font-family="'+a.fontFamily+';">'+d+"</text>":'<div style="position:absolute; width:'+b.width+"px; text-align:center; color:"+a.color+"; top:"+(b.options.height-f-a.paddingBottom)+"px; font-size:"+a.fontSize+"px; font-family:"+a.fontFamily+';">'+d+"</div>":""}}),G=[J,K,M,N,p,q,r,s,v,w,x,y,z,A,B,C,t,u],n=0;n<G.length;n++)m.addType(I.extend({type:G[n]}));var cb=I.extend({type:"POSTNET",barcode:function(j){var a=this,k=a.options,f=k.style,g=a.options.text,c=g.style,d=j[0],i=g.enabled?c.fontSize+c.paddingTop+c.paddingBottom:0;barwidth=a.width/(2*d.length-1),barheight=a.height-i,bars=[];for(var b=0;b<d.length;b++){var h=b*barwidth*2,l="1"==d.charAt(b)?0:barheight/2;bars.push({x1:h,y1:l,x2:h,y2:barheight,w:barwidth})}return E(bars,function(a){return e?'<line x1="'+(a.x1+a.w/2)+'" y1="'+a.y1+'" x2="'+(a.x2+a.w/2)+'" y2="'+a.y2+'" style="stroke:'+f.color+"; stroke-width:"+a.w+'" />':'<scvbarcode:line from="'+(a.x1+a.w/2)+","+a.y1+'" to="'+(a.x2+a.w/2)+","+a.y2+'" strokecolor="'+f.color+'" strokeweight="'+a.w+'px;" stroke="true" />'}).join("")}});m.addType(cb);var db={value:null,type:null,checksum:!0,width:300,height:100,style:{background:null,borderColor:null,borderStyle:null,borderWidth:0,color:"#000000",paddingTop:5,paddingLeft:5,paddingRight:5,paddingBottom:5},text:{enabled:!1,checksum:!1,style:{color:"#000000",fontFamily:"Segoe UI, Tahoma, Verdana, sans-serif",fontSize:13,paddingTop:2,paddingBottom:0}}},F=j.extend({init:function(n){j.fn.init.apply(this,arguments);var e,p,i,l=this,b=l.options,d=b.style,g=b.type,h=b.dieOnError,c=b.value+"",f=a.byType(g),n=o(l.element),q="";return f?f.validate(c)?(e=m.byType(g,b))?(n.css({background:d.background,borderColor:d.borderColor,borderStyle:d.borderStyle,borderWidth:d.borderWidth,width:b.width,height:b.height}),p=f.encode(c,b.checksum),i=e.barcode(p),b.text.enabled&&(q=e.text(c+(b.text.checksum?f.checksum(c):""))),n.html(e.all(i,q)),void 0):(k("Invalid barcode type (2)",h),void 0):(k("Invalid barcode value: "+c,h),void 0):(k("Invalid barcode type: "+g,h),void 0)},destroy:function(){this.element.empty(),j.fn.destroy.call(this)}});F.defaults=db,d.ui.plugin("Barcode",F)}(jQuery,shield,function(){return this}());
!function(f,d){var o=d.ui.Widget,z=d.Constants,q=d.Class,e=document,r=z.SVG_NS,k=!!e.createElementNS&&!!e.createElementNS(r,"svg").createSVGRect,j=f.map,a=d.to.int,n=d.error,c=function(b){return a(b,10).toString(2)},t=function(b){return a(b,2)},b=function(a,b){for(a+="";a.length<b;)a="0"+a;return a},s=function(a,b){for(a+="";a.length<b;)a+="0";return a},m="byte",i="numeric",h="alphanumeric",g={modes:[],addMode:function(a){this.modes[a.prototype.mode]=a},byMode:function(a){return this.modes[a]?new this.modes[a]:null}},l=q.extend({mode:null,codeMode:null,validateRegex:null,_verErrLenTable:{"1L":152,"1M":128,"1Q":104,"1H":72,"2L":272,"2M":224,"2Q":176,"2H":128,"3L":440,"3M":352,"3Q":272,"3H":208,"4L":640,"4M":512,"4Q":384,"4H":288,"5L":864,"5M":688,"5Q":496,"5H":368,"6L":1088,"6M":864,"6Q":608,"6H":480,"7L":1248,"7M":992,"7Q":704,"7H":528,"8L":1552,"8M":1232,"8Q":880,"8H":688,"9L":1856,"9M":1456,"9Q":1056,"9H":800,"10L":2192,"10M":1728,"10Q":1232,"10H":976,"11L":2592,"11M":2032,"11Q":1440,"11H":1120,"12L":2960,"12M":2320,"12Q":1648,"12H":1264,"13L":3424,"13M":2672,"13Q":1952,"13H":1440,"14L":3688,"14M":2920,"14Q":2088,"14H":1576,"15L":4184,"15M":3320,"15Q":2360,"15H":1784,"16L":4712,"16M":3624,"16Q":2600,"16H":2024,"17L":5176,"17M":4056,"17Q":2936,"17H":2264,"18L":5768,"18M":4504,"18Q":3176,"18H":2504,"19L":6360,"19M":5016,"19Q":3560,"19H":2728,"20L":6888,"20M":5352,"20Q":3880,"20H":3080,"21L":7456,"21M":5712,"21Q":4096,"21H":3248,"22L":8048,"22M":6256,"22Q":4544,"22H":3536,"23L":8752,"23M":6880,"23Q":4912,"23H":3712,"24L":9392,"24M":7312,"24Q":5312,"24H":4112,"25L":10208,"25M":8e3,"25Q":5744,"25H":4304,"26L":10960,"26M":8496,"26Q":6032,"26H":4768,"27L":11744,"27M":9024,"27Q":6464,"27H":5024,"28L":12248,"28M":9544,"28Q":6968,"28H":5288,"29L":13048,"29M":10136,"29Q":7288,"29H":5608,"30L":13880,"30M":10984,"30Q":7880,"30H":5960,"31L":14744,"31M":11640,"31Q":8264,"31H":6344,"32L":15640,"32M":12328,"32Q":8920,"32H":6760,"33L":16568,"33M":13048,"33Q":9368,"33H":7208,"34L":17528,"34M":13800,"34Q":9848,"34H":7688,"35L":18448,"35M":14496,"35Q":10288,"35H":7888,"36L":19472,"36M":15312,"36Q":10832,"36H":8432,"37L":20528,"37M":15936,"37Q":11408,"37H":8768,"38L":21616,"38M":16816,"38Q":12016,"38H":9136,"39L":22496,"39M":17728,"39Q":12656,"39H":9776,"40L":23648,"40M":18672,"40Q":13328,"40H":10208},_errorCorrectionToMask:{L:"01",M:"00",Q:"11",H:"10"},_formatInformation:{"00000":"101010000010010","00001":"101000100100101","00010":"101111001111100","00011":"101101101001011","00100":"100010111111001","00101":"100000011001110","00110":"100111110010111","00111":"100101010100000","01000":"111011111000100","01001":"111001011110011","01010":"111110110101010","01011":"111100010011101","01100":"110011000101111","01101":"110001100011000","01110":"110110001000001","01111":"110100101110110",10000:"001011010001001",10001:"001001110111110",10010:"001110011100111",10011:"001100111010000",10100:"000011101100010",10101:"000001001010101",10110:"000110100001100",10111:"000100000111011",11000:"011010101011111",11001:"011000001101000",11010:"011111100110001",11011:"011101000000110",11100:"010010010110100",11101:"010000110000011",11110:"010111011011010",11111:"010101111101101"},validate:function(a){return this.validateRegex?new RegExp(this.validateRegex).test(a):!0},encode:function(d,c){var e,o,i,n,b=this,f=b._getVersion(d,c),p=4,j=21+4*(f-1),k=j+2*p,l=f+c,g=b._getFormatData(d,c),a=b.encodeValue(d),h=b._getDataLength(d,c),m=h-(g.length+a.length)>4?4:h-(g.length+a.length);return a=s(a,a.length+m),e=b._getBinaryValues(g+a),a=e.join(""),a=b._padEncodedToLength(a,h),e=b._getBinaryValues(a),i=b._getIntegerValues(e),a=b._getEC(l,o,i),n=b._getBinaryMatrix(a,f,j,k,c)},encodeValue:null,_getBinaryMatrix:function(s,j,g,h,r){var l,p,k,m,f,i,b,a,e=this,o=["000","001","010","011","100","101","110","111"],q=[],c=[],d=[],n=e._getPositionAdjustmentsTable();for(f=0;h>f;f++)for(c[f]=[],i=0;h>i;i++)c[f][i]=0;for(f=0;g>f;f++)d.push(new Array(g));if(e._fullFinderPattern(c,4,4),e._fillFinderPatternFilledValues(d,0,0),e._fullFinderPattern(c,4,h-11),e._fillFinderPatternFilledValues(d,0,g-8),e._fullFinderPattern(c,h-11,4),e._fillFinderPatternFilledValues(d,g-8,0),e._fillTimingPattern(c,d,g),c[h-12][12]=1,d[h-16][8]=1,j>1)for(f=0;f<n[j].length;f++)for(i=0;i<n[j].length;i++)b=n[j][f]+4,a=n[j][i]+4,10==b&&10==a||10==b&&a==h-11||b==h-11&&10==a||(c[b-2][a-2]=1,d[b-6][a-6]=1,c[b-2][a-1]=1,d[b-6][a-5]=1,c[b-2][a]=1,d[b-6][a-4]=1,c[b-2][a+1]=1,d[b-6][a-3]=1,c[b-2][a+2]=1,d[b-6][a-2]=1,c[b-1][a-2]=1,d[b-5][a-6]=1,c[b-1][a-1]=0,d[b-5][a-5]=1,c[b-1][a]=0,d[b-5][a-4]=1,c[b-1][a+1]=0,d[b-5][a-3]=1,c[b-1][a+2]=1,d[b-5][a-2]=1,c[b][a-2]=1,d[b-4][a-6]=1,c[b][a-1]=0,d[b-4][a-5]=1,c[b][a]=1,d[b-4][a-4]=1,c[b][a+1]=0,d[b-4][a-3]=1,c[b][a+2]=1,d[b-4][a-2]=1,c[b+1][a-2]=1,d[b-3][a-6]=1,c[b+1][a-1]=0,d[b-3][a-5]=1,c[b+1][a]=0,d[b-3][a-4]=1,c[b+1][a+1]=0,d[b-3][a-3]=1,c[b+1][a+2]=1,d[b-3][a-2]=1,c[b+2][a-2]=1,d[b-2][a-6]=1,c[b+2][a-1]=1,d[b-2][a-5]=1,c[b+2][a]=1,d[b-2][a-4]=1,c[b+2][a+1]=1,d[b-2][a-3]=1,c[b+2][a+2]=1,d[b-2][a-2]=1);for(j>=7&&e._fillHigherVersionData(c,d,j,g,h),m=0;8>m;m++){for(l=0,k=[],f=0;f<c.length;f++)k.push(c[f].slice(0));e._fillFormatData(c,d,g,h,o[m],r),e._fillMatrix(d,k,o[m],g,s),l+=e._calcPenalty1(k,g),l+=e._calcPenalty2(k,g),l+=e._calcPenalty3(k,g),l+=e._calcPenalty4(k,g),q.push(l)}return p=e._getSmallestPenaltyIndex(q),e._fillFormatData(c,d,g,h,o[p],r),e._fillMatrix(d,c,o[p],g,s),c},_fillHigherVersionData:function(a,b,g,c,d){var e=this,h={7:[0,0,1,0,1,0,0,1,0,0,1,1,1,1,1,0,0,0],8:[0,0,1,1,1,1,0,1,1,0,1,0,0,0,0,1,0,0],9:[1,0,0,1,1,0,0,1,0,1,0,1,1,0,0,1,0,0],10:[1,1,0,0,1,0,1,1,0,0,1,0,0,1,0,1,0,0],11:[0,1,1,0,1,1,1,1,1,1,0,1,1,1,0,1,0,0],12:[0,1,0,0,0,1,1,0,1,1,1,0,0,0,1,1,0,0],13:[1,1,1,0,0,0,1,0,0,0,0,1,1,0,1,1,0,0],14:[1,0,1,1,0,0,0,0,0,1,1,0,0,1,1,1,0,0],15:[0,0,0,1,0,1,0,0,1,0,0,1,1,1,1,1,0,0],16:[0,0,0,1,1,1,1,0,1,1,0,1,0,0,0,0,1,0],17:[1,0,1,1,1,0,1,0,0,0,1,0,1,0,0,0,1,0],18:[1,1,1,0,1,0,0,0,0,1,0,1,0,1,0,0,1,0],19:[0,1,0,0,1,1,0,0,1,0,1,0,1,1,0,0,1,0],20:[0,1,1,0,0,1,0,1,1,0,0,1,0,0,1,0,1,0],21:[1,1,0,0,0,0,0,1,0,1,1,0,1,0,1,0,1,0],22:[1,0,0,1,0,0,1,1,0,0,0,1,0,1,1,0,1,0],23:[0,0,1,1,0,1,1,1,1,1,1,0,1,1,1,0,1,0],24:[0,0,1,0,0,0,1,1,0,1,1,1,0,0,0,1,1,0],25:[1,0,0,0,0,1,1,1,1,0,0,0,1,0,0,1,1,0],26:[1,1,0,1,0,1,0,1,1,1,1,1,0,1,0,1,1,0],27:[0,1,1,1,0,0,0,1,0,0,0,0,1,1,0,1,1,0],28:[0,1,0,1,1,0,0,0,0,0,1,1,0,0,1,1,1,0],29:[1,1,1,1,1,1,0,0,1,1,0,0,1,0,1,1,1,0],30:[1,0,1,0,1,1,1,0,1,0,1,1,0,1,1,1,1,0],31:[0,0,0,0,1,0,1,0,0,1,0,0,1,1,1,1,1,0],32:[1,0,1,0,1,0,1,1,1,0,0,1,0,0,0,0,0,1],33:[0,0,0,0,1,1,1,1,0,1,1,0,1,0,0,0,0,1],34:[0,1,0,1,1,1,0,1,0,0,0,1,0,1,0,0,0,1],35:[1,1,1,1,1,0,0,1,1,1,1,0,1,1,0,0,0,1],36:[1,1,0,1,0,0,0,0,1,1,0,1,0,0,1,0,0,1],37:[0,1,1,1,0,1,0,0,0,0,1,0,1,0,1,0,0,1],38:[0,0,1,0,0,1,1,0,0,1,0,1,0,1,1,0,0,1],39:[1,0,0,0,0,0,1,0,1,0,1,0,1,1,1,0,0,1],40:[1,0,0,1,0,1,1,0,0,0,1,1,0,0,0,1,0,1]},f=h[g];e._fillUpperVersionInformation(a,b,f,c,d),e._fillLowerVersionInformation(a,b,f,c,d)},_fillUpperVersionInformation:function(c,d,e,h,i){var a,f=i-15,g=h-11,b=0;for(a=4;10>a;a++)c[a][f]=e[b],d[a-4][g]=1,b++,c[a][f+1]=e[b],d[a-4][g+1]=1,b++,c[a][f+2]=e[b],d[a-4][g+2]=1,b++},_fillLowerVersionInformation:function(c,d,e,h,i){var a,f=i-13,g=h-9,b=0;for(a=4;10>a;a++)c[f][a]=e[b],d[g][a-4]=1,b++,c[f-1][a]=e[b],d[g-1][a-4]=1,b++,c[f-2][a]=e[b],d[g-2][a-4]=1,b++},_getSmallestPenaltyIndex:function(b){var a,d=b[0],c=0;for(a=0;a<b.length;a++)b[a]<d&&(c=a);return c},_calcPenalty1:function(e,f){var g,c,a,b,d=0;for(c=0;f>c;c++)for(b=1,a=1;f>a;a++)g=e[a+4],g==e[a+3]?(b++,5==b?d+=3:b>5&&d++):b=1;for(a=0;f>a;a++)for(b=1,c=1;f>c;c++)g=e[a+4],g==e[a+4]?(b++,5==b?d+=3:b>5&&d++):b=1;return d},_calcPenalty2:function(c,e){var d,a,b,f=0;for(a=0;e-1>a;a++)for(b=0;e-1>b;b++)d=c[a+4][b+4],d==c[a+4][b+5]&&d==c[a+5][b+4]&&d==c[a+5][b+5]&&(f+=3);return f},_calcPenalty3:function(c,d){var a,b,e=0;for(a=0;d>a;a++)for(b=0;d-7>=b;b++)c[a+4][b+4]&&!c[a+4][b+5]&&c[a+4][b+6]&&c[a+4][b+7]&&c[a+4][b+8]&&!c[a+4][b+9]&&c[a+4][b+10]&&(e+=40);for(b=0;d>b;b++)for(a=0;d-7>=a;a++)c[a+4][b+4]&&!c[a+5][b+4]&&c[a+6][b+4]&&c[a+7][b+4]&&c[a+8][b+4]&&!c[a+9][b+4]&&c[a+10][b+4]&&(e+=40);return e},_calcPenalty4:function(g,e){var b,c,h=0,d=0,f=0;for(b=0;e>b;b++)for(c=0;e>c;c++)g[b+4][c+4]?d++:f++;return h=a(2*(d/(d+f)*100-50))},_fillFormatData:function(b,d,e,i,j,l){var h=this,k=h._errorCorrectionToMask[l]+j,c=h._formatInformation[k],g=i-5,f=i-5;b[12][4]=a(c.charAt(0)),b[12][5]=a(c.charAt(1)),b[12][6]=a(c.charAt(2)),b[12][7]=a(c.charAt(3)),b[12][8]=a(c.charAt(4)),b[12][9]=a(c.charAt(5)),b[12][11]=a(c.charAt(6)),b[12][12]=a(c.charAt(7)),b[11][12]=a(c.charAt(8)),b[9][12]=a(c.charAt(9)),b[8][12]=a(c.charAt(10)),b[7][12]=a(c.charAt(11)),b[6][12]=a(c.charAt(12)),b[5][12]=a(c.charAt(13)),b[4][12]=a(c.charAt(14)),b[g][12]=a(c.charAt(0)),b[g-1][12]=a(c.charAt(1)),b[g-2][12]=a(c.charAt(2)),b[g-3][12]=a(c.charAt(3)),b[g-4][12]=a(c.charAt(4)),b[g-5][12]=a(c.charAt(5)),b[g-6][12]=a(c.charAt(6)),b[12][f-7]=a(c.charAt(7)),b[12][f-6]=a(c.charAt(8)),b[12][f-5]=a(c.charAt(9)),b[12][f-4]=a(c.charAt(10)),b[12][f-3]=a(c.charAt(11)),b[12][f-2]=a(c.charAt(12)),b[12][f-1]=a(c.charAt(13)),b[12][f]=a(c.charAt(14)),d[8][0]=1,d[8][1]=1,d[8][2]=1,d[8][3]=1,d[8][4]=1,d[8][5]=1,d[8][7]=1,d[8][8]=1,d[7][8]=1,d[5][8]=1,d[4][8]=1,d[3][8]=1,d[2][8]=1,d[1][8]=1,d[0][8]=1,d[e-1][8]=1,d[e-2][8]=1,d[e-3][8]=1,d[e-4][8]=1,d[e-5][8]=1,d[e-6][8]=1,d[e-7][8]=1,d[8][e-8]=1,d[8][e-7]=1,d[8][e-6]=1,d[8][e-5]=1,d[8][e-4]=1,d[8][e-3]=1,d[8][e-2]=1,d[8][e-1]=1},_fillMatrix:function(e,f,g,j,h){var a,b,i=this,c=0,d=!0;for(a=j-1;a>=0;a-=2)if(6==a&&a--,d){for(b=j-1;b>=0;b--)e[b][a]||(i._fillModule(b,a,c,f,g,h),c++),a-1>=0&&!e[b][a-1]&&(i._fillModule(b,a-1,c,f,g,h),c++);d=!d}else{for(b=0;j>b;b++)e[b][a]||(i._fillModule(b,a,c,f,g,h),c++),a-1>=0&&!e[b][a-1]&&(i._fillModule(b,a-1,c,f,g,h),c++);d=!d}},_fillModule:function(a,b,c,d,e,f){var g=this;c<f.length?g._fillCharacter(a,b,f.charAt(c),d,e):g._fillCharacter(a,b,"0",d,e)},_fillCharacter:function(a,b,d,f,g){var c,e;switch(g){case"000":c=(a+b)%2==0;break;case"001":c=a%2==0;break;case"010":c=b%3==0;break;case"011":c=(a+b)%3==0;break;case"100":c=(a/2+b/3)%2==0;break;case"101":c=a*b%2+a*b%3==0;break;case"110":c=(a*b%2+a*b%3)%2==0;break;case"111":c=((a+b)%2+a*b%3)%2==0;break;default:c=(a+b)%2==0}e=c?"0"==d?1:0:"0"==d?0:1,f[a+4][b+4]=e},_fillTimingPattern:function(d,e,f){for(var a=10,b=12,c=!0;f-4>b;)c&&(d[a][b]=1),e[a-4][b-4]=1,c=!c,b++;for(b=10,a=12,c=!0;f-4>a;)c&&(d[a][b]=1),e[a-4][b-4]=1,c=!c,a++},_fullFinderPattern:function(d,b,c){var a;for(a=0;7>a;a++)d[b+a][c]=1,d[b][c+a]=1,d[b+a][c+6]=1,d[b+6][c+a]=1;for(b+=2,c+=2,a=0;3>a;a++)d[b+a][c]=1,d[b+a][c+1]=1,d[b+a][c+2]=1},_fillFinderPatternFilledValues:function(g,a,b){var c,d,e,f;for(0==a&&0==b?c=d=8:0==a&&b>0?(c=8,d=b+8):(c=a+8,d=8),e=a;c>e;e++)for(f=b;d>f;f++)g[e][f]=1},_getEC:function(E,F,y){for(var u,v,r=this,B=r._getCodewordsLengthTable(),e=B[E],p=0,j=[],h=[],g=[],f=[],k=[],i=[],q=[],o=[],x=e.firstBlockCount,w=e.secondBlockCount,m=[],n=[];x>0;x--){for(m=[],u=0;u<e.firstDataCodeWords;u++)m[m.length]=y[p],p++;j[j.length]=m,k[k.length]=r._getErrorCorrectionForBlock(m,e)}for(;w>0;w--){for(n=[],v=0;v<e.secondBlockCodeWords;v++)n[n.length]=y[p],p++;h[h.length]=n,i[i.length]=r._getErrorCorrectionForBlock(n,e)}var l,z=e.firstDataCodeWords*e.firstBlockCount+e.secondBlockCodeWords*e.secondBlockCount,A=e.codewordsPerBlock*e.firstBlockCount+e.codewordsPerBlock*e.secondBlockCount,a=0,s=j.length+h.length;for(l=0;s>l;l++)0==a?j.length>0?(g[g.length]=j[0],j.splice(0,1)):(g[g.length]=h[0],a++,h.splice(0,1)):1==a&&h.length>0&&(g[g.length]=h[0],h.splice(0,1));for(a=0,s=k.length+i.length,l=0;s>l;l++)0==a?k.length>0?(f[f.length]=k[0],k.splice(0,1)):(f[f.length]=i[0],a++,i.splice(0,1)):1==a&&i.length>0&&(f[f.length]=i[0],i.splice(0,1));var d,C=g.length,D=f.length,t="";for(a=0,d=0;z>d;d++)a==C&&(a=0),g[a].length>0?(q[q.length]=g[a][0],g[a].splice(0,1),a++):(a++,d--);for(a=0,d=0;A>d;d++)a==D&&(a=0),f[a].length>0?(o[o.length]=f[a][0],f[a].splice(0,1),a++):(a++,d--);for(d=0;d<q.length;d++)t+=b(c(q[d]),8);for(d=0;d<o.length;d++)t+=b(c(o[d]),8);return t},_getErrorCorrectionForBlock:function(f,i){var c,a,e,g,h=i.codewordsPerBlock,b=[],d=[],j=0,k={7:[87,229,146,149,238,102,21],10:[251,67,46,61,118,70,64,94,32,45],13:[74,152,176,100,86,100,106,104,130,218,206,140,78],15:[8,183,61,91,202,37,51,58,58,237,140,124,5,99,105],16:[120,104,107,109,102,161,76,3,91,191,147,169,182,194,225,120],17:[43,139,206,78,43,239,123,206,214,147,24,99,150,39,243,163,136],18:[215,234,158,94,184,97,118,170,79,187,152,148,252,179,5,98,96,153],20:[17,60,79,50,61,163,26,187,202,180,221,225,83,239,156,164,212,212,188,190],22:[210,171,247,242,93,230,14,109,221,53,200,74,8,172,98,80,219,134,160,105,165,231],24:[229,121,135,48,211,117,251,126,159,180,169,152,192,226,228,218,111,0,117,232,87,96,227,21],26:[173,125,158,2,103,182,118,17,145,201,111,28,165,53,161,21,245,142,13,102,48,227,153,145,218,70],28:[168,223,200,104,224,234,108,180,110,190,195,147,205,27,232,201,21,43,245,87,42,195,212,119,242,37,9,123],30:[41,173,145,152,216,31,179,182,50,48,110,86,239,96,222,125,42,173,226,193,224,130,156,37,251,216,238,40,192,180]},l=[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,1],m=[-1,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175];for(c=0;c<f.length+h;c++)d[j++]=c<f.length?f[c]:0;for(c=0;c<f.length;c++)if(e=d[0],d.splice(0,1),0!=e){for(b=k[h].slice(0),e=m[e],a=0;a<b.length;a++)g=e+b[a],g>255&&(g%=255),b[a]=g;for(a=0;a<b.length;a++)b[a]=l[b[a]];for(a=0;a<b.length;a++)d[a]=d[a]^b[a]}return d},_getIntegerValues:function(a){return j(a,function(a){return t(a)})},_getBinaryValues:function(b){var a,c=[];for(a=0;a<b.length;a+=8)a+8<=b.length?c.push(b.substr(a,8)):c.push(s(b.substring(a),8));return c},_padEncodedToLength:function(a,b){if(a.length>=b)return a.substr(0,b);for(var c=a,e="11101100",f="00010001",d=!0;c.length<b;)c+=d?e:f,d=!d;return c},_getVersion:function(b,c){var a,d=b.length;for(a=1;39>a&&!(this._verErrLenTable[a+""+c]/8>=d);a++);return a+1},_getDataLength:function(c,a){var b=this;return b._verErrLenTable[b._getVersion(c,a)+""+a]},_getFormatData:function(a,d){return this.codeMode+b(c(a.length),this._getFormatLengthTotal(a,d))},_getFormatLengthTotal:function(d,e){var c=this,a=c.mode,b=c._getVersion(d,e);return b>=1&&9>=b?a==i?10:a==h?9:8:b>=10&&26>=b?a==i?12:a==h?11:a==m?16:10:a==i?14:a==h?13:a==m?16:12},_getCodewordsLengthTable:function(){var b=this;if(b._clt)return b._clt;var a,d,e,c=[7,1,19,0,0,10,1,16,0,0,13,1,13,0,0,17,1,9,0,0,10,1,34,0,0,16,1,28,0,0,22,1,22,0,0,28,1,16,0,0,15,1,55,0,0,26,1,44,0,0,18,2,17,0,0,22,2,13,0,0,20,1,80,0,0,18,2,32,0,0,26,2,24,0,0,16,4,9,0,0,26,1,108,0,0,24,2,43,0,0,18,2,15,2,16,22,2,11,2,12,18,2,68,0,0,16,4,27,0,0,24,4,19,0,0,28,4,15,0,0,20,2,78,0,0,18,4,31,0,0,18,2,14,4,15,26,4,13,1,14,24,2,97,0,0,22,2,38,2,39,22,4,18,2,19,26,4,14,2,15,30,2,116,0,0,22,3,36,2,37,20,4,16,4,17,24,4,12,4,13,18,2,68,2,69,26,4,43,1,44,24,6,19,2,20,28,6,15,2,16,20,4,81,0,0,30,1,50,4,51,28,4,22,4,23,24,3,12,8,13,24,2,92,2,93,22,6,36,2,37,26,4,20,6,21,28,7,14,4,15,26,4,107,0,0,22,8,37,1,38,24,8,20,4,21,22,12,11,4,12,30,3,115,1,116,24,4,40,5,41,20,11,16,5,17,24,11,12,5,13,22,5,87,1,88,24,5,41,5,42,30,5,24,7,25,24,11,12,7,13,24,5,98,1,99,28,7,45,3,46,24,15,19,2,20,30,3,15,13,16,28,1,107,5,108,28,10,46,1,47,28,1,22,15,23,28,2,14,17,15,30,5,120,1,121,26,9,43,4,44,28,17,22,1,23,28,2,14,19,15,28,3,113,4,114,26,3,44,11,45,26,17,21,4,22,26,9,13,16,14,28,3,107,5,108,26,3,41,13,42,30,15,24,5,25,28,15,15,10,16,28,4,116,4,117,26,17,42,0,0,28,17,22,6,23,30,19,16,6,17,28,2,111,7,112,28,17,46,0,0,30,7,24,16,25,24,34,13,0,0,30,4,121,5,122,28,4,47,14,48,30,11,24,14,25,30,16,15,14,16,30,6,117,4,118,28,6,45,14,46,30,11,24,16,25,30,30,16,2,17,26,8,106,4,107,28,8,47,13,48,30,7,24,22,25,30,22,15,13,16,28,10,114,2,115,28,19,46,4,47,28,28,22,6,23,30,33,16,4,17,30,8,122,4,123,28,22,45,3,46,30,8,23,26,24,30,12,15,28,16,30,3,117,10,118,28,3,45,23,46,30,4,24,31,25,30,11,15,31,16,30,7,116,7,117,28,21,45,7,46,30,1,23,37,24,30,19,15,26,16,30,5,115,10,116,28,19,47,10,48,30,15,24,25,25,30,23,15,25,16,30,13,115,3,116,28,2,46,29,47,30,42,24,1,25,30,23,15,28,16,30,17,115,0,0,28,10,46,23,47,30,10,24,35,25,30,19,15,35,16,30,17,115,1,116,28,14,46,21,47,30,29,24,19,25,30,11,15,46,16,30,13,115,6,116,28,14,46,23,47,30,44,24,7,25,30,59,16,1,17,30,12,121,7,122,28,12,47,26,48,30,39,24,14,25,30,22,15,41,16,30,6,121,14,122,28,6,47,34,48,30,46,24,10,25,30,2,15,64,16,30,17,122,4,123,28,29,46,14,47,30,49,24,10,25,30,24,15,46,16,30,4,122,18,123,28,13,46,32,47,30,48,24,14,25,30,42,15,32,16,30,20,117,4,118,28,40,47,7,48,30,43,24,22,25,30,10,15,67,16,30,19,118,6,119,28,18,47,31,48,30,34,24,34,25,30,20,15,61,16],f=["L","M","Q","H"];b._clt={};for(var a=0,d=1;40>=d;d++)for(var e=0;e<f.length;e++)b._clt[d+""+f[e]]={codewordsPerBlock:c[a],firstBlockCount:c[a+1],firstDataCodeWords:c[a+2],secondBlockCount:c[a+3],secondBlockCodeWords:c[a+4]},a+=5;return b._clt},_getPositionAdjustmentsTable:function(){var a=[],b=2;return a[b++]=[6,18],a[b++]=[6,22],a[b++]=[6,26],a[b++]=[6,30],a[b++]=[6,34],a[b++]=[6,22,38],a[b++]=[6,24,42],a[b++]=[6,26,46],a[b++]=[6,28,50],a[b++]=[6,30,54],a[b++]=[6,32,58],a[b++]=[6,34,62],a[b++]=[6,26,46,66],a[b++]=[6,26,48,70],a[b++]=[6,26,50,74],a[b++]=[6,30,54,78],a[b++]=[6,30,56,82],a[b++]=[6,30,58,86],a[b++]=[6,34,62,90],a[b++]=[6,28,50,72,94],a[b++]=[6,26,50,74,98],a[b++]=[6,30,54,78,102],a[b++]=[6,28,54,80,106],a[b++]=[6,32,58,84,110],a[b++]=[6,30,58,86,114],a[b++]=[6,34,62,90,118],a[b++]=[6,26,50,74,98,122],a[b++]=[6,30,54,78,102,126],a[b++]=[6,26,52,78,104,130],a[b++]=[6,30,56,82,108,134],a[b++]=[6,34,60,86,112,138],a[b++]=[6,30,58,86,114,142],a[b++]=[6,34,62,90,118,146],a[b++]=[6,30,54,78,102,126,150],a[b++]=[6,24,50,76,102,128,154],a[b++]=[6,28,54,80,106,132,158],a[b++]=[6,32,58,84,110,136,162],a[b++]=[6,26,54,82,110,138,166],a[b++]=[6,30,58,86,114,142,170],a}}),u=l.extend({mode:i,codeMode:"0001",validateRegex:"^\\d+$",encodeValue:function(d){for(var e=[];d.length>0;)d.length>2?(e.push(b(c(a(d.substr(0,3))),10)),d=d.substr(3)):2==d.length?(e.push(b(c(a(d)),7)),d=""):(e.push(b(c(a(d)),4)),d="");return 0==e.length&&e.push(b(c(0),4)),e.join("")}});g.addMode(u);var v=l.extend({mode:m,codeMode:"0100",validateRegex:'^[0-9A-Za-z\\\r\\\n\\ \\!\\"\\#\\$\\%\\&\\(\\)\\*\\+\\,\\-\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\¥\\]\\^\\_\\`\\{\\|\\}\\¯\\｡\\｢\\｣\\､\\･\\ｦ\\ｧ\\ｨ\\ｩ\\ｪ\\ｫ\\ｬ\\ｭ\\ｮ\\ｯ\\ｰ\\ｱ\\ｲ\\ｳ\\ｴ\\ｵ\\ｶ\\ｷ\\ｸ\\ｹ\\ｺ\\ｻ\\ｼ\\ｽ\\ｾ\\ｿ\\ﾀ\\ﾁ\\ﾂ\\ﾃ\\ﾄ\\ﾅ\\ﾆ\\ﾇ\\ﾈ\\ﾉ\\ﾊ\\ﾋ\\ﾌ\\ﾍ\\ﾎ\\ﾏ\\ﾐ\\ﾑ\\ﾒ\\ﾓ\\ﾔ\\ﾕ\\ﾖ\\ﾗ\\ﾘ\\ﾙ\\ﾚ\\ﾛ\\ﾜ\\ﾝ\\ﾞ\\ﾟ]+$',encodingTable:{"\r":"13","\n":"10"," ":"32","!":"33",'"':"34","#":"35",$:"36","%":"37","&":"38","'":"39","(":"40",")":"41","*":"42","+":"43",",":"44","-":"45",".":"46","/":"47",0:"48",1:"49",2:"50",3:"51",4:"52",5:"53",6:"54",7:"55",8:"56",9:"57",":":"58",";":"59","<":"60","=":"61",">":"62","?":"63","@":"64",A:"65",B:"66",C:"67",D:"68",E:"69",F:"70",G:"71",H:"72",I:"73",J:"74",K:"75",L:"76",M:"77",N:"78",O:"79",P:"80",Q:"81",R:"82",S:"83",T:"84",U:"85",V:"86",W:"87",X:"88",Y:"89",Z:"90","[":"91","¥":"92","]":"93","^":"94",_:"95","`":"96",a:"97",b:"98",c:"99",d:"100",e:"101",f:"102",g:"103",h:"104",i:"105",j:"106",k:"107",l:"108",m:"109",n:"110",o:"111",p:"112",q:"113",r:"114",s:"115",t:"116",u:"117",v:"118",w:"119",x:"120",y:"121",z:"122","{":"123","|":"124","}":"125","¯":"126","｡":"161","｢":"162","｣":"163","､":"164","･":"165",ｦ:"166",ｧ:"167",ｨ:"168",ｩ:"169",ｪ:"170",ｫ:"171",ｬ:"172",ｭ:"173",ｮ:"174",ｯ:"175",ｰ:"176",ｱ:"177",ｲ:"178",ｳ:"179",ｴ:"180",ｵ:"181",ｶ:"182",ｷ:"183",ｸ:"184",ｹ:"185",ｺ:"186",ｻ:"187",ｼ:"188",ｽ:"189",ｾ:"190",ｿ:"191",ﾀ:"192",ﾁ:"193",ﾂ:"194",ﾃ:"195",ﾄ:"196",ﾅ:"197",ﾆ:"198",ﾇ:"199",ﾈ:"200",ﾉ:"201",ﾊ:"202",ﾋ:"203",ﾌ:"204",ﾍ:"205",ﾎ:"206",ﾏ:"207",ﾐ:"208",ﾑ:"209",ﾒ:"210",ﾓ:"211",ﾔ:"212",ﾕ:"213",ﾖ:"214",ﾗ:"215",ﾘ:"216",ﾙ:"217",ﾚ:"218",ﾛ:"219",ﾜ:"220",ﾝ:"221",ﾞ:"222",ﾟ:"223"},encodeValue:function(e){var d,g=this,f=[];for(d=0;d<e.length;d++)f.push(b(c(a(g.encodingTable[e.charAt(d)])),8));return f.join("")}});g.addMode(v);var w=l.extend({mode:h,codeMode:"0010",validateRegex:"^[0-9A-Z \\$\\%\\*\\+\\-\\.\\/\\:]+$",encodingTable:{0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",A:"10",B:"11",C:"12",D:"13",E:"14",F:"15",G:"16",H:"17",I:"18",J:"19",K:"20",L:"21",M:"22",N:"23",O:"24",P:"25",Q:"26",R:"27",S:"28",T:"29",U:"30",V:"31",W:"32",X:"33",Y:"34",Z:"35"," ":"36",$:"37","%":"38","*":"39","+":"40","-":"41",".":"42","/":"43",":":"44"},encodeValue:function(h){var l,d,j,m,e,o=this,n=h.length%2!=0,g=[],f=[],k=[],i=0;for(d=0;d<h.length;d++)l=h.charAt(d),g[d]=o.encodingTable[l];for(d=0;d<g.length;d+=2)j=g[d],d+1<=g.length-1?(m=g[d+1],f[i]=a(45*j)+a(m)):f[i]=j,i++;for(d=0;d<f.length;d++)e=c(f[d]),n&&d==f.length-1?(e=b(e,6),k[d]=e):(e=b(e,11),k[d]=e);return k.join("")}});g.addMode(w);var x=q.extend({init:function(a){var b=this,c=a.style;b.options=a,b.size=a.size-2*c.padding,k||e.namespaces.sqrv||(e.namespaces.add("sqrv","urn:schemas-microsoft-com:vml","#default#VML"),e.createStyleSheet().cssText="sqrv\\:fill, sqrv\\:path, sqrv\\:shape, sqrv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},all:function(l){var g,h,w=this,b=w.size,x=w.options,e=x.style,c=b/l.length,n="",q=[],p=function(a){return f("<div/>").html(a).text()},i="",s=b>200?12:10,t=b>100?p("&#68;&#101;&#109;&#111;&#32;&#86;&#101;&#114;&#115;&#105;&#111;&#110;"):p("&#68;&#101;&#109;&#111;"),u=p("&#104;&#116;&#116;&#112;&#58;&#47;&#47;&#119;&#119;&#119;&#46;&#115;&#104;&#105;&#101;&#108;&#100;&#117;&#105;&#46;&#99;&#111;&#109;"),v=d.guid();for(e.padding&&(n+="margin:"+e.padding+"px;"),g=0;g<l.length;g++)for(h=0;h<l[g].length;h++)l[g][h]&&q.push({x:h*c,y:g*c});if(k?(i+='<filter id="'+v+'" height="130%"><feGaussianBlur in="SourceAlpha" stdDeviation="3"/><feOffset dx="2" dy="2" result="offsetblur"/><feComponentTransfer><feFuncA type="linear" slope="0.2"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge><feFlood flood-color="#ffffff"/><feComposite in="SourceGraphic"/></filter>',i+='<text x="'+b+'" y="'+b+'" fill="#999999" filter="url(#'+v+')" text-anchor="end" font-size="'+s+'" style="cursor:pointer; z-index:0;" onClick="javascript: location.href = \''+u+"'; margin:0; padding:0;\">"+t+"</text>"):i+='<div style="position:absolute; display:block; width:'+b+"px; text-align:right; color:#999999; cursor:pointer; z-index:0; top:"+(b-s-2)+"px; left:0px; font-size:"+s+'px;"><a href="'+u+'" style="color:#999999; text-decoration:none;">'+t+"</a></div>",k)return'<svg xmlns="'+r+'" version="1.1" width="'+b+'" height="'+b+'" shape-rendering="crispEdges"'+(n?' style="'+n+'" ':"")+">"+i+'<path d="'+j(q,function(a){return"M"+a.x+" "+a.y+" L"+(a.x+c)+" "+a.y+" L"+(a.x+c)+" "+(a.y+c)+" L"+a.x+" "+(a.y+c)+" z"}).join(" ")+'" fill="'+e.color+'" stroke="'+e.color+'" stroke-width="0" /></svg>';var o=1e4/b,m=a(c*o),y=j(q,function(d){var b=a(d.x*o),c=a(d.y*o);return"m"+b+","+c+" l"+(b+m)+","+c+","+(b+m)+","+(c+m)+","+b+","+(c+m)}).join(" ")+" e";return'<sqrv:shape style="z-index:200; position:absolute; width:'+b+"px; height:"+b+"px; display:block; "+n+'" coordsize="10000,10000" path="'+y+'" filled="t" fillcolor="'+e.color+'" stroked="f" strokecolor="'+e.color+'" strokeweight="0">'+i+"</sqrv:shape>"}}),y={value:"",mode:"byte",errorLevel:"L",size:300,style:{background:null,borderColor:null,borderStyle:null,borderWidth:0,color:"#000000",padding:5}},p=o.extend({init:function(){o.fn.init.apply(this,arguments);var j,d=this,a=d.options,c=a.style,e=a.value,k=(a.mode+"").toLowerCase(),b=a.errorLevel,h=a.dieOnError,i=g.byMode(k),l=new x(a);return f(d.element).css({background:c.background,borderColor:c.borderColor,borderStyle:c.borderStyle,borderWidth:c.borderWidth,width:a.size,height:a.size}),i?i.validate(e)?"L"!=b&&"M"!=b&&"Q"!=b&&"H"!=b?(n("Invalid errorLevel: "+b,h),void 0):(j=i.encode(e,b),f(d.element).html(l.all(j)),void 0):(n("Invalid qrcode value: "+e,h),void 0):(n("Invalid qrcode mode: "+k,h),void 0)},destroy:function(){this.element.empty(),o.fn.destroy.call(this)}});p.defaults=y,d.ui.plugin("QRcode",p)}(jQuery,shield,function(){return this}());
!function(a,g){{var f,d=g.shield,c=d.ui.Widget,e=document,i=navigator.userAgent,j=g.opera,k=/msie/i.test(i)&&!j,h=k&&7===e.documentMode;a.extend}f={show:!1,showImage:!0,text:null,template:null,useSmallImage:!1};var b=c.extend({init:function(){var a=this;c.fn.init.apply(a,arguments),a.refresh(),a.options.show?a.show():a.hide()},destroy:function(){var b=this;a(b.mainElement).remove(),b.options.showImage&&(a(b.loadingImage).remove(),b.loadingImage=null),b.loadingText&&(a(b.loadingText).remove(),b.loadingText=null),a(b.backgroundElement).remove(),b.mainElement=null,b.backgroundElement=null,b.template=null,c.fn.destroy.call(b)},_render:function(){var b=this,f=b.options,c=f.template,d=a("<div/>").appendTo(e.body);if(b.mainElement=d,d.addClass("sui-loading-panel sui-loading-panel-core"),h&&d.addClass("sui-loading-panel-core-ie7"),c){c=a(c.replace(/^\s\s*/,"").replace(/\s\s*$/,"")),c.appendTo(e.body);var j=Math.ceil((b.element.height()-c.height())/2),k=Math.ceil((b.element.width()-c.width())/2);c.css({"z-index":"inherit",position:"relative",dispaly:"block",top:j+"px",left:k+"px"}).appendTo(d),b.template=c}else{if(f.showImage){var g=a("<span/>").appendTo(d);b.loadingImage=g,f.useSmallImage?g.addClass("sui-loading-image-small"):g.addClass("sui-loading-image")}f.text&&b._generateTextElement()}var i=a("<span/>").appendTo(d);b.backgroundElement=i,i.addClass("sui-loading-back"),b._setPosition()},_generateTextElement:function(){var b=a("<span/>").appendTo(this.mainElement);b.get(0).innerHTML=this.options.text,b.addClass("sui-loading-text"),this.loadingText=b},_getMaxZIndex:function(){var b=0;return a("div").each(function(){var c=parseInt(a(this).css("z-index"),10);c>b&&(b=c)}),b},refresh:function(){var a=this,b=(a.options,a.mainElement&&"none"!=a.mainElement.css("display")?!1:!0);a.destroy(),a._render(),b?a.hide():a.show()},_setPosition:function(){var a=this,d=(a.options,a.element),c=d.offset(),b=a._getMaxZIndex()+1;a.mainElement.css({left:Math.ceil(c.left)+"px",top:Math.ceil(c.top)+"px","z-index":b}),h&&(a.loadingText&&a.loadingText.css({"z-index":b+1}),a.loadingImage&&a.loadingImage.css({"z-index":b+1}),a.template&&a.template.css("z-index",b+1))},_setElementsPosition:function(){var a=this,e=a.element.height(),b=a.loadingImage,c=a.loadingText,f=b?b.height():0,g=c?c.height():0,d=Math.ceil((e-f-g)/2);b&&a.loadingImage.css("top",d+"px"),c&&a.loadingText.css("top",d+"px")},show:function(){var a=this,c=a.options,b=a.element;a.mainElement.width(b.get(0).offsetWidth),a.mainElement.height(b.get(0).offsetHeight),a._setPosition(),a.mainElement.css("display",""),c.template||a._setElementsPosition()},hide:function(){this.mainElement.css("display","none")},setText:function(a){this.options.text=a,this.refresh()}});b.defaults=f,d.ui.plugin("LoadingPanel",b),d.ui.LoadingPanel=b}(jQuery,function(){return this}());
!function(b,i){var a=i.shield,d=a.ui.Widget,p=(a.Class,a.DataSource),m=document,j=a.is,q=(a.get,a.format),k=(Math.abs,b.each,b.proxy),s=(b.extend,b.map,i.opera),n=navigator.userAgent,g=/msie/i.test(n)&&!s,f=g&&7===m.documentMode,h="width",o="sui-selected",e="sui-disabled",l="click",r={currentPage:1,totalItems:null,pageSize:10,pageLinksCount:5,directionLinks:!0,boundaryLinks:!0,imageLinks:!1,messages:{infoBarTemplate:"{0} - {1} of {2} items",previousText:"&lsaquo;",nextText:"&rsaquo;",firstText:"&laquo;",lastText:"&raquo;",firstTooltip:"Go to the first page",previousTooltip:"Go to the previous page",nextTooltip:"Go to the next page",lastTooltip:"Go to the last page"}},c=d.extend({init:function(){d.fn.init.apply(this,arguments);var a=this,b=a.options;a.currentPage=b.currentPage,a._createWrappers(),a._createPagerElements(),g&&a.element.on("selectstart",a._selectStart=function(){return!1}),a.element.on(l,"a",a._click=k(a._clickHandler,a)),b.dataSource?(dataSource=a.dataSource=p.create(b.dataSource),changeDelegate=a._changeDelegate=k(a._dataChange,a),dataSource.on("change",changeDelegate),a._updateDataSource()):a.refresh(!0)},destroy:function(){var a=this;a.dataSource&&(a.dataSource.off("change",a._changeDelegate),a._changeDelegate=null),a.pagination=null,a.infoBox=null,a.element.off("selectstart",a._selectStart),a._selectStart=null,a.element.off(l,"a",a._click),a._click=null,a.startLinkIndex=null,a.endLinkIndex=null,a.element.remove(),d.fn.destroy.call(a)},_clickHandler:function(c){{var d=b(c.currentTarget),a=this;a.options}if(c.preventDefault(),!d.parent().hasClass(e)){var f=parseInt(d.attr("data-page"));a.currentPage=f,a.refresh()}},_createWrappers:function(){var a=this,c=a.element;c.addClass("sui-pager sui-pager-core");var d=b("<ul />").appendTo(c);f?d.addClass("sui-pagination sui-pagination-ie7"):d.addClass("sui-pagination");var e=b("<div />").appendTo(c);g&&!f?e.addClass("sui-pager-info-box-ie"):e.addClass("sui-pager-info-box"),a.pagination=d,a.infoBox=e},_updateInfoBox:function(){var b=this,a=b.options,e=a.messages,c=a.pageSize*(b.currentPage-1)+1,d=c-1+a.pageSize,f=Math.ceil(a.totalItems/a.pageSize);d>a.totalItems&&(d=a.totalItems),0===a.totalItems&&(c=0);var g=q(e.infoBarTemplate,c,d,a.totalItems,b.currentPage,f);b.infoBox.empty(),b.infoBox.html(g)},_createPagerElements:function(){var i=this,d=i.options,c=d.messages,j=i.currentPage,l=i.pagination,k=Math.ceil(d.totalItems/d.pageSize),u=Math.min(d.pageLinksCount,k),a=navigationLinksClass=disabledPrevClass=disabledNextClass=selected="",t=parseInt((j-1)/d.pageLinksCount),p=t*d.pageLinksCount+1;1==j&&(disabledPrevClass=" "+e),j!=k&&d.totalItems||(disabledNextClass=" "+e),d.imageLinks&&(c.previousText="&nbsp;",c.nextText="&nbsp;",c.firstText="&nbsp;",c.lastText="&nbsp;",navigationLinksClass="sui-navigation-links ");var s=Math.min(p+u,k+1);i.startLinkIndex=p,i.endLinkIndex=s-1,t>0&&(a+="<li class='sui-pager-element'><a data-page='"+(i.startLinkIndex-1)+"'>...</a></li>");for(var g=p;s>g;g++)g==j&&(selected=" "+o),a+="<li class='sui-pager-element'><a data-page='"+g+"' class='sui-pager-number"+selected+"'>"+g+"</a></li>",selected="";i.endLinkIndex<k&&(a+="<li class='sui-pager-element'><a data-page='"+(i.endLinkIndex+1)+"'>...</a></li>"),d.directionLinks&&(a="<li class='sui-pager-element"+disabledPrevClass+"'><a title='"+c.previousTooltip+"' data-page='"+(j-1)+"' class='"+navigationLinksClass+"sui-prev'>"+c.previousText+"</a></li>"+a,a=a+"<li class='sui-pager-element"+disabledNextClass+"'><a title='"+c.nextTooltip+"' data-page='"+(j+1)+"' class='"+navigationLinksClass+"sui-next'>"+c.nextText+"</a></li>"),d.boundaryLinks&&(a="<li class='sui-pager-element"+disabledPrevClass+"'><a title='"+c.firstTooltip+"' data-page='1' class='"+navigationLinksClass+"'>"+c.firstText+"</a></li>"+a,a=a+"<li class='sui-pager-element"+disabledNextClass+"'><a title='"+c.lastTooltip+"' data-page='"+k+"' class='"+navigationLinksClass+"'>"+c.lastText+"</a></li>"),l.html(a);var m=l.find("a");if(m.length>0&&(b(m[0]).addClass("sui-first"),b(m[m.length-1]).addClass("sui-last")),f){var n=l.find("li");if(n.length>0){for(var q=0,g=0;g<n.length;g++){var r=n[g].clientWidth;q+=r,b(n[g]).css(h,r+"px")}l.css(h,q+"px")}}},_dataChange:function(){var a=this,c=a.options,b=a.dataSource,d=b.take,e=Math.ceil(b.skip/d)+1;a.currentPage=e,c.pageSize=d,c.totalItems=b.total,a.refresh(!0)},refresh:function(c){{var a=this,b=a.options;Math.ceil(b.totalItems/b.pageSize),a.currentPage,a.dataSource}a.pagination.empty(),a._createPagerElements(),a._updateInfoBox(),c||(a._updateDataSource(),a.trigger("change",{currentPage:a.currentPage,pageSize:b.pageSize}))},_updateDataSource:function(){var b=this,a=b.dataSource,c=b.options;a&&(a.skip=(b.currentPage-1)*c.pageSize,a.take=c.pageSize,a.read())},page:function(b){var a=this;if(!b)return a.currentPage;var c=parseInt(b);a._isValidPage(c)&&(a.currentPage=c,a.refresh())},first:function(){this.currentPage=1,this.refresh()},last:function(){var a=this,b=a.options,c=Math.ceil(b.totalItems/b.pageSize);a.currentPage=c,a.refresh()},next:function(){var a=this,b=a.options,c=Math.ceil(b.totalItems/b.pageSize);a.currentPage!=c&&(a.currentPage=a.currentPage+1,a.refresh())},prev:function(){{var a=this;a.options}1!=a.currentPage&&(a.currentPage=a.currentPage-1,a.refresh())},pageSize:function(b){var a=this,c=a.options;if(!b)return c.pageSize;var d=parseInt(b);a._isValidPageSize(d)&&(a.currentPage=1,c.pageSize=d,a.refresh())},_isValidPage:function(c){var b=this.options,d=Math.ceil(b.totalItems/b.pageSize);return j.integer(c)?c>d||1>c?(a.error("Invalid page number. The page number must be greater than 0 and less than "+d+".",b.dieOnError),!1):!0:(a.error("Invalid page number. The page number must integer.",b.dieOnError),!1)},_isValidPageSize:function(b){var c=this.options;return j.integer(b)?1>b?(a.error("Invalid page number. The page number must be greater than 0 (zero).",c.dieOnError),!1):!0:(a.error("Invalid page size number. The page size number must be integer.",c.dieOnError),!1)}});c.defaults=r,a.ui.plugin("Pager",c),a.ui.Pager=c}(jQuery,function(){return this}());
!function(a,q){function H(a){var b,d=" ";if(a){if(c.string(a))return a;for(b in a)d+=b+'="'+a[b]+'"'}return d}function M(e,f){var b=a(e.target).closest(".sui-cell",f);if(!b.length)return null;var c=b[0].parentNode,d=b[0];return null==c||null==d?null:{row:c,cell:d}}{var y,b=q.shield,t=b.ui.Widget,h=b.Class,O=b.DataSource,f=document,c=b.is,P=b.is.func,j=a.each,d=a.proxy,E=b.get,m=b.format,B=Math.abs,l=b.support,s=navigator.userAgent,R=q.opera,o=/msie/i.test(s)&&!R,k=o&&7===f.documentMode,N=o&&8===f.documentMode,V=(o&&10===f.documentMode,8===f.documentMode,/AppleWebKit/.test(s)),x=(/Firefox/.test(s),"height"),U="sui-selectable",e="sui-selected",w="change",C="start",D="scroll",n="command",F="selectionChanged",G="dataBound",v="mousedown",i="mousemove",p="mouseup",K="resize",g="click",L="sort",J="detailCreated",I="columnReorder",u=a.extend;a.map}y={columns:[],rowHover:!0,scrolling:!1,paging:!1,columnReorder:!1};var Q=h.extend({init:function(a){var b=this;c.string(a)?b.field=a:c.object(a)&&(b.field=a.field,b.title=a.title,b.format=a.format,b.width=a.width,b.minWidth=a.minWidth,b.maxWidth=a.maxWidth,b.resizable=null!=a.resizable?!!a.resizable:!0,b.attributes=a.attributes,b.headerAttributes=a.headerAttributes,b.headerTemplate=a.headerTemplate,b.columnTemplate=a.columnTemplate)},destroy:function(){var a=this;a.field=null,a.title=null,a.format=null,a.width=null,a.minWidth=null,a.maxWidth=null,a.resizable=null,a.attributes=null,a.headerAttributes=null,a.headerTemplate=null,a.columnTemplate=null}}),A=h.extend({init:function(b){var a=this;a.grid=b,a.options=u(!0,{},A.fn.options),b.headerTable.on(i+a.options.ns,".sui-headercell",d(a._showHandle,a))},options:{ns:".shieldGridColumnResizing",width:12,offset:6,min:12},_showHandle:function(h){if(!this.resizing){var c=this,g=c.options,e=(c.grid,c.handle),f=h.pageX,b=c.params=c._params(a(h.currentTarget)),i=f>=b.offset.left&&f<=b.offset.left+g.offset&&b.header.index()>0;b.isRtl&&(i=f>=b.offset.left+b.width-g.offset&&f<=b.offset.left+b.width&&b.header.index()>0),i&&(b=c.params=c._params(b.header.prev())),b.column.resizable&&(f>=b.threshold&&f<=b.edge+g.offset?(e||(e=c.handle=a('<div class="sui-resizable-handle"/>').on(v+g.ns,d(c._down,c)).appendTo(b.header.parents(".sui-headercontent"))),e.css({top:b.position.top,left:e.parent()[0].scrollLeft+b.handleLeft,width:g.width,height:b.height}).show()):e&&e.hide())}},_params:function(b){var f=this,a=f.options,j=b.offset(),g=b.position(),d=l.isRtl(f.grid.element),e=b.outerWidth(),h=j.left+(d?a.width:e),i=b.index(),c=f.grid.columns[i],k=c.minWidth>=0?+c.minWidth:a.min,m=c.maxWidth>=k?+c.maxWidth:null;return{header:b,index:i,column:c,min:k,max:m,offset:j,isRtl:d,width:e,current:e,height:b.outerHeight(),edge:h,threshold:h-a.width+(d?-1:1)*a.offset,position:g,handleLeft:g.left+(d?a.width:e)-a.width+(d?-1:1)*a.offset}},_down:function(h){var g,c=this,j=c.grid,e=c.params;if(!(h.button>1)&&e)return g="> colgroup col:nth-child("+(e.index+1)+")",e.origin=h.pageX,e.cols=a().add(j.headerTable.find(g)).add(j.contentTable.find(g)),c.resizing=!0,c.handle.hide(),a(f).on(i+c.options.ns,d(c._move,c)).on(p+c.options.ns,d(c._up,c)),b.selection(!1),!1},_move:function(d){var c=this,a=c.params,e=(a.isRtl?-1:1)*(d.pageX-a.origin),b=Math.max(a.width+e,a.min);return a.max&&(b=Math.min(b,a.max)),c.resizing?(b!==a.current&&a.cols.width(a.current=b),void 0):(c._up(),void 0)},_up:function(){var c=this,d=c.grid,e=c.params.index,g=c.params.current,h=d.columns[e]||{},i=(d.options.columns||[])[e]||{};c.resizing=!1,c.params=null,h.width=i.width=g+"px",a(f).off(c.options.ns),b.selection(!0)},destroy:function(){var a=this;a._up(),a.grid.headerTable.off(a.options.ns),a.grid=null,a.handle&&(a.handle.off(a.options.ns).remove(),a.handle=null)}}),S=h.extend({init:function(b,d){var a=this;a.grid=d,a.sortExpressions=[],c.boolean(b)?(a.allowUnsort=!0,a.multiple=!1,a.firstAscending=!0,a.ascText="&#9650;",a.descText="&#9660;"):c.object(b)&&(a.allowUnsort=c.undefined(b.allowUnsort)?!0:b.allowUnsort,a.multiple=b.multiple,a.firstAscending=c.undefined(b.firstAscending)?!0:b.firstAscending,a.ascText=c.undefined(b.ascText)?"&#9650;":b.ascText,a.descText=c.undefined(b.descText)?"&#9660;":b.descText),a._initialize()},destroy:function(){var b=this;if(b.allowUnsort=null,b.multiple=null,b.length=0,b.sortExpressions=null,b._click){var c=b.grid.headerTable.find(".sui-link");c.each(function(){a(this).off(g,b._click)}),b._click=null}b.grid=null},_initialize:function(){var b=this,j=b.grid,e=j.dataSource.sort,k=j.columns,h=b.grid.headerTable.find(".sui-headercell");if(b._click=d(b._clickHandler,b),h.each(function(){var c=a(this),d=c.html();c.html(""),a('<a href="#" class="sui-link"></a>').appendTo(c).text(d).on(g,b._click)}),e)for(var f=0;f<e.length;f++)for(var o=e[f],c=0;c<k.length;c++)if(o.path==k[c].field){var l=a(h[c]).find(".sui-link"),m="ascending",n="sui-asc",i=b.ascText;o.desc&&(m="descending",i=b.descText,n="sui-desc"),l.addClass(n),a('<span class="sui-'+m+'">'+i+"</span>").appendTo(l)}},_clickHandler:function(e){var d=a(e.target).closest(".sui-link"),b=this,f=a.inArray(d.parent().get(0),b.grid.headerTable.find(".sui-headercell")),g=b.grid,c=g.columns[f];return d.hasClass("sui-desc")?b.allowUnsort&&b.firstAscending?b._sortInternal(c,!0,!0):b._sortInternal(c,!1,!1):d.hasClass("sui-asc")?b.allowUnsort&&!b.firstAscending?b._sortInternal(c,!1,!0):b._sortInternal(c,!0,!1):b.firstAscending?b._sortInternal(c,!1,!1):b._sortInternal(c,!0,!1),!1},_sortInternal:function(d,c,e){var g=this,f=g.grid,h=f.dataSource,b=h.sort,j=f.trigger(n,{commandName:L,cancel:!1,column:d,desc:c,unsort:e});if(!j.cancel){if(b){if(!g.multiple&&b)b.length=0;else{var i=a.grep(b,function(a){return a.path===d.field&&a.desc===(e?c:!c)});if(i.length>0){var k=a.inArray(i[0],b);b.splice(k,1)}}e||b.push({path:d.field,desc:c})}else e||(b=h.sort=[{path:d.field,desc:c}]);f._refreshOnSort(),f.trigger(L,{column:d,desc:c,unsort:e})}},_sort:function(d,f,g){var e,j=this,c=j.grid,k=c.dataSource,b=k.sort;if(b&&(e=a.grep(b,function(a){return a.path===d&&a.desc===f})),!e||e.length<=0)if(!j.multiple&&b&&(b.length=0),b){var h=!1,i=a.grep(b,function(a){return a.path===d&&a.desc===!f});if(i&&i.length>0){var l=a.inArray(i[0],b);b.splice(l,1),h=!0}g||(b.push({path:d,desc:f}),h=!0),h&&c._refreshOnSort()}else g||(k.sort=[{path:d,desc:f}],c._refreshOnSort());else if(g){var l=a.inArray(e[0],b);b.splice(l,1),c._refreshOnSort()}}}),T=h.extend({init:function(g,f,e,h){var b=this;c.boolean(e)?(b.type="row",b.multiple=!1,b.toggle=!1,b.spreadsheet=!0):c.object(e)&&(b.type=e.type?e.type:"row",b.multiple=e.multiple,b.toggle=e.toggle?e.toggle:!1,b.spreadsheet=c.undefined(e.spreadsheet)?!0:e.spreadsheet),b.parentGrid=h,f.addClass(U),g.addClass("sui-non-selectable"),b.table=f,b.lastSelected=null,f.on(v,b._mouseDown=d(b._mouseDownHandler,b)),f.on(i,b._mouseMove=d(b._mouseMoveHandler,b)),a(document).on(p,b._mouseUp=d(b._mouseUpHandler,b)),o&&f.on("selectstart",b._selectStart=function(){return!1}),b.multiple&&(b.area=a(document.createElement("span")),b.area.addClass("sui-area sui-area-color"))},destroy:function(){var b=this;b.parentGrid=null,b.type=null,b.multiple=null,b.lastSelected=null,b.toggle=null,b.spreadsheet=null,b.table.off(v,b._mouseDown),b._mouseDown=null,b.table.off(i,b._mouseMove),b._mouseMove=null,b.table.off(p,b._mouseUp),a(document).off(p,b._mouseUp),b._mouseUp=null,b.x=null,b.y=null,b.table.off("selectstart",b._selectStart),b._selectStart=null,b.elements=null,b.table=null,b.area&&(b.area.remove(),b.area=null)},select:function(b){var c=this;return b?(b.each(function(){c._selectElement(a(this))}),void 0):c.table.find("."+e)},clear:function(){var a=this;"row"==a.type?a._clearSelectedRows():a._clearSelectedCells()},_getParentTable:function(a){return a?"TABLE"==a[0].nodeName.toUpperCase()?a[0]:a.parent()?this._getParentTable(a.parent()):void 0:void 0},_mouseDownHandler:function(e){var d=this,f=e.pageX,g=e.pageY,c=a(e.target);d.x=f,d.y=g,("TD"!=c[0].nodeName.toUpperCase()||d._getParentTable(c)==d.table[0])&&(!(c.hasClass("sui-cell")||c.hasClass("sui-row")||c.hasClass("sui-alt-row"))||c.hasClass("sui-detail-cell")||c.hasClass("sui-detail-row")||c.hasClass("sui-collapse-cell")||c.hasClass("sui-expand-cell")||c.hasClass("sui-indent-cell")||(d.multiple&&d.area.appendTo(document.body).css({left:f+1,top:g+1,width:0,height:0}),a(document).on(i,d._mouseMove),b.selection(!1),d.elements=M(e,d.table)))},_mouseMoveHandler:function(b){var a=this,c=b.pageX,d=b.pageY,e=a.x,f=a.y,g={left:e>c?c:e,top:f>d?d:f,width:B(c-a.x),height:B(d-a.y)};a.multiple&&a.area.css(g),b.preventDefault()},_mouseUpHandler:function(h){var c=this,k=h.ctrlKey,f=c.area,j=c.elements;if(a(document).off(i,c._mouseMove),b.selection(!0),j){c.elementsToBeSelected=[],"row"==c.type?c._performRowSelection(f,k,j,h):c._performCellSelection(f,k,j,h);for(var g=[],e=0;e<c.elementsToBeSelected.length;e++){var d=c.elementsToBeSelected[e];!(d.hasClass("sui-cell")||d.hasClass("sui-row")||d.hasClass("sui-alt-row"))||d.hasClass("sui-detail-cell")||d.hasClass("sui-detail-row")||d.hasClass("sui-collapse-cell")||d.hasClass("sui-expand-cell")||d.hasClass("sui-indent-cell")||g.push(d)}var l=c.parentGrid.trigger(n,{commandName:F,cancel:!1,toBeSelected:g});if(!l.cancel){for(var e=0;e<g.length;e++)c._selectElement(g[e]);c.parentGrid.trigger(F),c.elements=null}}f&&f.remove()},_performRowSelection:function(e,f,d,b){var c=this;if(!(a(b.target).hasClass("sui-expand-cell")||a(b.target).hasClass("sui-collapse-cell")||a(b.target)&&a(b.target).parent()&&(a(b.target).parent().hasClass("sui-expand-cell")||a(b.target).parent().hasClass("sui-collapse-cell"))))if(e&&0==e.height()&&0==e.width())c.multiple?c._processMultiRowSelection(b,d):c._processSingleRowSelection(b,d);else if(c.multiple){var h=c.table.find(">tbody > tr"),g=null;j(h,function(f,c){var d=a(c),e=d.offset().top;e<b.pageY&&(g=c.rowIndex)}),f||c._clearSelectedRows(),c._selectRowRange(d.row.rowIndex,g,f)}else c._processSingleRowSelection(b,d)},_performCellSelection:function(g,i,h,b){var c=this;if(!(a(b.target).hasClass("sui-expand-cell")||a(b.target).hasClass("sui-collapse-cell")||a(b.target)&&a(b.target).parent()&&(a(b.target).parent().hasClass("sui-expand-cell")||a(b.target).parent().hasClass("sui-collapse-cell"))))if(g&&0==g.height()&&0==g.width())c.multiple?c._processMultiCellSelection(b,h):c._processSingleCellSelection(b,h);else if(c.multiple){var k=c.table.find(">tbody > tr > td"),d=[];j(k,function(s,j){var e=a(j),p=e.get(0).clientWidth,r=e.get(0).clientHeight,g=e.offset().top,h=e.offset().left,n=g+r,m=h+p,k=Math.min(b.pageX,c.x),o=Math.max(b.pageX,c.x),l=Math.min(b.pageY,c.y),q=Math.max(b.pageY,c.y),i=!1,f=!1;l>g?n>l&&(i=!0):q>g&&(i=!0),k>h?m>k&&(f=!0):o>h&&(f=!0),i&&f&&d.push(j)}),i||c._clearSelectedCells();for(var f=0;f<d.length;f++){var l=a(d[f]);l.hasClass(e)?c._deselectElement(a(d[f])):c.elementsToBeSelected.push(a(d[f]))}}else c._processSingleCellSelection(b,h)},_selectRowRange:function(f,g,h){for(var b=this,i=Math.min(f,g),j=Math.max(f,g),k=b.table.find(">tbody > tr"),d=i;j>=d;d++){var c=a(k[d]);h?c.hasClass(e)?b._deselectElement(c):b.elementsToBeSelected.push(c):b.elementsToBeSelected.push(c)}},_clearSelectedRows:function(){var b=this,c=b.table.find(">tbody>tr."+e);j(c,function(d,c){b._deselectElement(a(c))})},_clearSelectedCells:function(){var b=this,c=b.table.find(">tbody > tr > td."+e);j(c,function(d,c){b._deselectElement(a(c))})},_processSingleRowSelection:function(i,d){var b=this,f=(b.table,b.toggle),g=b.multiple,c=a(d.row),h=c.hasClass(e);g||b._clearSelectedRows(),f?h?b._deselectElement(c):b.elementsToBeSelected.push(c):(b._clearSelectedRows(),b.elementsToBeSelected.push(c)),b.lastSelected=c},_processMultiRowSelection:function(g,h){var b=this,p=b.table,k=g.ctrlKey,l=g.shiftKey,c=a(h.row);if(k)c.hasClass(e)?(b._deselectElement(c),b.lastSelected=c):(b.elementsToBeSelected.push(c),b.lastSelected=c);else if(l){{b.table.find(">tbody tr."+e)}if(b.lastSelected){var q=b.lastSelected,d=q.get(0).rowIndex,i=p.find(">tbody > tr"),j=c.get(0).rowIndex,n=Math.min(j,d),o=Math.max(j,d);b._clearSelectedRows();for(var f=n;o>=f;f++)if(f!==d){var m=a(i[f]);b.elementsToBeSelected.push(m)}b.elementsToBeSelected.push(a(i[d]))}else b.elementsToBeSelected.push(cell),b.lastSelected=c}else b._processSingleRowSelection(g,h)},_processSingleCellSelection:function(i,d){{var b=this,f=(b.table,b.toggle),g=b.multiple,c=a(d.cell),h=c.hasClass(e);b.lastSelected}g||b._clearSelectedCells(),f?h?b._deselectElement(c):b.elementsToBeSelected.push(c):(b._clearSelectedCells(),b.elementsToBeSelected.push(c)),b.lastSelected=c},_processMultiCellSelection:function(g,t){var b=this,x=b.table,v=g.ctrlKey,u=g.shiftKey,c=a(t.cell);if(v)c.hasClass(e)?(b._deselectElement(c),b.lastSelected=c):(b.elementsToBeSelected.push(c),b.lastSelected=c);else if(u)if(b.lastSelected){var j=b.lastSelected,k=b.table.get(0),r=k.rows[0].cells.length,m=j.parent().get(0).rowIndex,f=m*r+j.get(0).cellIndex,p=x.find(">tbody > tr > td"),n=c.parent().get(0).rowIndex,q=n*r+c.get(0).cellIndex,l=Math.min(q,f),h=Math.max(q,f);if(b._clearSelectedCells(),b.spreadsheet){var k=k,o=j[0].cellIndex,s=c[0].cellIndex;l=Math.min(o,s),h=Math.max(o,s),fromRow=Math.min(m,n),toRow=Math.max(m,n);for(var d=fromRow;toRow>=d;d++)for(var w=k.rows[d],i=l;h>=i;i++)b.elementsToBeSelected.push(a(w.cells[i]))}else for(var d=l;h>=d;d++)if(d!==f){var y=a(p[d]);b.elementsToBeSelected.push(y)}b.elementsToBeSelected.push(a(p[f]))}else b.elementsToBeSelected.push(c),b.lastSelected=c;else b._processSingleCellSelection(g,t)},_selectElement:function(a){a.addClass(e)},_deselectElement:function(a){a.removeClass(e)}}),z=h.extend({init:function(b){var a=this;a.grid=b,a.options=u(!0,{},z.fn.options),a._events(!0),b.headerTable.addClass("sui-reorderable")},options:{ns:".shieldGridColumnReorder",returnDuration:150,returnEasing:"ease-out",dragTreshold:20,draggedTemplate:"<div class='sui-grid sui-grid-core'><div class='sui-gridheader'><table class='sui-table'><thead><tr class='sui-columnheader'><th class='sui-headercell'>{0}</th></tr></thead></table></div></div>"},_events:function(){var a=this;a.grid.element.on("mousedown"+a.options.ns,".sui-headercell",d(a._down,a))},_down:function(e){var c=this,g=a(e.target),j=g.offset(),h=c.grid.element,k=h.offset(),m=c.options.ns;if(!(e.button>1))return a(f).on(i+m,d(c._move,c)).on(p+m,d(c._up,c)),c.start={left:e.pageX-j.left,top:e.pageY-j.top,x:e.pageX,y:e.pageY,target:g,index:g.index(".sui-headercell"),positions:c._positions(g),gridPosition:{left:k.left,top:k.top,width:h.outerWidth(),height:h.outerHeight()},isRtl:l.isRtl(h)},b.selection(!1),!1},_move:function(i){var d=this,j=d.options,h=d.dragged,c=d.start,e=i.pageX,g=i.pageY,k=j.dragTreshold;h?(h.css({left:e-c.left,top:g-c.top}),d.hovered=d._index(e,g),d._indicator()):(Math.abs(c.x-e)>k||Math.abs(c.y-g)>k)&&(h=d.dragged=a(b.format(j.draggedTemplate,c.target.html())).css({position:"absolute",left:e-c.left,top:g-c.top,zIndex:999}).find("table").css("width","auto").end().find("th").attr("style",c.target[0].style.cssText).css({width:c.target.width(),height:c.target.height()}).end().appendTo(f.body))},_positions:function(f){var a,c,d=f.parent().children(".sui-headercell"),b=0,e=[];for(b;b<d.length;b++)a=d.eq(b),c=a.offset(),e.push({left:c.left,top:c.top,width:a.outerWidth(),height:a.outerHeight()});return e},_index:function(d,e){var a,c,g,h,f=this.start,b=f.gridPosition;for(c=0;c<f.positions.length;c++)if(a=f.positions[c],g=a.left<=d&&d<=a.left+a.width&&a.top<=e&&e<=a.top+a.height,h=b.left<=d&&d<=b.left+b.width&&b.top<=e&&e<=b.top+b.height,g&&h)return c;return-1},_indicator:function(){var h,e=this,b=e.start,c=e.hovered,g=b.positions[c],d=e.reorderIndicator,j=b.gridPosition.left,k=b.gridPosition.left+b.gridPosition.width,i=b.target.parent().children(".sui-headercell"),l=b.isRtl?b.index<c:b.index>c;i.removeClass("sui-reorder-target"),d&&d.hide(),null!=c&&c>-1&&(i.eq(c).addClass("sui-reorder-target"),d||(d=e.reorderIndicator=a("<div class='sui-grid-reorder-indicator'><span class='sui-grid-indicator-top' /><span class='sui-grid-indicator-bottom' /></div>").appendTo(f.body)),c!==b.index&&(h=g.left+(l?0:g.width),d.css({left:Math.min(Math.max(j,h),k),top:g.top,height:g.height}).show()))},_up:function(){var d,c=this,h=c.options,j=c.grid,i=c.dragged,e=c.start,g=c.hovered;i&&(i.css({left:e.x-e.left,top:e.y-e.top,transition:b.format("left {0} {1}ms, top {0} {1}ms",h.returnEasing,h.returnDuration)}),null!=g&&g>-1?(i.remove(),d=j.trigger(n,{commandName:I,cancel:!1,index:e.index,newIndex:g}),d.cancel||j.reorderColumn(e.index,g)):setTimeout(function(){i.remove()},l.transitions?h.returnDuration:0)),c.dragged=null,c.hovered=g=null,c._indicator(),c.reorderIndicator&&(c.reorderIndicator.remove(),c.reorderIndicator=null),c.start=null,a(f).off(h.ns),b.selection(!0),d&&!d.cancel&&(delete d.cancel,delete d.commandName,j.trigger(I,d))},destroy:function(){var a=this;a._events(!1),a.grid.headerTable.removeClass("sui-reorderable")}}),r=t.extend({init:function(){t.fn.init.apply(this,arguments),this.refresh(),this._dM()},destroy:function(){this._destroyInternal(),t.fn.destroy.call(self)},_destroyInternal:function(){{var b=this;b.options}if(b.contentWrapper){a(q).off(K+b._rsNS,b._resize),b._resize=null,b._rsNS=null,b.dataSource.off(w,b._dsChange),b.dataSource.off(C,b._dsStart),b._dsChange=b._dsStart=b.dataSource=null,b.sorting&&(b.sorting.destroy(),b.sorting=null),b.virtualizedContainer&&(b.virtualizedContainer.destroy(),b.virtualizedContainer=null);for(var c=0;c<b.columns;c++)b.columns[c].destroy();b.contentWrapper&&b.contentWrapper.off(D,b._hScrollHandler),b._hScrollHandler=null,b.scrollableWrapper=null,b._selectable&&(b._selectable.destroy(),b._selectable=null),b.options.scrolling?(b.contentWrapper.parent().remove(),b.headerWrapper.parent().remove()):(b.contentWrapper.remove(),b.headerWrapper.remove()),b._hasDetailTemplate()&&(b.contentTable.off(g,".sui-expand-cell",b._toggleDetailTemplateHandler),b.contentTable.off(g,".sui-collapse-cell",b._toggleDetailTemplateHandler),b._toggleDetailTemplateHandler=null),b.columns=null,b.contentWrapper=null,b.headerWrapper=null,b.contentTable=null,b.hederTable=null,b.pager&&(b.pager.destroy(),b.pager=null,b.pagerWrapper&&(b.pagerWrapper.parent().remove(),b.pagerWrapper=null)),b.loadingPanel&&(b.loadingPanel=null,clearTimeout(b.loadingPanelTimeout),b.loadingPanelTimeout=null),b._columnResizing&&(b._columnResizing.destroy(),b._columnResizing=null),b._columnReorder&&(b._columnReorder.destroy(),b._columnReorder=null),b._sortingInProgress=null,b._scrollLeft=null,b._scrollTop=null,b.element.removeClass("sui-grid sui-grid-core").css(x,"").empty()}},_dM:function(){var b=function(b){return a("<div/>").html(b).text()},c="&#68;&#101;&#109;&#111;&#32;&#86;&#101;&#114;&#115;&#105;&#111;&#110;",d=document.createTextNode(b(c));a(d).insertAfter(a(this.element))},_resizeHandler:function(){this.options.scrolling&&this._scrolling()},_hasDetailTemplate:function(){var a=this.options;return a.detailTemplate||a.events&&a.events.detailCreated},_hasVirtualScrolling:function(){var b=this,a=b.options;return a.scrolling&&a.scrolling.virtual&&!a.paging&&!b._hasDetailTemplate()},_canExpandCollapse:function(){return this.options.detailExpandCollapse!==!1},_resolveColumns:function(a){var d=this.columns=[];return c.array(a)?(j(a,function(b,a){d.push(new Q(a))}),void 0):(b.error("Invalid columns declaration. The columns have to be array.",this.options.dieOnError),void 0)},_createWrappers:function(){var b=this,e=b.element;b._wrapper();var c=c=a("<div />").prependTo(e);c.addClass("sui-gridcontent");var d=d=a("<div />").prependTo(e);d.addClass("sui-gridheader"),b.headerWrapper=d,b.contentWrapper=c},_wrapper:function(){var b=this.options.height,a=this.element;a.is("div")||(a=a.wrap("<div/>").parent()),a.addClass("sui-grid sui-grid-core"),a&&a.css(x,b)},_createHeaderTable:function(){var b=this,d=b.headerWrapper,c=b.element;c.is("table")||(c=d.children("table"),c.length||(c=a("<table />").appendTo(d))),k&&c.attr("cellspacing",0),c.addClass("sui-table"),b.headerTable=c,b._createTbody(b.headerTable,!0),b._createThead(b.headerTable,!0),b._createFakeRow(c,b.columns.length)},_createContentTable:function(){var b=this,f=b.options,e=b.contentWrapper,c=b.element;c.is("table")||(c=e.children("table"),c.length||(c=a("<table />").appendTo(e))),k&&c.attr("cellspacing",0),c.addClass("sui-table"),f.rowHover&&c.addClass("sui-hover"),b._hasDetailTemplate()&&(b._canExpandCollapse()&&c.addClass("sui-expandable"),c.on(g,".sui-expand-cell",b._toggleDetailTemplateHandler=d(b._expandCollapseDetailTemplate,b)),c.on(g,".sui-collapse-cell",b._toggleDetailTemplateHandler)),b.contentTable=c,b._createTbody(b.contentTable,!1)},_createTbody:function(c,d){var b=c.find(">tbody");b.length||(b=a("<tbody/>").appendTo(c)),d&&b.addClass("sui-hide"),c.tbody=b},_createThead:function(e){var g,l,b,i,c,f=this,h=(f.options,f.columns),j="",d=e.find(">thead");if(d.length||(d=a("<thead/>").insertBefore(e.tbody)),b=e.find("tr:has(th):first"),b.length||(b=d.children().first(),b.length||(b=a("<tr/>"))),!b.children().length){for(g=0,l=h.length;l>g;g++)c=h[g],i=c.headerTemplate||c.title||c.field||c,j+="<th"+H(c.headerAttributes)+">"+i+"</th>";b.html(j)}if(b.addClass("sui-columnheader"),b.find("th").addClass("sui-headercell"),h.length&&f._hasDetailTemplate()&&f._canExpandCollapse()){var m=a("<th class='sui-indent-cell' />");k&&m.html("&nbsp;"),m.prependTo(b)}b.appendTo(d),e.thead=d},_createFakeRow:function(e,f){var b=e.find(">tbody");if(b.length){for(var c=a("<tr/>"),d=0;f>d;d++)a("<td/>").appendTo(c);c.appendTo(b)}},_createColgroup:function(g){var e,h,f=this,j=f.options,i=f.columns,b=g.find(">colgroup");for(b.length||(b=a("<colgroup/>").prependTo(g)),b.html(""),j.columns.length&&f._hasDetailTemplate()&&f._canExpandCollapse()&&a("<col class='sui-indent-col'/>").appendTo(b),e=0,h=i.length;h>e;e++){var d=i[e].width;a(d&&0!==parseInt(d,10)?m('<col style="width:{0}"/>',c.string(d)?d:d+"px"):"<col />").appendTo(b)}},_scrolling:function(){var g,i,c=this,q=c.element,h=c.dataSource,p=c._hasVirtualScrolling(),f=c.headerWrapper,e=c.contentWrapper,n=f.outerHeight();if(f.parent().hasClass("sui-gridheader sui-scrolldiv"))n=f.parent().outerHeight();else{f.addClass("sui-headercontent").removeClass("sui-gridheader"),f.wrap("<div class='sui-gridheader sui-scrolldiv'></div>"),e.addClass("sui-content").removeClass("sui-gridcontent"),e.wrap("<div class='sui-gridcontent sui-scroller'></div>"),k&&(c.headerTable.addClass("sui-table-ie7").removeClass("sui-table"),c.contentTable.addClass("sui-table-ie7").removeClass("sui-table"));var m="padding-right";l.isRtl(c.element)&&(m="padding-left"),a(c.element).find(".sui-scrolldiv").css(m,l.scrollbar()-1),i=c.scrollableWrapper=p?e.parent():e,i.on(D,c._hScrollHandler=d(c._hscroll,c))}if(g=q.innerHeight()-n,c.pagerWrapper&&(g-=c.pagerWrapper.outerHeight()),a(e).add(e.parent()).css({height:g,width:"100%"}),p&&h.view&&h.view.length)c.virtualizedContainer?c.virtualizedContainer.render():c.virtualizedContainer=new b.ui.VirtualizedContainer(i,{itemHeight:c._renderRow(0).appendTo(c.contentTable.tbody).outerHeight(),total:h.total,createContainer:function(a){return a.addClass("sui-content").append(c.contentTable).find("tbody").empty()},getItems:d(c._loadVirtualRows,c)}),c.contentWrapper=c.virtualizedContainer.element.children().eq(0);else if(o&&!k&&!N){var j=e.get(0);j.scrollWidth>j.clientWidth||e.css(x,g+1)}},_loadVirtualRows:function(d,e,f){var c,a=this,b=a.dataSource,g=null!=b.skip?b.skip:0,i=null!=b.take?b.take:b.view.length,j=100;if(!a._sortingInProgress&&b.remote&&(g>d||e>g+i))clearTimeout(a._loadWaitTimeout),a._loadWaitTimeout=setTimeout(function(d,e,f){return function(){a._loadWaitTimeout=null,b.skip=d,b.take=e-d,a._loadingVirtualRows=!0,b.read().then(function(){if(!a._loadWaitTimeout){var g=[];for(c=d;e>c&&c<b.total;c++)g.push(a._renderRow(c-d));b.one(w,function(){a._loadWaitTimeout||(a._loadingVirtualRows=!1)}),a.loading(!1),f(g)}})}}(d,e,f),j);else{var h=[];for(c=d;e>c&&c<b.total;c++)h.push(a._renderRow(c));f(h)}},_hscroll:function(){var b=this,d=b.scrollableWrapper,a=d.get(0),e=b.headerWrapper,c=d.scrollLeft(),f=e.scrollLeft();l.isRtl(b.element)&&V&&a.clientHeight<a.scrollHeight&&(c+=a.offsetWidth-a.clientWidth),c!=f&&e.scrollLeft(c)},_sorting:function(){{var a=this,b=a.options.sorting;a.element}b&&a.columns.length&&(a.sorting=new S(b,a))},_renderData:function(){{var e,b=this,f=b.dataSource.view,d=b.options;d.scrolling,c.undefined(d.altRows)?!0:d.altRows,d.rowTemplate,d.altRowTemplate,b.contentTable}if(!b._loadingVirtualRows){var h=b.trigger(n,{commandName:G,cancel:!1});if(!h.cancel){b._sortingInProgress?b._updateGrid():(b.columns.length||(e=[],f.length&&j(f[0],function(a){e.push(a)}),d.columns=e,b._resolveColumns(e),b._createThead(b.headerTable,!0)),b._createColgroup(b.headerTable)),b._createColgroup(b.contentTable),b._renderRows();var g=function(b){return a("<div/>").html(b).text()},i=g("&#83;&#104;&#105;&#101;&#108;&#100;&#85;&#73;");b.loading(!1);var k=g("&#104;&#116;&#116;&#112;&#58;&#47;&#47;&#119;&#119;&#119;&#46;&#115;&#104;&#105;&#101;&#108;&#100;&#117;&#105;&#46;&#99;&#111;&#109;");b.trigger(G);var l=k;b.dL||(b.dL=a('<a href="'+l+'" target="_blank"> by '+i+"</a>"),a(b.dL).css({color:"grey","text-decoration":"none"}).insertAfter(a(this.element))),b._sortingInProgress=!1}}},_renderRows:function(){var d,h,i,b=this,e=b.options,g=b.dataSource.view,f=b.contentTable;if(f.tbody.empty(),!g.length)return c.undefined(e.noRecordsTemplate)?a("<tr><td>"+(e.noRecordsText||"No records to display")+"</td></tr>").appendTo(f.tbody):a("<td></td>").append(e.noRecordsTemplate).wrap("<tr></tr>").parent().appendTo(f.tbody),void 0;if(!b._hasVirtualScrolling()||b._sortingInProgress)for(d=0,h=g.length;h>d;d++)i=b._renderRow(d),i.appendTo(f.tbody),b._hasDetailTemplate()&&!b._canExpandCollapse()&&b._addDetailTemplate(g[d]);e.scrolling&&!b._sortingInProgress&&b._scrolling()},_renderRow:function(j){var k,f,g,b=this,d=b.options,h=b.dataSource.view[j],q=c.undefined(d.altRows)?!0:d.altRows,p=q&&j%2&&d.altRowTemplate?d.altRowTemplate:d.rowTemplate,l="";if(p)f=a(m(p.replace(/^\s\s*/,"").replace(/\s\s*$/,""),h));else{for(f=a("<tr class='"+(q&&j%2?"sui-alt-row":"sui-row")+"'/>"),g=0;g<b.columns.length;g++){var e=b.columns[g],o=e.field,i="",n=e.columnTemplate;n?i=m(n,h):e.format?(formatFunc=P(e.format)?e.format:function(a){return m(e.format,E(a,o))},i=formatFunc.call(b,h)):i=E(h,o),l+="<td"+H(e.attributes)+">"+i+"</td>"}f.html(l),f.find("td").addClass("sui-cell")}return b._hasDetailTemplate()&&b._canExpandCollapse()&&(k=a("<td class='sui-cell sui-expand-cell' />"),b._setExpandCollapseCellText(k,d.detailExpandText,d.detailCollapseText),k.prependTo(f)),f},_selection:function(){var a=this,b=a.options;b.selection&&(a._selectable=new T(a.headerTable,a.contentTable,b.selection,a))},_paging:function(e){var d=this,g=d.element;if(b.ui.Pager&&e)if(c.object(e)&&e instanceof b.ui.Pager)d.pager=e,d.pager.dataSource=d.dataSource,d.pager.element.appendTo(g);else{var f=a("<div />").appendTo(g);f.addClass("sui-pager"),d.pagerWrapper=f,d.pager=new b.ui.Pager(f.get(0),u({},e,{dataSource:d.dataSource}))}},_reorder:function(){var a=this,b=a.options;b.columnReorder&&(a._columnReorder=new z(a))},_expandCollapseDetailTemplate:function(c){var b=a(c.target).closest(".sui-row",this.contentTable);b.length||(b=a(c.target).closest(".sui-alt-row",this.contentTable)),this._toggleDetailTemplate(b)},_toggleDetailTemplate:function(c){var b=this,g=b.contentTable.find("tr:first").parent().children().not(".sui-detail-row"),h=a.inArray(c[0],g),i=b.dataSource.view,d=c.next(),e=b.options;if(d&&d.hasClass("sui-detail-row")){d.toggle();var f=a(c.get(0).cells[0]);b._toggleClasses(f,"sui-expand-cell","sui-collapse-cell"),b._setExpandCollapseCellText(f,e.detailExpandText,e.detailCollapseText)}else b._addDetailTemplate(i[h],c)},_setExpandCollapseCellText:function(a,e,f){c.undefined(f)&&(f="-"),c.undefined(e)&&(e="+");var b=this.options.detailCollapseCssClass,d=this.options.detailExpandCssClass;b=c.undefined(b)?"":" class = '"+b+"'",d=c.undefined(d)?"":" class = '"+d+"'",a.hasClass("sui-collapse-cell")?a.html("<span"+b+">"+f+"</span>"):a.hasClass("sui-expand-cell")&&a.html("<span"+d+">"+e+"</span>")},_addDetailTemplate:function(g,c){var b=this,d=b.options,e=a("<tr class='sui-detail-row'/>");if(b._canExpandCollapse()){var h=a("<td class='sui-cell sui-indent-cell'/>");k&&h.html("&nbsp;"),h.appendTo(e)}var f=a('<td class="sui-detail-cell" colspan="'+b.columns.length+'"></td>'),j=b.trigger(n,{commandName:J,cancel:!1,detailCell:f,item:g});if(!j.cancel&&(f.appendTo(e),d.detailTemplate&&f.html(m(d.detailTemplate,g)),c?e.insertAfter(c):e.appendTo(b.contentTable.tbody),b.trigger(J,{detailCell:f,item:g}),c)){var i=a(c.get(0).cells[0]);b._toggleClasses(i,"sui-expand-cell","sui-collapse-cell"),b._setExpandCollapseCellText(i,d.detailExpandText,d.detailCollapseText)}},_toggleClasses:function(a,b,c){a.hasClass(b)?(a.removeClass(b),a.addClass(c)):(a.removeClass(c),a.addClass(b))},_resizing:function(){this.options.resizing&&this.options.scrolling&&(this._columnResizing=new A(this))},_refreshOnSort:function(){this._sortingInProgress=!0,this.dataSource.read()},_updateGrid:function(){var c=this,d=b.extend([h],c.options,d);c.sorting&&(c.sorting.destroy(),c.sorting=null),c._hasDetailTemplate()&&(c.contentTable.off(g,".sui-expand-cell",c._toggleDetailTemplateHandler),c.contentTable.off(g,".sui-collapse-cell",c._toggleDetailTemplateHandler),c._toggleDetailTemplateHandler=null),c._selectable&&(c._selectable.destroy(),c._selectable=null),c.headerWrapper.find(".sui-headercell .sui-link").each(function(d,c){var b=a(c);b.parent().html(b.html())}),c.headerWrapper.find(".sui-headercell span").remove(),c._sorting()},_dsStartHandler:function(){this.loading(!0)},refresh:function(e){var c=this,e=b.extend([h],c.options,e),f=c.dataSource,i=e.scrolling,j=c.pager?c.pager.options:e.paging,g=0;i&&c.contentWrapper&&(g=c.contentWrapper.get(0).scrollLeft),c._destroyInternal(),f=c.dataSource=f||O.create(e.dataSource),f.on(w,c._dsChange=d(c._renderData,c)),f.on(C,c._dsStart=d(c._dsStartHandler,c)),c._resolveColumns(e.columns),c._createWrappers(),c._createHeaderTable(),c._createContentTable(),c._selection(),c._paging(j),c._resizing(),c._reorder(),c.pager||c.dataSource.read(),c._sorting(),c._rsNS=".rs."+Math.floor(1e6*Math.random()),a(q).on(K+c._rsNS,c._resize=d(c._resizeHandler,c)),g&&(c.contentWrapper.get(0).scrollLeft=g)},loading:function(c){var a=this;b.ui.LoadingPanel&&(c?(a.loadingPanel||(a.loadingPanel=new b.ui.LoadingPanel(a.element.get(0))),a.loadingPanelTimeout=setTimeout(function(){a.loadingPanel&&a.loadingPanel.show()},50)):a.loadingPanel&&(clearTimeout(a.loadingPanelTimeout),a.loadingPanelTimeout=null,a.loadingPanel.hide()))},select:function(b){var d=this,c=d._selectable;return b=a(b),b.length?(c.multiple||(c.clear(),b=b.first()),c.select(b),void 0):c.value()},clearSelection:function(){this._selectable.clear()},sort:function(a,b,c){this.sorting&&this.sorting._sort(a,b,c)},expandRow:function(d){var b=a(d),c=b.next();c.hasClass("sui-detail-row")?"none"==c.css("display")&&this._toggleDetailTemplate(b):this._toggleDetailTemplate(b)},collapseRow:function(d){var b=a(d),c=b.next();c.hasClass("sui-detail-row")?"none"!=c.css("display")&&this._toggleDetailTemplate(b):(this._toggleDetailTemplate(b),b.next().toggle())},reorderColumn:function(b,c){var d,e=this,f=e.element,g=e.columns,h=e.options.columns||[],k=e.headerWrapper,b=+b,c=+c,i="before",j=k.find(".sui-indent-cell").length;if(isNaN(b)||isNaN(c)||0>b||0>c||b>g.length-1||c>g.length-1)throw new Error("Invalid index in column reorder.");b!==c&&(c>b&&(i="after"),d=g.splice(b,1)[0],g.splice(c,0,d),d=h.splice(b,1)[0],h.splice(c,0,d),b+=j,c+=j,f.find(".sui-gridheader col:nth-child("+(b+1)+")").add(f.find(".sui-gridheader .sui-columnheader th:nth-child("+(b+1)+")")).add(f.find(".sui-gridcontent col:nth-child("+(b+1)+")")).add(f.find(".sui-gridcontent tr:not(.sui-detail-row) td:nth-child("+(b+1)+")")).each(function(){a(this).parent().children().eq(c)[i](this)
}))}});r.defaults=y,b.ui.plugin("Grid",r),b.ui.Grid=r}(jQuery,function(){return this}());
!function(a,g,A,c){var Z,w,V,C,$,T,hb,P,O,x,bb,M,gb,L,ib,R,X,Q,f=g.ui.Widget,_=(g.Class,g.DataSource),i=g.Constants.KeyCode,y=g.error,q=g.is.func,pb=g.is.array,d=g.is.defined,jb=g.to.array,U=g.to.int,z=g.support.browser,u=g.format,Y=document,nb=Math.min,qb=Math.max,N=a.extend,mb=(a.map,a.each),e=a.proxy,db=a.inArray,eb="alt",fb="title",b="disabled",s="checked",D="selected",j="tabindex",h="click",k="keydown",W="keyup",n="change",p="focus",l="blur",B="resize",v="select",lb="input",r="value",E="placeholder",F="selectstart",G="unselectable",H="on",kb="width",J="height",K="suilbitemdata",t="suilbitemindex",I="suilbitemvalue",ab="suilbitemtext",o="uts",m="uti",ob="uto",S=function(c){var b=a(c).prop("tagName").toLowerCase();return b==v?o:b==lb?m:ob},cb=function(d){var c,b=a(d);b.focus(),b.get(0).setSelectionRange?(c=2*b.val().length,b.get(0).setSelectionRange(c,c)):b.val(b.val())};Z={enabled:!0,cls:c,dataSource:c,readDataSource:!0,valueTemplate:c,textTemplate:c,multiple:c,selected:c,values:c,width:c,height:c,maxHeight:c,events:{}},w=f.extend({init:function(g){f.fn.init.apply(this,arguments);var h,r,g,i,b=this,c=b.options,t=c.dieOnError,B=c.dataSource,s=c.selected,q=c.values,w=c.renderToINTERNAL,x=c.wrapOriginalINTERNAL,z=c.tabindexINTERNAL,A=c.filterINTERNAL,u=d(A)?{filter:A}:{};if(doWrap=d(x)?x:!0,b._original=h=a(b.element),b._utype=i=S(h),i==m&&c.multiple)return b.destroy(),y("shieldListBox: Cannot initialize a multi-selection ListBox from an input element.",t),void 0;if(d(q)||d(s)||i!=o&&i!=m||(q=h.val()),doWrap?(b.wrapper=h.wrap("<span/>").parent(),b._isWrapped=!0):b._isWrapped=!1,h.hide(),b._focusHandler=e(b._focus,b),b._blurHandler=e(b._blur,b),b.element=g=a("<ul/>").on(p,b._focusHandler).on(l,b._blurHandler),d(c.width)&&g.css(kb,c.width),d(c.height)&&g.css(J,c.height),d(c.maxHeight)&&g.css("max-height",c.maxHeight),a(w).length>0?a(w).append(g):h.after(g),B)b.dataSource=_.create(N({},B,u)),c.valueTemplate||(c.valueTemplate="{0}"),c.textTemplate||(c.textTemplate="{0}");else{if(i!=o)return b.destroy(),y("shieldListBox: No dataSource or underlying SELECT element found.",t),void 0;b.dataSource=_.create(N({},{data:"#"+h.attr("id"),schema:{type:v}},u)),c.valueTemplate||(c.valueTemplate="{value}"),c.textTemplate||(c.textTemplate="{text}"),d(c.multiple)||(c.multiple=h.not("[multiple]").length<=0)}g.addClass("sui-listbox"),c.cls&&g.addClass(c.cls),r=d(z)?z:h.attr(j),g.attr(j,d(r)?r:"0"),b._keydownHandler=e(b._keydown,b),g.on(k,b._keydownHandler),b._dsChangeHandler=e(b._dsChange,b),b.dataSource.on(n,b._dsChangeHandler),d(q)?b._initValues=q:d(s)&&(b._initSelected=s),c.readDataSource&&b.dataSource.read(),b.enabled(c.enabled)},refresh:function(a){this.refreshWithElement(this._original,a)},_focus:function(){var a=this;a._oldSelection=a.selected(),a.trigger(p)},_blur:function(){var b=this,d=b._oldSelection,c=b.selected();(0!=a(d).not(c).length||0!=a(c).not(d).length)&&b.trigger(n),b._oldSelection=c,b.trigger(l)},_dsChange:function(){var a=this;a._render(),a._dsLoadedOnce||(a._dsLoadedOnce=!0,d(a._initValues)?a.values(a._initValues):d(a._initSelected)&&a.selected(a._initSelected))},_keydown:function(a){var b=this,c=!0;switch(a.keyCode){case i.UP:b._move("up",a);break;case i.DOWN:b._move("down",a);break;case i.SPACE:b._toggleActive(a);break;case i.ENTER:b._toggleActive(a);break;default:c=!1}c&&a.preventDefault()},_render:function(){{var b=this,h=b.options,i=b.dataSource.view,e=h.textTemplate,f=h.valueTemplate,k=q(e)?e:function(a){return u(e,a)},l=q(f)?f:function(a){return u(f,a)},j=a(b.element),d=b._utype,g=b._original;d==m?b._original.val():c}j.empty(),d==o?g.empty():d==m&&g.removeAttr(r),i&&mb(i,function(f,c){var h=l.call(b,c),e=k.call(b,c),i=a("<li>"+e+"</li>").addClass("sui-listbox-item sui-unselectable").click(function(d){b._enabled&&(b._setActive(a(this)),b._toggleActive(d)),b.trigger("itemclick",{index:f,item:c})}).on(F,function(){return!1}).data(K,c).data(t,f).data(I,h).data(ab,e);j.append(i),d==o&&g.append(a("<option/>").attr(r,h).text(e))})},_move:function(e){var c=this,f=a(c.element),d=f.find(".sui-listbox-item-active").first(),b=f.find(":first");c._enabled&&("up"==e?d.prev().length>0&&(b=d.prev()):"down"==e&&(d.next().length>0?b=d.next():d.length>0&&(b=d)),b.length<=0||(c.options.multiple?(c._setActive(b),c._ensureInScrollableArea(b)):c._select(b)))},_ensureInScrollableArea:function(d){var h=this,b=a(h.element),e=b.height(),f=b.scrollTop(),i=d.outerHeight(),c=d.position().top,g=c+i;0>c?b.scrollTop(f+c):g>e&&b.scrollTop(f+(g-e))},ensureActiveViewableINTERNAL:function(){var a=this,b=a._getActive();b.length>0&&a._ensureInScrollableArea(b)},_getActive:function(){return a(this.element).find(".sui-listbox-item-active").first()},_setActive:function(a){a.addClass("sui-listbox-item-active").siblings().removeClass("sui-listbox-item-active")},_setSelected:function(a){a.addClass("sui-listbox-item-selected")},_unsetSelected:function(a){a.removeClass("sui-listbox-item-selected")},_toggleActive:function(a){this._toggle(a,this._getActive())},_toggle:function(c,a){var b=this;b._enabled&&(!a||a.length<=0||(b.options.multiple?a.hasClass("sui-listbox-item-selected")?b._deselect(a):b._select(a):b._select(a)))},_select:function(b,e){var a=this,c=a._original,d=a._utype;a.options.multiple||a.clearSelection(),a._setActive(b),a._ensureInScrollableArea(b),a._setSelected(b),d==o?c.find("option:eq("+b.data(t)+")").attr(D,D):d==m&&c.attr(r,b.data(I)),e||a.trigger(v,{index:b.data(t),item:b.data(K),selected:!0})},_deselect:function(a,e){var b=this,c=b._original,d=b._utype;b._setActive(a),b._unsetSelected(a),d==o?c.find("option:eq("+a.data(t)+")").removeAttr(D):d==m&&c.removeAttr(r),e||b.trigger(v,{index:a.data(t),item:a.data(K),selected:!1})},enabled:function(){var d,c=this,e=a(c.element),f=c._original,g=[].slice.call(arguments);return g.length>0?(d=!!g[0],d?(e.removeAttr(b).removeClass("sui-listbox-disabled"),f.removeAttr(b)):(e.attr(b,b).addClass("sui-listbox-disabled"),f.attr(b,b)),c._enabled=d,void 0):c._enabled},selected:function(){var e,f,c=this,g=a(c.element),b=[].slice.call(arguments);if(!(b.length>0)){var h=[];return g.find(".sui-listbox-item-selected").each(function(){h.push(a(this).data(t))}),h}e=jb(b[0]),f=d(b[1])?!!b[1]:!0,g.find(".sui-listbox-item").each(function(b){db(b,e)>-1&&(f?c._select(a(this),!0):c._deselect(a(this),!0))})},selectedItems:function(){var b=[];return a(this.element).find(".sui-listbox-item-selected").each(function(){b.push(a(this).data(K))}),b},values:function(){var c,b=this,d=a(b.element),e=[].slice.call(arguments);if(!(e.length>0)){var f=[];return d.find(".sui-listbox-item-selected").each(function(){f.push(a(this).data(I))}),f}c=jb(e[0]),d.find(".sui-listbox-item").each(function(){return db(a(this).data(I),c)>-1?(b._select(a(this),!0),b.options.multiple?!0:!1):void 0})},texts:function(){var b=[];return a(this.element).find(".sui-listbox-item-selected").each(function(){b.push(a(this).data(ab))}),b},clearSelection:function(){var b=this,c=b._original,d=b._utype;d==o?c.find("option").removeAttr(D):d==m&&c.removeAttr(r),a(b.element).find(".sui-listbox-item-selected").removeClass("sui-listbox-item-selected sui-listbox-item-active")},destroy:function(){var b=this;a(b.element).off(p,b._focusHandler).off(l,b._blurHandler).remove(),b.dataSource&&b.dataSource.off(n,b._dsChangeHandler),b._dsChangeHandler=b._focusHandler=b._blurHandler=null,b._isWrapped&&b._original.unwrap(),b._original.show(),f.fn.destroy.call(b)}}),w.defaults=Z,g.ui.plugin("ListBox",w),$={enabled:!0,cls:c,autoComplete:c,events:{}},T=f.extend({init:function(c){f.fn.init.apply(this,arguments);var b=this,d=b.options,g=d.autoComplete,h=d.cls,c=a(b.element);c.addClass("sui-input"),g&&(b.autoComplete=new C(c,g)),h&&c.addClass(h),b._focusHandler=e(b._focus,b),c.on(p,b._focusHandler),b._blurHandler=e(b._blur,b),c.on(l,b._blurHandler),b.enabled(d.enabled)},_focus:function(){var a=this;a.oldValue=a._value(),a.int=setInterval(e(a._detectChanges,a),1),a.trigger(p)},_blur:function(){clearInterval(this.int),this.trigger(l)},_detectChanges:function(){var b,a=this;a._enabled&&a.oldValue!==a._value()&&(b=a.trigger(n,{value:a._value(),old:a.oldValue}),b.isDefaultPrevented()?a._value(a.oldValue):a.oldValue=a._value())},_value:function(){return this.element.val.apply(this.element,arguments)},value:function(){return this._value.apply(this,arguments)},enabled:function(){var c,d=this,e=a(d.element),f=[].slice.call(arguments);return f.length>0?(c=!!f[0],c?e.removeAttr(b).removeClass("sui-input-disabled"):e.attr(b,b).addClass("sui-input-disabled"),d._enabled=c,void 0):d._enabled},destroy:function(){var a=this,b=a.autoComplete,c=a.options.cls;clearInterval(a.int),a.element.off(p,a._focusHandler).off(l,a._blurHandler).removeClass("sui-input"+(c?" "+c:"")),a._focusHandler=a._blurHandler=null,b&&b.destroy(),f.fn.destroy.call(a)}}),T.defaults=$,g.ui.plugin("TextBox",T),V={dataSource:c,valueTemplate:"{0}",textTemplate:"{0}",open:!1,delay:200,minLength:2,animation:{enabled:!1,openDelay:200,closeDelay:100},events:{}},C=f.extend({init:function(c){f.fn.init.apply(this,arguments);var b=this,c=a(b.element),d=b.options,h=d.valueTemplate,i=q(h)?h:function(a){return u(h,a)},g=d.dataSource,j=d.dieOnError;return b.pending=0,b.oldValue=c.val(),g?(g.filter||(g.filter={and:[{path:"",filter:"contains",value:""}]}),c.addClass("sui-input"),b.listElement=a("<span/>").appendTo(Y.body),b.listBox=new w(b.listElement,{cls:"sui-autocomplete",dataSource:g,readDataSource:!1,textTemplate:d.textTemplate,multiple:!1,width:c.innerWidth(),events:{select:function(a){b._value(i.call(b,a.item))},itemclick:function(a){c.focus(),b._inputBlur(a,0)},blur:function(a){b._inputBlur(a,0)}}}),b.listBox.element.hide(),b.dataSource=b.listBox.dataSource,b._inputKeydownHandler=e(b._inputKeydown,b),c.on(k,b._inputKeydownHandler),b._inputBlurHandler=e(b._inputBlur,b,100),c.on(l,b._inputBlurHandler),b._dsChangeHandler=e(b._dsChange,b),b.listBox.dataSource.on(n,b._dsChangeHandler),b._winResizeHandler=e(b._position,b),a(A).on(B,b._winResizeHandler),b._open=!1,d.open&&b._searchTimeout(),void 0):(b.destroy(),y("shieldAutoComplete: No dataSource set",j),void 0)},_checkValueUpdated:function(){var a=this,c=a.element,b=c.val();a.oldValue!==b&&(a.trigger(n),a.oldValue=b)},_restoreOldValue:function(){this._value(this.oldValue)},_inputKeydown:function(b){var a=this;switch(b.keyCode){case i.TAB:break;case i.UP:case i.DOWN:a._inputUpDown(b);break;case i.ENTER:b.preventDefault(),a.cancelSearch=!0,a._hideItemList(),a._checkValueUpdated();break;case i.ESC:b.preventDefault(),a.cancelSearch=!0,a._hideItemList(),a._restoreOldValue();break;default:a._searchTimeout(b)}},_inputUpDown:function(c){var b=this;b._open?b._hasData()&&a(b.listBox.element).trigger(c):b._hasData()&&b._showItemList()},_inputBlur:function(d,c){var b=this;setTimeout(function(){a(b.listBox.element).is(":focus")||(b._hideItemList(),b._checkValueUpdated())},c)},_searchTimeout:function(){var a=this;clearTimeout(a.searchTimeout),a.searchTimeout=setTimeout(function(){a.term!==a._value()&&a._search()},a.options.delay)},_search:function(){var b=this;if(b.term=b._value(),b.term.length<b.options.minLength)return b._hideItemList(),void 0;b.cancelSearch=!1,b.pending++,a(b.element).addClass("sui-autocomplete-loading");for(var d in b.listBox.dataSource.filter)for(var c=0;c<b.listBox.dataSource.filter[d].length;c++)b.listBox.dataSource.filter[d][c].value=b.term;b.listBox.dataSource.read()},_dsChange:function(){var b=this;b.pending--,b.pending||a(b.element).removeClass("sui-autocomplete-loading"),!b.cancelSearch&&b._hasData()?b._showItemList():b._hideItemList()},_hasData:function(){var a=this.listBox.dataSource.view;return a&&a.length>0},_position:function(){var c=this,b=a(c.element),e=a(c.listBox.element),d=b.offset(),f=b.outerHeight();e.css({top:d.top+f,left:d.left,width:b.innerWidth()})},_showItemList:function(){var b=this,c=b.listBox,f=a(c.element),d=b.options.animation;b._position(),d&&d.enabled?f.slideDown(d.openDelay,e(c.ensureActiveViewableINTERNAL,c)):(f.show(),c.ensureActiveViewableINTERNAL()),b._open=!0},_hideItemList:function(){var b=this,d=a(b.listBox.element),c=b.options.animation;c&&c.enabled?d.slideUp(c.closeDelay):d.hide(),b._open=!1},_value:function(){return this.element.val.apply(this.element,arguments)},hide:function(){a(this.listBox.element).hide()},show:function(){a(this.listBox.element).show()},isVisible:function(){return a(this.listBox.element).is(":visible")},destroy:function(){var b=this;b.dataSource=null,b.listBox&&(b.listBox.dataSource.off(n,b._dsChangeHandler),b._dsChangeHandler=null,b.listBox.destroy(),b.listBox=null),b.element.off(k,b._inputKeydownHandler).off(l,b._inputBlurHandler).removeClass("sui-input"),a(A).off(B,b._winResizeHandler),b._inputKeydownHandler=b._inputBlurHandler=b._winResizeHandler=null,b.listElement&&b.listElement.remove(),f.fn.destroy.call(b)}}),C.defaults=V,g.ui.plugin("AutoComplete",C),hb={enabled:!0,cls:"",min:0,max:100,value:c,step:1,editable:!0,spinners:!0,valueTemplate:"{0:n0}",textTemplate:"{0:n0}",labels:{increase:"Increase value",decrease:"Decrease value"},events:{}},P=f.extend({init:function(k){f.fn.init.apply(this,arguments);var i,n,k,g,o,p,b=this,c=b.options,q=c.cls,l=c.value,v=c.editable,u=c.spinners,t=c.labels,s=t.increase,r=t.decrease,w=c.dieOnError;return b._original=i=a(b.element),S(i)!=m?(y("shieldNumericTextBox: Underlying element is not INPUT",w),void 0):(b.element=k=i.wrap("<span/>").parent(),i.hide(),d(l)||(l=b._value()),v?(g=a('<input type="text" class="sui-input" />').focus(function(){}).blur(function(){}),n=i.attr(E),d(n)&&g.attr(E,n)):g=a('<span class="sui-input">&nbsp;</span>').attr(j,"0"),b.textElement=g,g.appendTo(k),u&&(b._onSpinUp=e(b._inc_dec,b,!0,!1),b._onSpinDown=e(b._inc_dec,b,!1,!1),b.spinUp=o=a('<span class="sui-spinner sui-unselectable" />').html('<span class="sui-caret-up sui-unselectable" unselectable="on" />').attr(G,H).attr(eb,s).attr(fb,s).on(h,b._onSpinUp).on(F,function(){return!1}),b.spinDown=p=a('<span class="sui-spinner sui-unselectable" />').html('<span class="sui-caret-down sui-unselectable" unselectable="on" />').attr(G,H).attr(eb,r).attr(fb,r).on(h,b._onSpinDown).on(F,function(){return!1}),k.append(a('<span class="sui-spinners" />').append(o,p))),k.addClass("sui-numeric-textbox"+(c.spinners?"":" sui-numeric-textbox-nosp")+(q?" "+q:"")),b.enabled(c.enabled),d(l)&&b.value(l),void 0)},_inc_dec:function(h,c){var a=this,b=a.options,i=b.min,j=b.max,e=U(a.value()),g=a.textElement,f=!1;c=d(c)?!!c:!0,h&&j>e?(a.value(e+b.step),f=!0):e>i&&(a.value(e-b.step),f=!0),b.editable&&(g.focus(),cb(g)),f&&!c&&a.trigger(n,{value:a._value()})},increment:function(){this._inc_dec(!0,!0)},decrement:function(){this._inc_dec(!1,!0)},value:function(){var d,c,a=this,b=a.options,e=b.valueTemplate,f=(q(e)?e:function(a){return g.format(e,a)},b.textTemplate),i=q(f)?f:function(a){return g.format(f,a)},h=[].slice.call(arguments);return h.length>0?(d=qb(nb(h[0],b.max),b.min),c=i.call(this,d)+"",c.length>0&&(b.editable?a.textElement.val(c):a.textElement.html(c),a._value(d)),void 0):a._value()},_value:function(){return this._original.attr.apply(this._original,[r].concat([].slice.call(arguments)))},enabled:function(){var c,d=this,e=a(d.element),f=[].slice.call(arguments);return f.length>0?(c=!!f[0],c?e.removeAttr(b).removeClass("sui-numeric-textbox-disabled"):e.attr(b,b).addClass("sui-numeric-textbox-disabled"),d._enabled=c,void 0):d._enabled},destroy:function(){var b=this;b.options.spinners&&(b.spinUp.off(h,b._onSpinUp),b.spinDown.off(h,b._spinDown),b._onSpinUp=b._spinDown=null,a(b.spinUp).remove(),a(b.spinDown).remove()),a(b.textElement).remove(),b._original.unwrap().show(),b._original=null,f.fn.destroy.call(b)}}),P.defaults=hb,g.ui.plugin("NumericTextBox",P),O={editable:!0,enabled:!0,open:!1,cls:c,dataSource:c,autoComplete:{enabled:!1,delay:200,minLength:0,filter:c},valueTemplate:c,textTemplate:c,inputTemplate:c,selected:c,value:c,width:c,height:c,dropDownWidth:c,dropDownHeight:200,animation:{enabled:!1,openDelay:200,closeDelay:100},events:{}},x=f.extend({init:function(i){f.fn.init.apply(this,arguments);var q,s,x,i,m,D,b=this,g=b.options,r=g.editable,L=g.dieOnError,t=g.dataSource,C=g.autoComplete,u=g.selected,K=g.value,I=c;return b._original=q=a(b.element),b._utype=S(q),t||b._utype==o?(b.pending=0,b.element=i=q.wrap("<span/>").parent(),q.hide(),b._onDDHandler=e(b._onDD,b),r?(m=a('<input type="text" class="sui-input" />').focus(function(){a(this).parent().addClass("sui-combobox-focus")}).blur(function(){a(this).parent().removeClass("sui-combobox-focus"),b._blur()}),x=q.attr(E),d(x)&&m.attr(E,x)):m=a('<span class="sui-input sui-unselectable">&nbsp;</span>').attr(G,H).on(h,b._onDDHandler).on(F,function(){return!1}),b.textElement=m,m.appendTo(i),b.ddElement=D=a('<span class="sui-caret-container sui-unselectable" />').html('<span class="sui-caret sui-unselectable" unselectable="on" />').attr(G,H).on(h,b._onDDHandler).appendTo(i),i.addClass(r?"sui-combobox":"sui-dropdown"),g.cls&&i.addClass(g.cls),s=q.attr(j),r?m.attr(j,d(s)?s:"0"):i.attr(j,d(s)?s:"0"),d(g.width)&&i.width(g.width),d(g.height)&&(i.css(J,g.height),m.css(J,g.height),D.css(J,g.height)),b._keydownHandler=e(b._keydown,b),i.on(k,b._keydownHandler),b._keyupHandler=e(b._keyup,b),i.on(W,b._keyupHandler),b._focusHandler=e(b._focus,b),r?m.on(p,b._focusHandler):i.on(p,b._focusHandler),b._blurHandler=e(b._blur,b),i.on(l,b._blurHandler),b.listElement=a("<span/>").appendTo(Y.body),C&&(I=d(C.filter)?C.filter:t&&t.filter?t.filter:b._utype==o?{and:[{path:"text",filter:"contains",value:""}]}:{and:[{path:"",filter:"contains",value:""}]}),b.listBox=new w(q,{cls:"sui-autocomplete",dataSource:t,readDataSource:!1,valueTemplate:g.valueTemplate,textTemplate:g.textTemplate,multiple:!1,selected:d(u)&&pb(u)?u[0]:u,values:K,width:g.dropDownWidth||i.innerWidth(),maxHeight:g.dropDownHeight,renderToINTERNAL:b.listElement,wrapOriginalINTERNAL:!1,tabindexINTERNAL:z.ie&&z.version<=8?0:-1,filterINTERNAL:I,events:{select:function(a){b._onLBSelChanged(),b.trigger(v,{index:a.index,item:a.item})},itemclick:function(){r?m.focus():i.focus(),b._hideDD()},blur:function(){setTimeout(e(b._blur,b),20)}}}),b.listBox.element.hide(),b.dataSource=b.listBox.dataSource,b._dsChangeHandler=e(b._dsChange,b),b.listBox.dataSource.on(n,b._dsChangeHandler),b.listBox.dataSource.read(),b._winResizeHandler=e(b._position,b),a(A).on(B,b._winResizeHandler),b.enabled(g.enabled),b._open=!1,g.enabled&&g.open&&b._showDD(),void 0):(b.destroy(),y((r?"shieldComboBox":"shieldDropDown")+": No dataSource or underlying SELECT element found.",L),void 0)},refresh:function(a){this.refreshWithElement(this._original,a)},_focus:function(){var a=this;a._hasFocus||(a._hasFocus=!0,a._oldValue=a.value(),a.trigger(p))},_blur:function(){var b=this;setTimeout(function(){null==b.listBox||a(b.listBox.element).is(":focus")||a(b.element).is(":focus")||a(b.textElement).is(":focus")||(b._hideDD(),b._oldValue!==b.value()&&b.trigger(n),b.trigger(l),b._hasFocus=!1)},100)},_keydown:function(a){var b=this;switch(a.keyCode){case i.TAB:break;case i.UP:case i.DOWN:b._keydownUpDown(a),a.preventDefault();break;case i.ESC:case i.ENTER:a.preventDefault(),b.cancelSearch=!0,b._hideDD();break;default:b._keydownDefault(a)}},_keyup:function(){var b=this;b.options.editable&&b._utype==m&&a(b._original).attr(r,a(b.textElement).val())},_keydownUpDown:function(b){this._enabled&&a(this.listBox.element).trigger(b)},_keydownDefault:function(b){var a=this;a.listBox.clearSelection(),a._searchTimeout(b)},_searchTimeout:function(){var b=this,c=b.options.autoComplete;c&&c.enabled&&(clearTimeout(b.searchTimeout),b.searchTimeout=setTimeout(function(){b.term!==a(b.textElement).val()&&b._search()},c.delay))},_search:function(){{var b=this;b.listBox.dataSource}if(b.term=a(b.textElement).val(),b.term.length<b.options.autoComplete.minLength)return b._hideDD(),void 0;b.cancelSearch=!1,b.pending++,a(b.textElement).addClass("sui-autocomplete-loading");for(var d in b.listBox.dataSource.filter)for(var c=0;c<b.listBox.dataSource.filter[d].length;c++)b.listBox.dataSource.filter[d][c].value=b.term;b.listBox.dataSource.read()},_dsChange:function(){var b=this,d=b._original,e=b._utype,c=b.textElement.val();return b._dsLoaded?(b.pending--,b.pending||a(b.textElement).removeClass("sui-autocomplete-loading"),!b.cancelSearch&&b._hasData()?b._showDD():b._hideDD(),e==o?d.val(c):e==m&&d.attr(r,c),b.trigger(v,{index:-1,item:c}),void 0):(b._dsLoaded=!0,!b.options.editable&&b.listBox.selected().length<=0&&b.listBox.selected(0),b._onLBSelChanged(),void 0)},_hasData:function(){var a=this.listBox.dataSource.view;return a&&a.length>0},_onLBSelChanged:function(){var i,m,j,c,a=this,k=a.options,l=k.editable,f=a.listBox,b=f.selectedItems(),g=f.options.textTemplate,h=f.options.valueTemplate,e=k.inputTemplate,n=d(e),o=q(g)?g:function(a){return u(g,a)},p=q(h)?h:function(a){return u(h,a)};b&&b.length>0?(m=p.call(a,b[0]),j=o.call(a,b[0]),n?(i=q(e)?e:function(a){return u(e,a)},c=i.call(a,b[0])):c=j,l?a.textElement.val(c):a.textElement.html(c)):l?a.textElement.val(""):a.textElement.html("&nbsp;")},_onDD:function(){var a=this,b=a.textElement;a.options.editable?(b.focus(),cb(b)):a.element.focus(),a._open?a._hideDD():a._hasData()&&a._showDD()},_position:function(){var c=this,b=a(c.element),e=a(c.listBox.element),d=b.offset(),f=b.outerHeight();e.css({top:d.top+f,left:d.left,width:b.innerWidth()})},_showDD:function(){var b=this,c=b.listBox,f=a(c.element),d=b.options.animation;b._enabled&&(b._position(),d&&d.enabled?f.slideDown(d.openDelay,e(c.ensureActiveViewableINTERNAL,c)):(f.show(),c.ensureActiveViewableINTERNAL()),b._open=!0)},_hideDD:function(){var b=this,d=a(b.listBox.element),c=b.options.animation;c&&c.enabled?d.slideUp(c.closeDelay):d.hide(),b._open=!1},enabled:function(){var d,c=this,e=c.options.editable,f=a(c.element),g=c.textElement,h=c.ddElement,i=c._original,j=[].slice.call(arguments);return j.length>0?(d=!!j[0],d?(f.removeAttr(b).removeClass(e?"sui-combobox-disabled":"sui-dropdown-disabled"),g.removeAttr(b),h.removeAttr(b),i.removeAttr(b)):(c._open&&c._hideDD(),f.attr(b,b).addClass(e?"sui-combobox-disabled":"sui-dropdown-disabled"),g.attr(b,b),h.attr(b,b),i.attr(b,b)),c._enabled=d,void 0):c._enabled},selected:function(){var a,c=this,b=c.listBox,e=[].slice.call(arguments);return e.length>0?(a=e[0],b.clearSelection(),d(a)&&(a=U(a),a>-1?b.selected(a):c.options.editable||b.selected(0)),c._onLBSelChanged(),void 0):(a=b.selected(),a&&a.length>0?a[0]:-1)},selectedItem:function(){var b=this,a=b.listBox.selectedItems();return a&&a.length>0?a[0]:null},value:function(){var b,c=this,d=c.listBox,e=[].slice.call(arguments);return e.length>0?(d.clearSelection(),d.values(e[0]),c._onLBSelChanged(),void 0):(b=d.values(),b&&b.length>0?b[0]:c.options.editable?a(c.textElement).val():null)},text:function(){var b=this,c=b.listBox.texts();return c&&c.length>0?c[0]:b.options.editable?a(b.textElement).val():null},destroy:function(){var b=this,e=(b.options.editable,a(b.element)),c=a(b.textElement),d=a(b.ddElement);c.off(h,b._onDDHandler),d.off(h,b._onDDHandler),b._onDDHandler=null,a(A).off(B,b._winResizeHandler),b._winResizeHandler=null,e.off(k,b._keydownHandler).off(W,b._keyupHandler).off(l,b._blurHandler),b.dataSource=null,b.listBox&&(b.listBox.dataSource.off(n,b._dsChangeHandler),b._dsChangeHandler=null,b.listBox.destroy(),b.listBox=null),a(b.listElement).remove(),c.remove(),d.remove(),_keydownHandler=_keyupHandler=_blurHandler=null,b._original.unwrap().show(),b._original=null,f.fn.destroy.call(b)}}),x.defaults=O,g.ui.plugin("ComboBox",x),bb=N({},O,{editable:!1,autoComplete:c}),M=x.extend({init:function(b,a){a&&(a.editable=!1,a.autoComplete=c),x.prototype.init.call(this,b,a)}}),M.defaults=bb,g.ui.plugin("DropDown",M),gb={enabled:!0,cls:c,toggle:!1,checked:!1,events:{}},L=f.extend({init:function(c){f.fn.init.apply(this,arguments);var b=this,c=a(b.element),d=b.options,g=d.cls;c.addClass("sui-button sui-unselectable"),g&&c.addClass(g),b._clickHandler=e(b._click,b),c.on(h,b._clickHandler),b.enabled(d.enabled),d.toggle&&(b._checked=!!d.checked,b._checked?c.addClass("sui-button-checked"):c.removeClass("sui-button-checked"))},_click:function(d){var b=this,c=a(b.element);b._enabled&&(b.options.toggle&&(b._checked=!b._checked,b._checked?c.addClass("sui-button-checked"):c.removeClass("sui-button-checked")),b.trigger(h,d))},checked:function(){var b=this,c=a(b.element),d=[].slice.call(arguments);return d.length>0?(b.options.toggle&&(b._checked=!!d[0],b._checked?c.addClass("sui-button-checked"):c.removeClass("sui-button-checked")),void 0):b._checked},enabled:function(){var c,d=this,e=a(d.element),f=[].slice.call(arguments);return f.length>0?(c=!!f[0],c?e.removeAttr(b).removeClass("sui-button-disabled"):e.attr(b,b).addClass("sui-button-disabled"),d._enabled=c,void 0):d._enabled},destroy:function(){var a=this,b=a.options.cls;a.element.removeClass("sui-button sui-button-checked sui-button-disabled sui-unselectable"+(b?" "+b:"")).off(h,a._clickHandler),a._clickHandler=null,f.fn.destroy.call(a)}}),L.defaults=gb,g.ui.plugin("Button",L),ib={enabled:!0,enableThreeStates:!1,enableLabelClick:!0,checked:!1,label:"",events:{}},R=f.extend({init:function(g){var d,c,m,i,b=this;f.fn.init.apply(this,arguments),d=b.options;var g=a(b.element).addClass("sui-checkbox-input");m=g.attr(j),g.attr(j,"0"),i=b.wrapper=g.wrap("<span class='sui-checkbox'/>").parent().attr(j,m);var l=a("<span class='sui-checkbox-element sui-checkbox-unchecked' />");l.appendTo(i),b.checkBoxElement=l,a("<span class='sui-checkmark' />").appendTo(l),d.label?(c=a("<label class='sui-checkbox-label' />"),c.appendTo(i),c.attr("for",g.id),c.get(0).innerHTML=d.label,d.enableLabelClick&&c.addClass("sui-checkbox-label-hover")):(c=g.parent().parent(),c&&!c.is("label")&&(c=a('label[for="'+g.get(0).id+'"]')),c&&d.enableLabelClick&&c.addClass("sui-checkbox-label-hover")),g.attr("checked")&&(d.checked=!0),b.enabled(d.enabled),b.checked(d.checked),b.enabled&&(b._clickHandler=e(b._click,b),l.on(h,b._clickHandler),b._keydownHandler=e(b._keydown,b),l.on(k,b._keydownHandler),c&&d.enableLabelClick&&(c.on(h,b._clickHandler),c.on(k,b._keydownHandler))),i.onselectstart=function(){return!1},i.onmousedown=function(){return!1}},_click:function(c){{var b=this;a(b.element)}b._checked?b._checked=b.options.enableThreeStates?null:!1:b._checked===!1?b._checked=!0:null===b._checked&&(b._checked=!1),b.checked(b._checked),b.trigger(h,c),c.preventDefault(),c.stopPropagation()},_keydown:function(a){a.keyCode==i.SPACE&&this._click(a)},hide:function(){a(this.wrapper).hide()},show:function(){a(this.wrapper).show()},isVisible:function(){return a(this.wrapper).is(":visible")},checked:function(){var c=this,g=[].slice.call(arguments),b=a(c.element),d=c.wrapper,f=d.find(".sui-checkmark");if(!(g.length>0))return c._checked;var e=g[0];c._checked=e,e?(d.find(".sui-checkbox-element").removeClass("sui-checkbox-unchecked sui-checkbox-indeterminate").addClass("sui-checkbox-checked"),b.attr(s,s),b.data("1"),z.ie&&z.version<=8&&f.css("filter","progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=0.7071067811865475, M21=-0.7071067811865475, M22=0.7071067811865476)")):e===!1?(d.find(".sui-checkbox-element").removeClass("sui-checkbox-checked sui-checkbox-indeterminate").addClass("sui-checkbox-unchecked"),b.removeAttr(s),b.data("0"),f.css("filter","")):null===e&&c.options.enableThreeStates&&(d.find(".sui-checkbox-element").removeClass("sui-checkbox-checked sui-checkbox-unchecked").addClass("sui-checkbox-indeterminate"),b.removeAttr(s),b.data("2"),f.css("filter",""))},enabled:function(){var c=this,d=[].slice.call(arguments),e=a(c.element);if(!(d.length>0))return c.enabled;var f=!!d[0];f?(c.wrapper.removeAttr(b).removeClass("sui-checkbox-disabled"),e.removeAttr(b)):(c.wrapper.attr(b,b).addClass("sui-checkbox-disabled"),e.attr(b,b)),c.enabled=f},destroy:function(){var a=this;a.element.removeClass("sui-checkbox-input").removeAttr(j),a.checkBoxElement&&a.checkBoxElement.off(h,a._clickHandler),a.wrapper&&(a.wrapper.find(".sui-checkbox-label").off(h,a._clickHandler).end().removeAttr(b).removeClass("sui-checkbox-disabled").replaceWith(a.element),a.wrapper=null),a._clickHandler=null,a._keydownHandler=null,f.fn.destroy.call(a)}}),R.defaults=ib,g.ui.plugin("CheckBox",R),X={enabled:!0,enableLabelClick:!0,checked:!1,label:"",events:{}},Q=f.extend({init:function(g){var d,c,m,i,b=this;f.fn.init.apply(this,arguments),d=b.options;var g=b.element.addClass("sui-radiobutton-input");m=g.attr(j),g.attr(j,"0"),i=b.wrapper=g.wrap("<span class='sui-radiobutton'/>").parent(),i.attr(j,m);var l=a("<span class='sui-radiobutton-element' />");l.appendTo(i),b.radioButtonElement=l,a("<span class='sui-checkmark' />").appendTo(l),d.label?(c=a("<label class='sui-radiobutton-label' />"),c.appendTo(i),c.attr("for",b.element.id),c.get(0).innerHTML=d.label,d.enableLabelClick&&c.addClass("sui-radiobutton-label-hover")):(c=g.parent().parent(),c&&!c.is("label")&&(c=a('label[for="'+g.get(0).id+'"]')),c&&d.enableLabelClick&&c.addClass("sui-radiobutton-label-hover")),g.attr("checked")&&(d.checked=!0),b.enabled(d.enabled),d.checked?b.checked(d.checked):b._checked=!1,d.enabled&&(b._clickHandler=e(b._click,b),l.on(h,b._clickHandler),b._keydownHandler=e(b._keydown,b),l.on(k,b._keydownHandler),c&&d.enableLabelClick&&(c.on(h,b._clickHandler),c.on(k,b._keydownHandler))),i.onselectstart=function(){return!1},i.onmousedown=function(){return!1}},_click:function(c){{var b=this;a(b.element)}b._uncheckAllFromSameGroup(),b._checked||(b._checked=!0),b.checked(b._checked),b.trigger(h,c),c.preventDefault(),c.stopPropagation()},_keydown:function(a){a.keyCode==i.SPACE&&this._click(a)},hide:function(){a(this.wrapper).hide()},show:function(){a(this.wrapper).show()},isVisible:function(){return a(this.wrapper).is(":visible")},checked:function(){var a=this,b=[].slice.call(arguments);return b.length>0?(a._uncheckAllFromSameGroup(),a._checkInternal(b[0]),void 0):a._checked},_checkInternal:function(d){var b=this,c=a(b.element);b._checked=d,d?(b.wrapper.find(".sui-radiobutton-element").removeClass("sui-radiobutton-unchecked sui-radiobutton-indeterminate").addClass("sui-radiobutton-checked"),c.attr(s,s),c.data("0")):(b.wrapper.find(".sui-radiobutton-element").removeClass("sui-radiobutton-checked"),c.removeAttr(s),c.data("1"))},_uncheckAllFromSameGroup:function(){var b=this,c=a(b.element);a("input[type=radio][name='"+c.attr("name")+"']").each(function(){var b=a(this).swidget();b&&b._checkInternal(!1)})},enabled:function(){var c=this,d=[].slice.call(arguments),e=a(c.element);if(!(d.length>0))return c.enabled;var f=!!d[0];f?(c.wrapper.removeAttr(b).removeClass("sui-radiobutton-disabled"),e.removeAttr(b)):(c.wrapper.attr(b,b).addClass("sui-radiobutton-disabled"),e.attr(b,b)),c.enabled=f},destroy:function(){var a=this;if(a.element.removeClass("sui-radiobutton-input").removeAttr(j),a.radioButtonElement&&(a.radioButtonElement.off(h,a._clickHandler),a.radioButtonElement.off(k,a._keydownHandler)),a.radioButtonElement=null,a.wrapper){var c=a.label;c&&(c.off(h,a._clickHandler),c.off(k,a._keydownHandler)),a.label=null,a.wrapper.removeAttr(b).removeClass("sui-radiobutton-disabled"),a.wrapper.replaceWith(a.element),a.wrapper=null}a._clickHandler=null,a._keydownHandler=null,f.fn.destroy.call(a)}}),Q.defaults=X,g.ui.plugin("RadioButton",Q)}(jQuery,shield,function(){return this}());
!function(a,b){var h=b.ui.Widget,q=(b.Class,b.Constants),e=document,n=q.SVG_NS,l=!!e.createElementNS&&!!e.createElementNS(n,"svg").createSVGRect,j=(a.map,a.each,a.proxy,b.to.int),r=b.is.func,t=(b.error,Math.min),u=Math.max,g="disabled",d="px",s="float",f="left",k="right",i="horizontal",m="vertical",c="circular",o=function(c,d,a,e){var b=(e-90)*Math.PI/180;return{x:c+a*Math.cos(b),y:d+a*Math.sin(b)}},p=function(b,c,a,d,e){var f=o(b,c,a,e),g=o(b,c,a,d),h=180>=e-d?"0":"1",i=["M",f.x,f.y,"A",a,a,0,h,0,g.x,g.y].join(" ");return i};progressBarDefaults={enabled:!0,min:0,max:100,value:0,layout:i,layoutOptions:{circular:{width:30,color:"#197BB5",colorDisabled:"#C4C4C4",borderColor:"#C4C4C4",borderWidth:1,backgroundColor:"#FFFFFF"}},reversed:!1,text:{enabled:!1,template:"{0}"},events:{}},ProgressBar=h.extend({init:function(j){h.fn.init.apply(this,arguments);var d,b=this,j=a(b.element),n=b.options,g=n.layout;j.addClass("sui-progressbar"),g==m?j.addClass("sui-progressbar-vertical"):g==c&&j.addClass("sui-progressbar-circular"),g!=c&&(b.inner=a("<div/>").addClass("sui-progressbar-value").appendTo(j)),g==i?(d=b.inner.css(s)||f,d=n.reversed?d==f?k:f:d==k?k:f,b.inner.css({"float":d})):g==c&&(l||e.namespaces.scvprogressbar||e.namespaces.add("scvprogressbar","urn:schemas-microsoft-com:vml","#default#VML")),b._value=n.value,b._render(),b.enabled(n.enabled)},_render:function(){var C,K,P,f=this,t=f.options,A=t.layout,N=t.reversed,E=t.min,F=t.max,z=f._value,x=t.text,w=a(f.element),q=w.width(),k=w.height(),H=f.inner,L=F-E,I=j(100*(z-E)/L),R=r(x.template)?x.template:function(a){return b.format(x.template,a)};if(A==m)C=j(I*k/100),H.css({width:"100%",height:C+d,"margin-top":(N?"0":k-C)+d});else if(A==i)H.css({width:I+"%",height:k+d});else{if(A!=c)return;var e="",u=t.layoutOptions[A],B=u.width,G=u.borderWidth,y=f._enabled?u.color:u.colorDisabled,M=u.borderColor,J=u.backgroundColor,g=q/2,h=k/2,v=(q>k?h:g)-B/2-1,o=2*v,O=j(360*(z-E)/L),D=N?360-O:0,Q=D+O,s=B-2*G;l?(e='<svg xmlns="'+n+'" version="1.1" width="'+q+'" height="'+k+'">',G>0&&(e+='<circle cx="'+g+'" cy="'+h+'" r="'+v+'" stroke="'+M+'" stroke-width="'+B+'" fill="none" />'),z>=F?e+='<circle cx="'+g+'" cy="'+h+'" r="'+v+'" stroke="'+y+'" stroke-width="'+s+'" fill="none" />':(e+='<circle cx="'+g+'" cy="'+h+'" r="'+v+'" stroke="'+J+'" stroke-width="'+s+'" fill="none" />',e+='<path d="'+p(g,h,v,D,Q)+'" stroke="'+y+'" stroke-width="'+s+'" fill="none" />'),e+="</svg>"):(e+='<scvprogressbar:group style="width:'+q+"px; height:"+k+'px;" coordsize="'+q+","+k+'">',G>0&&(e+='<scvprogressbar:oval style="width:'+o+"px; height:"+o+"px; position:relative; top:"+h+"px; left:"+g+'px;" strokeweight="'+B+'px" strokecolor="'+M+'" fill="false"><scvprogressbar:fill opacity="0%" color="transparent" /></scvprogressbar:oval>'),z>=F?e+='<scvprogressbar:oval style="width:'+o+"px; height:"+o+"px; position:relative; top:"+h+"px; left:"+g+'px;" strokeweight="'+s+'px" strokecolor="'+y+'" fill="false"><scvprogressbar:fill opacity="0%" color="transparent" /></scvprogressbar:oval>':(e+='<scvprogressbar:oval style="width:'+o+"px; height:"+o+"px; position:relative; top:"+h+"px; left:"+g+'px;" strokeweight="'+s+'px" strokecolor="'+J+'" fill="false"><scvprogressbar:fill opacity="0%" color="transparent" /></scvprogressbar:oval>',e+='<scvprogressbar:arc style="width:'+o+"px; height:"+o+"px; position:relative; top:"+h+"px; left:"+g+'px;" fill="false" strokeweight="'+s+'px" strokecolor="'+y+'" startangle="'+D+'" endangle="'+Q+'"><scvprogressbar:fill opacity="0%" color="transparent" /></scvprogressbar:arc>'),e+="</scvprogressbar:group>"),w.html(e)}x.enabled&&(w.find(".sui-progressbar-text").remove(),f.text=a("<div/>").addClass("sui-progressbar-text").html(R.call(this,f._value)).appendTo(w),K=f.text.width(),P=f.text.height(),f.text.css({top:(k-P)/2+d,left:(q-K)/2+d}))},value:function(){var b,a=this,c=a.options,d=[].slice.call(arguments);if(!(d.length>0))return a._value;if(a._enabled){b=u(t(d[0],c.max),c.min);var e=a.trigger("change",{value:b});e.isDefaultPrevented()||(a._value=b,a._render(),b>=c.max&&a.trigger("complete"))}},enabled:function(){var d,b=this,e=a(b.element),f=[].slice.call(arguments);return f.length>0?(d=!!f[0],d?e.removeAttr(g).removeClass("sui-progressbar-disabled"):e.attr(g,g).addClass("sui-progressbar-disabled"),b._enabled=d,b.options.layout==c&&b._render(),void 0):b._enabled},destroy:function(){var b=this;a(b.element).removeClass("sui-progressbar sui-progressbar-disabled sui-progressbar-vertical sui-progressbar-circular").empty(),h.fn.destroy.call(b)}}),ProgressBar.defaults=progressBarDefaults,b.ui.plugin("ProgressBar",ProgressBar)}(jQuery,shield,function(){return this}());
!function(a,g,v,u){var q,o,n=g.ui.Widget,k=(g.Class,g.format),i=g.is.func,j=a.proxy,t=navigator.userAgent,w=v.opera,s=/msie/i.test(t)&&!w,c="month",d="year",e="decade",f="century",b="click",r="selectstart",h="change",p="viewChange",m="depthChange";q={enabled:!0,readOnly:!1,hover:!0,footer:{enabled:!0,footerTemlpate:"Today"},min:new Date(1900,0,1),max:new Date(2099,11,31),value:u,focused:new Date,labels:{previous:"Previous",next:"Next"},view:{depth:c,start:c},dayTemplate:"{day}",otherMonthDayTemplate:"{day}",outOfRangeDayTemplate:"&nbsp;",dateTooltipTemplate:"{date:MM/dd/yyyy}",events:{}};var l=function(a){var b=!1,d="Webkit Moz ms O".split(" "),e=document.createElement("div"),f=null;if(a=a.toLowerCase(),e.style[a]&&(b=!0),b===!1){f=a.charAt(0).toUpperCase()+a.substr(1);for(var c=0;c<d.length;c++)if(void 0!==e.style[d[c]+f]){b=!0;break}}return b};o=n.extend({init:function(){n.fn.init.apply(this,arguments);var a=this,c=a.options,d=c.value;a.element.addClass("sui-calendar"),a._focusedDate=c.focused,a._view=c.view.start,a._enabled=c.enabled,d&&(a._focusedDate=a._selectedDate=new Date(d.getFullYear(),d.getMonth(),d.getDate())),a._initializeHeader(),a._render(),c.footer.enabled&&a._initializeFooter(),!c.readOnly&&c.enabled?(a.element.find(".sui-prev").on(b,a._movePrev=j(a._movePrevHandler,a)),a.element.find(".sui-next").on(b,a._moveNext=j(a._moveNextHandler,a)),a.element.find(".sui-text").on(b,a._changeViewDepth=j(a._changeViewDepthHandler,a)),a.element.find(".sui-footer").on(b,a._selectToday=j(a._selectTodayHandler,a))):c.readOnly?a.element.addClass("sui-read-only"):a.element.addClass("sui-calendar-disabled"),s&&a.element.on(r,a._selectStart=function(){return!1})},_calendarSelectionHandler:function(o){{var b=this,j=a(o.target).closest("td"),i=b._focusedDate;b.options.view.depth}if(j.length&&!j.hasClass("sui-out-of-range")&&!j.hasClass("sui-no-hover")&&b._enabled)switch(b._calendarTable.find(".sui-focused").removeClass("sui-focused"),b._view){case c:var g=new Date(j.attr("data-value")),q=b._shouldChangeView(g),l=!1;g.getTime()>b._focusedDate&&(l=!0),b._focusedDate=g,b._selectedDate=g,q&&(b._animationBegins(l),b._renderView(),b._animationEnds(l),b.trigger(p)),b._selectDateCell(g),b.trigger(h);break;case d:var n=parseInt(j.attr("data-value"),10),g=new Date(i.getFullYear(),n,i.getDate());g.getDate()!=i.getDate()&&(g=new Date(i.getFullYear(),n+1,0)),b._focusedDate=g,b.options.view.depth==d?(b._selectedDate=g,b._selectDateCell(g),b.trigger(h)):(b._view=c,b._viewDepthAnimationBegins(),b._renderView(),b._viewDepthAnimationEnds(),b.trigger(m));break;case e:var k=parseInt(j.attr("data-value"),10),g=new Date(k,i.getMonth(),i.getDate());g.getDate()!=i.getDate()&&(g=new Date(k,i.getMonth()+1,0)),b._focusedDate=g,b.options.view.depth==e?(b._selectedDate=g,b._selectDateCell(g),b.trigger(h)):(b._view=d,b._viewDepthAnimationBegins(),b._renderView(),b._viewDepthAnimationEnds(),b.trigger(m));break;case f:var k=parseInt(j.attr("data-value"),10),g=new Date(k,i.getMonth(),i.getDate());g.getDate()!=i.getDate()&&(g=new Date(k,i.getMonth()+1,0)),b._focusedDate=g,b.options.view.depth==f?(b._selectedDate=g,b._selectDateCell(g),b.trigger(h)):(b._view=e,b._viewDepthAnimationBegins(),b._renderView(),b._viewDepthAnimationEnds(),b.trigger(m))}},_shouldChangeView:function(i){var j=this,k=j._focusedDate,g=!1,a=k.getFullYear(),b=i.getFullYear();switch(j._view){case c:(b!=a||i.getMonth()!=k.getMonth())&&(g=!0);break;case d:b!=a&&(g=!0);break;case e:var h=a-a%10,l=h+10;(h>b||b>l)&&(g=!0);break;case f:var h=a-a%100,l=h+100;(h>b||b>l)&&(g=!0)}return g},_selectTodayHandler:function(){var a=this,b=new Date,e=a._shouldChangeView(b),c=!1;if(a._enabled){var d=new Date(b.getFullYear(),b.getMonth(),b.getDate());d.getTime()>a._focusedDate&&(c=!0),a._selectedDate=a._focusedDate=d,a._view!=a.options.view.depth?(a._view=a.options.view.depth,a._viewDepthAnimationBegins(),a._renderView(),a._viewDepthAnimationEnds(),a.trigger(m)):e?(a._animationBegins(c),a._renderView(),a._animationEnds(c),a.trigger(p)):a._selectDateCell(a._focusedDate),a.trigger(h)}},_selectDateCell:function(b){var g=this,h=null;switch(g._view){case c:h=g._calendarTable.find(".sui-date:not('.sui-other-month')").filter(function(){var d=a(this).attr("data-value"),c=new Date(d);return c.getDate()==b.getDate()&&c.getMonth()==b.getMonth()&&c.getFullYear()==b.getFullYear()});break;case d:h=g._calendarTable.find(".sui-month").filter(function(){return a(this).attr("data-value")==b.getMonth()});break;case e:h=g._calendarTable.find(".sui-year").filter(function(){return a(this).attr("data-value")==b.getFullYear()});break;case f:h=g._calendarTable.find(".sui-years").filter(function(){var c=parseInt(a(this).attr("data-value"),10);return b.getFullYear()>=c&&b.getFullYear()<c+10})}g._calendarTable.find(".sui-selected").removeClass("sui-selected"),h.addClass("sui-selected")},_viewDepthAnimationBegins:function(){var a=this;if(!l("transition"))return a._calendarTable.empty(),void 0;a._enabled=!1;var b=a._calendarTable;b.bind("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){b.unbind("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend"),b.remove(),a._enabled=!0}),b.addClass("sui-fade-in"),a._renderTable()},_viewDepthAnimationEnds:function(){l("transition")&&this._calendarTable.addClass("sui-scaling")},_changeViewDepthHandler:function(){var a=this,b=[c,d,e,f],g=jQuery.inArray(a._view,b);3>g&&a._enabled&&(a._view=b[g+1],a._viewDepthAnimationBegins(),a._renderView(),a._viewDepthAnimationEnds())},_movePrevMonth:function(){var b=this,a=b._focusedDate,c=(b._view,new Date(a.getFullYear(),a.getMonth()-1,a.getDate()));c.getDate()!=a.getDate()&&(c=new Date(a.getFullYear(),a.getMonth(),0)),b._focusedDate=c},_moveNextMonth:function(){var b=this,a=b._focusedDate,c=(b._view,new Date(a.getFullYear(),a.getMonth()+1,a.getDate()));c.getDate()!=a.getDate()&&(c=new Date(a.getFullYear(),a.getMonth()+2,0)),b._focusedDate=c},_movePrevYears:function(d){var b=this,a=b._focusedDate,c=(b._view,new Date(a.getFullYear()-d,a.getMonth(),a.getDate()));c.getMonth()!=a.getMonth()&&(c=new Date(a.getFullYear()-d,a.getMonth()+1,0)),b._focusedDate=c,b._calendarTable.empty()},_moveNextYears:function(d){var b=this,a=b._focusedDate,c=(b._view,new Date(a.getFullYear()+d,a.getMonth(),a.getDate()));c.getMonth()!=a.getMonth()&&(c=new Date(a.getFullYear()+d,a.getMonth()+1,0)),b._focusedDate=c,b._calendarTable.empty()},_animationBegins:function(c){var b=this;return l("transition")?(b._calendarTable.removeClass("sui-scaling"),b._tableWrapper=a("<div>").insertAfter(b.element.find(".sui-header")),b._tableWrapper.width(2*b.element.width()),b.element.find(".sui-calendar-view").appendTo(b._tableWrapper),b._renderTable(c),c||(b._tableWrapper.css("position","relative"),b._tableWrapper.css("left","-"+b.element.width()+"px")),b._tableWrapper.addClass("sui-calendar-animation"),b._enabled=!1,b._tableWrapper.bind("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){b._tempTable.remove(),b._calendarTable.insertAfter(b.element.find(".sui-header")),b._tableWrapper.unbind("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend"),b._tableWrapper.remove(),b._tableWrapper=null,b._enabled=!0}),void 0):(b._calendarTable.empty(),void 0)},_animationEnds:function(c){var b=this;if(l("transition")){var a=b.element.width();c&&(a=-1*a),b._tableWrapper.css("transform","translateX("+a+"px)")}},_moveView:function(b){var a=this;switch(a._animationBegins(b),a._view){case c:b?a._moveNextMonth():a._movePrevMonth(),a._createMonthView();break;case d:b?a._moveNextYears(1):a._movePrevYears(1),a._createYearsView();break;case e:b?a._moveNextYears(10):a._movePrevYears(10),a._createDecadeView();break;case f:b?a._moveNextYears(100):a._movePrevYears(100),a._createcenturyView()}a._animationEnds(b),a.trigger(p)},_disablePrev:function(c){var a=this,b=a.element.find(".sui-prev");c?(a.preventPrevNavigation=!0,b.addClass("sui-calendar-disabled")):(a.preventPrevNavigation=!1,b.removeClass("sui-calendar-disabled"))},_disableNext:function(c){var a=this,b=a.element.find(".sui-next");c?(a.preventNextNavigation=!0,b.addClass("sui-calendar-disabled")):(a.preventNextNavigation=!1,b.removeClass("sui-calendar-disabled"))},_movePrevHandler:function(){var a=this;!a.preventPrevNavigation&&a._enabled&&a._moveView(!1)},_moveNextHandler:function(){var a=this;!a.preventNextNavigation&&a._enabled&&a._moveView(!0)},_initializeHeader:function(){var c=this,b=c.options.labels;this._header=a('<div class="sui-header"><span unselectable="on"  title="'+b.previous+'" class="sui-prev"><span unselectable="on" class="sui-left-arrow"></span></span><span class="sui-text"></span><span unselectable="on" title="'+b.next+'" class="sui-next"><span unselectable="on" class="sui-right-arrow"></span></span></div>').appendTo(this.element)},_renderTable:function(f){var c=this,d=c.options,e="sui-calendar-view";d.hover&&d.enabled&&(e+=" sui-hoverable"),c._calendarTable?(c.element.find(".sui-calendar-view").off(b,c._calendarSelection),c._calendarSelection=null,f?(c._tempTable=c.element.find(".sui-calendar-view"),c._calendarTable=a("<table />").width(c.element.width()).addClass(e).insertAfter(c._tempTable)):(c._tempTable=c.element.find(".sui-calendar-view"),c._calendarTable=a("<table />").width(c.element.width()).addClass(e).insertBefore(c._tempTable))):c._calendarTable=a("<table />").width(c.element.width()).addClass(e).insertAfter(c.element.find(".sui-header")),!d.readOnly&&d.enabled&&c.element.find(".sui-calendar-view").on(b,c._calendarSelection=j(c._calendarSelectionHandler,c))},_render:function(){this._renderTable(),this._renderView()},_renderView:function(){var a=this;switch(a._view){case c:a._createMonthView();break;case d:a._createYearsView();break;case e:a._createDecadeView();break;case f:a._createcenturyView();break;default:a._createMonthView()}},_initializeFooter:function(){var c=this,d=c.options,b=d.footer.footerTemlpate;footerTemplateFunc=i(b)?b:function(a){return k(b,a)},a('<div class="sui-footer"><span class="sui-footer-text">'+footerTemplateFunc.call(c,new Date)+"</span></div>").appendTo(this.element)},_createMonthView:function(){var b=this,j=b.options,p=b._focusedDate,z=b._calendarTable,C=g.getCalendarInfo(),w=C.days,M=C.months,y=w.namesShort,R=w.namesAbbr,N=w.names,I=j.min,G=j.max,q=j.dayTemplate,r=j.otherMonthDayTemplate,s=j.dateTooltipTemplate,t=j.outOfRangeDayTemplate;dayTemplateFunc=i(q)?q:function(a){return k(q,a)},otherMonthDayTemplateFunc=i(r)?r:function(a){return k(r,a)},dateTooltipTemplateFunc=i(s)?s:function(a){return k(s,a)},outOfRangeDayTemplateFunc=i(t)?t:function(a){return k(t,a)};for(var L=a("<thead />").appendTo(z),Q=a("<tr />").addClass("sui-week-header").appendTo(L),D="",d=0;d<y.length;d++){{y[d]}D+="<th scope='col' abbr='"+R[d]+"' title='"+N[d]+"'>"+y[d]+"</th>"}Q.html(D);var P=a('<tbody class="sui-days"/>').appendTo(z),f=p.getFullYear(),e=p.getMonth(),n=new Date(f,e,1).getDay(),O=new Date(f,e+1,0).getDay(),F=new Date(f,e+1,0).getDate(),B=7;b._header.find(".sui-text").text(M.names[e]+" "+f),0==n&&(n=7,B=0);var x=-1*n+1,m=6-O+F+B,v=0,E=null,u="";m-x>42&&(m-=7),35>m-x&&(m+=7);for(var d=x;m>=d;d++){var c=new Date(f,e,d,0,0,0,0),H="sui-date",o=c.getTime()<I.getTime()||c.getTime()>G.getTime()?" sui-out-of-range":"",h=1>d||d>F?" sui-other-month":"",J=6==c.getDay()||0==c.getDay()?" sui-weekend":"",K=o||p.getDate()!=d||h?"":" sui-focused",A=b._selectedDate&&c.getTime()==b._selectedDate.getTime()&&!h?" sui-selected":"",l=null;o?(l=outOfRangeDayTemplateFunc.call(b,{date:c,day:c.getDate()}),h="",J="",K="",A="",H=""):h?(l=otherMonthDayTemplateFunc.call(b,{date:c,day:c.getDate()}),""==l&&(h+=" sui-no-hover")):l=dayTemplateFunc.call(b,{date:c,day:c.getDate()}),u+="<td title='"+dateTooltipTemplateFunc.call(b,{date:c,day:c.getDate()})+"' data-value='"+c.getFullYear()+"/"+(c.getMonth()+1)+"/"+c.getDate()+"' class='"+H+h+J+K+A+o+"'>"+l+"</td>",v++,7==v&&(E=a('<tr role="row" />').appendTo(P),E.html(u),v=0,u="")}var S=new Date(f,e,1,0,0,0,0),T=new Date(f,e+1,0);S.getTime()<=I.getTime()?b._disablePrev(!0):b.element.find(".sui-prev").hasClass("sui-calendar-disabled")&&b._disablePrev(!1),T.getTime()>=G.getTime()?b._disableNext(!0):b.element.find(".sui-next").hasClass("sui-calendar-disabled")&&b._disableNext(!1)},_createYearsView:function(){var b=this,m=b.options,v=b._calendarTable,e=b._focusedDate,y=g.getCalendarInfo(),s=y.months,x=s.names,q=s.namesAbbr,w=a('<tbody class="sui-months"/>').appendTo(v),o=null,n="",i=m.min,l=m.max,k="",j=0;b._header.find(".sui-text").text(e.getFullYear());for(var c=0;c<q.length;c++){var f=new Date(e.getFullYear(),c,e.getDate(),0,0,0,0),u=e.getMonth()==c?" sui-focused":"";m.view.depth==d&&(k=b._selectedDate&&f.getTime()==b._selectedDate.getTime()?" sui-selected":"");var h="",t=x[c],r=q[c],p="sui-month";(f.getFullYear()<=i.getFullYear()&&f.getMonth()<i.getMonth()||f.getFullYear()>=l.getFullYear()&&f.getMonth()>l.getMonth())&&(h=" sui-out-of-range"),h&&(u="",k="",t=r="&nbsp;",p=""),n+="<td data-value='"+c+"' class='"+p+u+k+h+"' title='"+t+"'>"+r+"</td>",j++,4==j&&(o=a("<tr />").appendTo(w),o.html(n),j=0,n="")}e.getFullYear()<=i.getFullYear()?b._disablePrev(!0):b.element.find(".sui-prev").hasClass("sui-calendar-disabled")&&b._disablePrev(!1),e.getFullYear()>=l.getFullYear()?b._disableNext(!0):b.element.find(".sui-next").hasClass("sui-calendar-disabled")&&b._disableNext(!1)},_createDecadeView:function(){var b=this,j=b.options,x=b._calendarTable,i=b._focusedDate,d=i.getFullYear(),s=d%10,w=a('<tbody class="sui-decade"/>').appendTo(x),r=null,n="",o=0,q=j.min,v=j.max,g=d-s-1,l="",h=d+(10-s);b._header.find(".sui-text").text(g+1+"-"+(h-1));for(var c=g;h>=c;c++){var k=new Date(c,i.getMonth(),i.getDate(),0,0,0,0),t=c==g||c==h?" sui-other-year":"",u=d==c?" sui-focused":"",m="",f=c,p="sui-year";(k.getFullYear()<q.getFullYear()||k.getFullYear()>v.getFullYear())&&(m=" sui-out-of-range"),j.view.depth==e&&(l=b._selectedDate&&k.getTime()==b._selectedDate.getTime()?" sui-selected":""),m&&(t="",u="",l="",p="",f="&nbsp;"),n+="<td data-value='"+f+"' class='"+p+t+u+l+m+"' title='"+f+"'>"+f+"</td>",o++,4==o&&(r=a("<tr />").appendTo(w),r.html(n),o=0,n="")}g<q.getFullYear()?b._disablePrev(!0):b.element.find(".sui-prev").hasClass("sui-calendar-disabled")&&b._disablePrev(!1),h>v.getFullYear()?b._disableNext(!0):b.element.find(".sui-next").hasClass("sui-calendar-disabled")&&b._disableNext(!1)},_createcenturyView:function(){var b=this,o=b.options,z=b._calendarTable,d=b._focusedDate,g=d.getFullYear(),y=g%100,w=a('<tbody class="sui-decade"/>').appendTo(z),r=null,k="",l="",m=o.min,q=o.max,p=0,e=g-y-10,i=e+99+10+2;b._header.find(".sui-text").text(e+10+"-"+(i-2));for(var c=e;i>c;c+=10){var s=c==e||c==i-1?" sui-other-years":"",h=new Date(c,d.getMonth(),d.getDate(),0,0,0,0),x=new Date(c+10,d.getMonth(),d.getDate(),0,0,0,0),n="",t=g>=c&&c+10>g?" sui-focused":"",u="sui-years",j=c+" - "+(c+9),v=c;(h.getFullYear()<m.getFullYear()&&x.getFullYear()<=m.getFullYear()||h.getFullYear()>q.getFullYear())&&(n=" sui-out-of-range"),o.view.depth==f&&(l=b._selectedDate&&b._selectedDate.getFullYear()>=h.getFullYear()&&b._selectedDate.getFullYear()<h.getFullYear()+10?" sui-selected":""),n&&(s="",t="",l="",u="",currentYear=v=j="&nbsp;"),k+="<td data-value='"+v+"' class='"+u+s+t+l+n+"' title='"+j+"'>"+j+"</td>",p++,4==p&&(r=a("<tr />").appendTo(w),r.html(k),p=0,k="")}e<m.getFullYear()?b._disablePrev(!0):b.element.find(".sui-prev").hasClass("sui-calendar-disabled")&&b._disablePrev(!1),i>q.getFullYear()?b._disableNext(!0):b.element.find(".sui-next").hasClass("sui-calendar-disabled")&&b._disableNext(!1)},value:function(){var a=this,c=a.options,e=c.min,f=c.max,d=[].slice.call(arguments);if(!(d.length>0))return a._selectedDate;var b=d[0];b.getTime()<e.getTime()||b.getTime()>f.getTime()||(a._focusedDate=a._selectedDate=b,a._calendarTable.empty(),a._renderView())},enabled:function(){var a=this,d=a.options,b=[].slice.call(arguments);if(!(b.length>0))return a._enabled;var c=b[0];c?(d.hover&&a._calendarTable.addClass("sui-hoverable"),a.element.removeClass("sui-calendar-disabled")):(a._calendarTable.removeClass("sui-hoverable"),a.element.addClass("sui-calendar-disabled")),a._enabled=c},previous:function(){var a=this;a.preventPrevNavigation||a._moveView(!1)},next:function(){var a=this;a.preventNextNavigation||a._moveView(!0)},view:function(){var a=this,b=[].slice.call(arguments);if(!(b.length>0))return a._view;var c=b[0];c!=a._view&&(a._view=c,a._calendarTable.empty(),a._renderView())},focused:function(){var a=this,b=[].slice.call(arguments);if(!(b.length>0))return a._focusedDate;a._focusedDate=b[0];b.length>1&&a._view!=b[1]&&(a._view=b[1]),a._calendarTable.empty(),a._renderView()},destroy:function(){var a=this;a.element.removeClass("sui-calendar").removeClass("sui-read-only").removeClass("sui-calendar-disabled"),a._focusedDate=null,a._header=null,a._calendarTable=null,a._view=null,a._enabled=null,a._selectedDate=null,a._tempTable=null,a._tableWrapper=null,a.element.find(".sui-prev").off(b,a._movePrev),a._movePrev=null,a.element.find(".sui-next").off(b,a._moveNext),a._moveNext=null,a.element.find(".sui-text").off(b,a._changeViewDepth),a._changeViewDepth=null,a.element.find(".sui-footer").off(b,a._selectToday),a._selectToday=null,a.element.find(".sui-calendar-view").off(b,a._calendarSelection),a._calendarSelection=null,a.element.off(r,a._selectStart),a._selectStart=null,a.element.empty(),n.fn.destroy.call(a)}}),o.defaults=q,g.ui.plugin("Calendar",o)}(jQuery,shield,function(){return this}());